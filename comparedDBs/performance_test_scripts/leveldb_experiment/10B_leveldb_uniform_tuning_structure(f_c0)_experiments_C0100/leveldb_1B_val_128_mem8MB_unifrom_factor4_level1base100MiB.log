LevelDB:    version 1.23
Date:       Sat Jan 11 00:35:45 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f4_mem8MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f4_mem8MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3254630
../../../leveldb/build_release_f_4_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f4_mem8MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f4_memory_usage_1B_key16_val128_mem8MiB_factor4_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=8388608 --max_file_size=8388608 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-11 01:10:56 ... thread 0: (99999999,99999999) ops and (47365.1,47365.1) ops/second in (2111.260357,2111.260357) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6      39     125        0        0     14210     14210      0     277  2157     0       0     0      0   277         0 0.000000 0.000000
    1    37     251     903    65797    65797     65625     65625      0    1366  1501     0       0     0   7520  1366       284 0.000000 8.156788
    2   119     795     494    43460    43460     43369     43369      0    1194  1235     0       0     0   4832  1194       437 8.156788 8.159459
    3   400    3192     385    34241    34241     34033     34033      0     630   630     0       0     0   3548   630       556 8.159459 1.696156
    4  1147    9301     152    13669    13669     13509     13509      0       0     0     0       0     0   1352     0         0 1.696156 0.000000
user_io:14210.230MB total_ios: 170745.934MB WriteAmplification: 12.0157
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-11 01:53:53 ... thread 0: (100000000,199999999) ops and (38803.7,42659.1) ops/second in (2577.075098,4688.335455) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3      20     250        0        0     28434     28434      0     550  4325     0       0     0      0   550         0 0.000000 0.000000
    1    35     247    1854   133037   133037    132684    132684      0    2834  3095     0       0     0  15294  2834       529 0.000000 8.156802
    2   112     793    1032    89054    89054     88855     88855      0    2671  2781     0       0     0  10076  2671       744 8.156802 1.772168
    3   432    3192     871    75734    75734     75251     75251      0    1802  1817     0       0     0   8069  1802      1140 1.772168 8.158653
    4  1171    9187     540    47884    47884     47029     47029      0       0     0     0       0     0   4974     0      1607 8.158653 8.162390
    5  1607   13106       0        0        0         0         0      0       0     0     0       0     0      0     0         0 8.162390 0.000000
user_io:28433.613MB total_ios: 372253.317MB WriteAmplification: 13.0920
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-11 02:42:05 ... thread 0: (100000000,299999999) ops and (34578.4,39576.2) ops/second in (2891.977202,7580.312657) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       7     375        0        0     42664     42664      0     821  6493     0       0     0      0   821         0 0.000000 0.000000
    1    34     244    2809   200331   200331    199795    199795      0    4304  4698     0       0     0  23071  4304       769 0.000000 8.160804
    2   110     796    1567   134292   134292    133986    133986      0    4166  4338     0       0     0  15269  4166      1032 8.160804 1.966972
    3   434    3194    1369   117915   117915    117155    117155      0    3249  3272     0       0     0  12910  3249      1434 1.966972 8.162621
    4  1595   12798    1026    89342    89342     87589     87589      0     614   614     0       0     0   9356   614      2133 8.162621 7.568576
    5  2681   21770     156    13751    13751     13250     13250      0       0     0     0       0     0   1378     0         0 7.568576 0.000000
user_io:42663.558MB total_ios: 594439.355MB WriteAmplification: 13.9332
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-11 03:36:01 ... thread 0: (100000000,399999999) ops and (30899.8,36980.3) ops/second in (3236.270521,10816.583178) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7      46     501        0        0     56894     56894      0    1091  8653     0       0     0      0  1091         0 0.000000 0.000000
    1    30     207    3761   267407   267407    266690    266690      0    5774  6300     0       0     0  30849  5774      1006 0.000000 8.156935
    2   120     823    2102   179401   179401    178989    178989      0    5776  6038     0       0     0  20428  5776      1186 8.156935 3.209761
    3   451    3216    1899   162897   162897    161830    161830      0    4691  4730     0       0     0  18115  4691      1730 3.209761 8.162683
    4  1584   12795    1544   133227   133227    130422    130422      0    2190  2190     0       0     0  14114  2190      2133 8.162683 7.568576
    5  4034   32819     536    47475    47475     45487     45487      0       0     0     0       0     0   4739     0         0 7.568576 0.000000
user_io:56893.503MB total_ios: 840311.484MB WriteAmplification: 14.7699
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-11 04:30:34 ... thread 0: (100000000,499999999) ops and (30557.9,35488.5) ops/second in (3272.477445,14089.060623) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4      26     626        0        0     71117     71117      0    1362 10821     0       0     0      0  1362         0 0.000000 0.000000
    1    33     228    4718   334711   334711    333812    333812      0    7240  7895     0       0     0  38631  7240      1251 0.000000 8.160691
    2   114     815    2640   224838   224838    224318    224318      0    7327  7662     0       0     0  25662  7327      1411 8.160691 2.523895
    3   470    3199    2401   205328   205328    203978    203978      0    5942  6063     0       0     0  22956  5942      2217 2.523895 8.161187
    4  1611   12797    2017   173262   173262    169427    169427      0    3779  3780     0       0     0  18459  3779      2133 8.161187 7.568576
    5  5256   42887     986    87751    87751     83192     83192      0       0     0     0       0     0   8937     0         0 7.568576 0.000000
user_io:71116.876MB total_ios: 1085842.998MB WriteAmplification: 15.2684
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-11 05:26:36 ... thread 0: (100000000,599999999) ops and (29740.3,34381.0) ops/second in (3362.441293,17451.501916) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2      13     751        0        0     85347     85347      0    1633 12989     0       0     0      0  1633         0 0.000000 0.000000
    1    31     203    5677   402004   402004    400923    400923      0    8718  9510     0       0     0  46420  8718      1484 0.000000 8.159567
    2   120     848    3173   269820   269820    269193    269193      0    8891  9317     0       0     0  30869  8891      1611 8.159567 8.161580
    3   432    3199    2920   249195   249195    247547    247547      0    7458  7628     0       0     0  27999  7458      2433 8.161580 8.161263
    4  1765   12795    2463   210945   210945    206273    206273      0    5389  5396     0       0     0  22519  5389      2133 8.161263 7.568576
    5  6277   51193    1496   133429   133429    125322    125322      0       0     0     0       0     0  13772     0       118 7.568576 8.160446
    6   118     963       0        0        0         0         0      0       0     0     0       0     0      0     0         0 8.160446 0.000000
user_io:85346.814MB total_ios: 1334604.784MB WriteAmplification: 15.6374
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-11 06:22:36 ... thread 0: (100000000,699999999) ops and (29769.2,33636.6) ops/second in (3359.174481,20810.676397) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     8      53     877        0        0     99577     99577      0    1903 15149     0       0     0      0  1903         0 0.000000 0.000000
    1    30     199    6630   469091   469091    467828    467828      0   10192 11098     0       0     0  54193 10192      1719 0.000000 0.191598
    2   112     801    3711   315309   315309    314575    314575      0   10468 10983     0       0     0  36138 10468      1807 0.191598 8.161404
    3   485    3229    3435   292863   292863    290917    290917      0    9042  9273     0       0     0  32893  9042      2591 8.161404 8.162675
    4  1797   12805    3006   257100   257100    251290    251290      0    6494  6517     0       0     0  28132  6494      2603 8.162675 8.161002
    5  6304   51195    1881   168227   168227    157046    157046      0       1     1     0       0     0  17482     1      1270 8.161002 8.163660
    6  1271   10359       0       24       24        22        22      0       0     0     0       0     0      2     0         0 8.163660 0.000000
user_io:99576.774MB total_ios: 1581255.206MB WriteAmplification: 15.8798
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-11 07:22:02 ... thread 0: (100000000,799999999) ops and (28036.5,32817.2) ops/second in (3566.784947,24377.461344) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5      33    1002        0        0    113800    113800      0    2174 17317     0       0     0      0  2174         0 0.000000 0.000000
    1    34     235    7587   536425   536425    534980    534980      0   11668 12690     0       0     0  61977 11668      1957 0.000000 8.156908
    2   120     814    4256   361329   361329    360487    360487      0   12011 12602     0       0     0  41496 12011      2023 8.156908 1.951999
    3   442    3199    3939   335481   335481    333253    333253      0   10702 10984     0       0     0  37783 10702      2683 1.951999 0.947001
    4  1885   12798    3504   299502   299502    292722    292722      0    8107  8197     0       0     0  32805  8107      2603 0.947001 8.161002
    5  6388   51195    2469   221662   221662    205301    205301      0       1     1     0       0     0  23192     1      2198 8.161002 8.163359
    6  2199   17870       0       24       24        22        22      0       0     0     0       0     0      2     0         0 8.163359 0.000000
user_io:113800.160MB total_ios: 1840565.912MB WriteAmplification: 16.1737
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-11 08:16:38 ... thread 0: (100000000,899999999) ops and (30527.4,32545.9) ops/second in (3275.750005,27653.211349) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3      20    1127        0        0    128030    128030      0    2445 19485     0       0     0      0  2445         0 0.000000 0.000000
    1    36     248    8542   603691   603691    602065    602065      0   13156 14296     0       0     0  69764 13156      2187 0.000000 8.158990
    2   108     798    4797   407002   407002    406053    406053      0   13586 14249     0       0     0  46807 13586      2223 8.158990 8.159604
    3   435    3197    4467   380284   380284    377752    377752      0   12204 12526     0       0     0  42933 12204      2907 8.159604 8.162580
    4  1790   12795    3980   340195   340195    332501    332501      0    9052  9144     0       0     0  37677  9052      3283 8.162580 8.160818
    5  6442   51200    2768   248375   248375    229794    229794      0       1     1     0       0     0  26017     1      3510 8.160818 8.163369
    6  3511   28389       0       24       24        22        22      0       0     0     0       0     0      2     0         0 8.163369 0.000000
user_io:128030.107MB total_ios: 2076217.737MB WriteAmplification: 16.2166
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-11 09:09:05 ... thread 0: (100000000,999999999) ops and (31774.8,32467.2) ops/second in (3147.145103,30800.356452) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5      33    1257        0        0    142253    142253      0    2717 21648     0       0     0      0  2717         0 0.000000 0.000000
    1    36     245    9488   670647   670647    668840    668840      0   14603 15858     0       0     0  77515 14603      2455 0.000000 8.156911
    2   118     798    5327   451682   451682    450629    450629      0   15084 15809     0       0     0  51949 15084      2509 8.156911 2.303467
    3   464    3197    4952   421172   421172    418376    418376      0   13550 13900     0       0     0  47472 13550      3325 2.303467 2.001278
    4  1600   12799    4441   379294   379294    370773    370773      0    9557  9705     0       0     0  42063  9557      4523 2.001278 8.160697
    5  4571   35377    2989   268631   268631    247928    247928      0       1     1     0       0     0  28279     1      6826 8.160697 8.162358
    6  6827   54922       0       24       24        22        22      0       0     0     0       0     0      2     0         0 8.162358 0.000000
user_io:142253.484MB total_ios: 2298821.954MB WriteAmplification: 16.1600
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      30.800 micros/op 32467 ops/sec;    4.5 MB/s
Microseconds per op:
Count: 1000000000  Average: 30.8004  StdDev: 267.98
Percentiles: P50: 4.85 P75: 5.66 P99: 1110.34 P99.9: 1193.02 P99.99: 4137.23
------------------------------------------------------
[       2,       3 ) 1071293   0.107%   0.107%
[       3,       4 ) 109385127  10.939%  11.046% ##
[       4,       5 ) 455902124  45.590%  56.636% #########
[       5,       6 ) 276284842  27.628%  84.264% ######
[       6,       7 ) 77265501   7.727%  91.991% ##
[       7,       8 ) 25210174   2.521%  94.512% #
[       8,       9 ) 10357880   1.036%  95.548%
[       9,      10 ) 5115749   0.512%  96.059%
[      10,      12 ) 4492101   0.449%  96.508%
[      12,      14 ) 2199706   0.220%  96.728%
[      14,      16 ) 2087898   0.209%  96.937%
[      16,      18 ) 2946408   0.295%  97.232%
[      18,      20 ) 2581412   0.258%  97.490%
[      20,      25 ) 2402130   0.240%  97.730%
[      25,      30 )  421249   0.042%  97.772%
[      30,      35 )   76994   0.008%  97.780%
[      35,      40 )   22079   0.002%  97.782%
[      40,      45 )   11902   0.001%  97.783%
[      45,      50 )    7904   0.001%  97.784%
[      50,      60 )   53716   0.005%  97.790%
[      60,      70 )   10892   0.001%  97.791%
[      70,      80 )    8902   0.001%  97.792%
[      80,      90 )    5917   0.001%  97.792%
[      90,     100 )    3529   0.000%  97.793%
[     100,     120 )    7296   0.001%  97.793%
[     120,     140 )   10467   0.001%  97.794%
[     140,     160 )    4350   0.000%  97.795%
[     160,     180 )    3052   0.000%  97.795%
[     180,     200 )    2759   0.000%  97.795%
[     200,     250 )    5160   0.001%  97.796%
[     250,     300 )    3112   0.000%  97.796%
[     300,     350 )    2706   0.000%  97.796%
[     350,     400 )    2870   0.000%  97.797%
[     400,     450 )    2624   0.000%  97.797%
[     450,     500 )    2698   0.000%  97.797%
[     500,     600 )    5159   0.001%  97.798%
[     600,     700 )    5291   0.001%  97.798%
[     700,     800 )    3271   0.000%  97.799%
[     800,     900 )    1787   0.000%  97.799%
[     900,    1000 )    1377   0.000%  97.799%
[    1000,    1200 ) 21770003   2.177%  99.976%
[    1200,    1400 )   45736   0.005%  99.981%
[    1400,    1600 )   16267   0.002%  99.982%
[    1600,    1800 )   10131   0.001%  99.983%
[    1800,    2000 )    8269   0.001%  99.984%
[    2000,    2500 )   17166   0.002%  99.986%
[    2500,    3000 )   14058   0.001%  99.987%
[    3000,    3500 )   12270   0.001%  99.988%
[    3500,    4000 )   13429   0.001%  99.990%
[    4000,    4500 )   11889   0.001%  99.991%
[    4500,    5000 )   10417   0.001%  99.992%
[    5000,    6000 )    7656   0.001%  99.993%
[    6000,    7000 )    3675   0.000%  99.993%
[    7000,    8000 )    1958   0.000%  99.993%
[    8000,    9000 )    1521   0.000%  99.993%
[    9000,   10000 )    1683   0.000%  99.994%
[   10000,   12000 )    3154   0.000%  99.994%
[   12000,   14000 )    3809   0.000%  99.994%
[   14000,   16000 )    4266   0.000%  99.995%
[   16000,   18000 )    4505   0.000%  99.995%
[   18000,   20000 )    4875   0.000%  99.996%
[   20000,   25000 )   11755   0.001%  99.997%
[   25000,   30000 )   12767   0.001%  99.998%
[   30000,   35000 )   11087   0.001%  99.999%
[   35000,   40000 )    6884   0.001% 100.000%
[   40000,   45000 )    1314   0.000% 100.000%
[   45000,   50000 )      21   0.000% 100.000%
[   50000,   60000 )      19   0.000% 100.000%
[   60000,   70000 )       6   0.000% 100.000%
[   70000,   80000 )       1   0.000% 100.000%
[  200000,  250000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5       33      1257        0    142253
  1       36      245      9488   670647    668840
  2      118      798      5327   451682    450629
  3      464     3197      4952   421172    418376
  4     1600    12799      4441   379294    370773
  5     4571    35377      2989   268631    247928
  6     6827    54922         0       24        22
user_io:142253.484MB total_ios: 2298821.954MB WriteAmplification: 16.1600

Checking if iostat process with PID 3254629 is still running...
    PID TTY          TIME CMD
3254629 pts/1    00:00:00 iostat
iostat process 3254629 is still running, killing now...
iostat process 3254629 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0100.sh: line 43: 3254629 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '3254630':

     31,194,290.95 msec task-clock                       #    1.013 CPUs utilized
        57,467,631      context-switches                 #    1.842 K/sec
             5,192      cpu-migrations                   #    0.166 /sec
        10,346,483      page-faults                      #  331.679 /sec
101,394,259,164,074      cycles                           #    3.250 GHz
231,687,517,088,818      instructions                     #    2.29  insn per cycle
33,241,096,200,349      branches                         #    1.066 G/sec
    81,888,550,311      branch-misses                    #    0.25% of all branches
                        TopdownL1                 #      1.3 %  tma_backend_bound
                                                  #     91.2 %  tma_bad_speculation
                                                  #      3.8 %  tma_frontend_bound
                                                  #      3.7 %  tma_retiring

   30799.882525916 seconds time elapsed
