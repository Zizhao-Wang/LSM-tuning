LevelDB:    version 1.23
Date:       Thu Jan  9 07:06:41 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f32_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f32_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3003080
../../../leveldb/build_release_f_32_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f32_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f32_memory_usage_1B_key16_val128_mem64MiB_factor32_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-09 07:33:54 ... thread 0: (99999999,99999999) ops and (61243.0,61243.0) ops/second in (1632.840963,1632.840963) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     133        0        0     14002     14002      0      35   268     0       0     0      0    35         0 0.000000 0.000000
    1    14     602     265    19623    19623     19542     19542      0     246   269     0       0     0    142   246         1 0.000000 65.260374
    2   105    6348    1167   104972   104972    104506    104506      0       8     8     0       0     0   1519     8        95 65.260374 65.276535
    3   103    6491      29     2614     2614      2601      2601      0       0     0     0       0     0     34     0         0 65.276535 0.000000
user_io:14001.624MB total_ios: 140650.297MB WriteAmplification: 10.0453
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-09 08:11:42 ... thread 0: (100000000,199999999) ops and (44092.3,51271.4) ops/second in (2267.967344,3900.808307) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     267        0        0     28160     28160      0      68   532     0       0     0      0    68         0 0.000000 0.000000
    1     9     390     529    39161    39161     38945     38945      0     524   562     0       0     0    306   524         1 0.000000 65.260374
    2   119    6572    2713   241164   241164    239996    239996      0     141   142     0       0     0   3669   141       171 65.260374 10.900416
    3   297   18857     316    28994    28994     28403     28403      0       0     0     0       0     0    370     0         0 10.900416 0.000000
user_io:28159.986MB total_ios: 335503.136MB WriteAmplification: 11.9142
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-09 08:54:08 ... thread 0: (100000000,299999999) ops and (39266.7,46529.7) ops/second in (2546.684037,6447.492344) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     402        0        0     42318     42318      0     102   804     0       0     0      0   102         0 0.000000 0.000000
    1    11     528     804    59383    59383     59028     59028      0     791   847     0       0     0    482   791         1 0.000000 65.260374
    2   125    6410    4261   376493   376493    374608    374608      0     353   364     0       0     0   5991   353       171 65.260374 10.900416
    3   474   30362     859    79018    79018     76552     76552      0       0     0     0       0     0   1034     0         0 10.900416 0.000000
user_io:42318.350MB total_ios: 552506.695MB WriteAmplification: 13.0560
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-09 09:39:09 ... thread 0: (100000000,399999999) ops and (37022.0,43722.6) ops/second in (2701.097847,9148.590191) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     535        0        0     56424     56424      0     136  1076     0       0     0      0   136         0 0.000000 0.000000
    1    15     595    1077    79459    79459     78965     78965      0    1069  1144     0       0     0    652  1069         1 0.000000 65.260374
    2   130    6360    5845   514453   514453    511843    511843      0     572   598     0       0     0   8523   572       171 65.260374 10.900416
    3   641   40719    1523   140606   140606    135169    135169      0       0     0     0       0     0   1870     0         0 10.900416 0.000000
user_io:56424.465MB total_ios: 782401.537MB WriteAmplification: 13.8664
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-09 10:25:31 ... thread 0: (100000000,499999999) ops and (35953.0,41911.2) ops/second in (2781.409089,11929.999280) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     669        0        0     70583     70583      0     170  1348     0       0     0      0   170         0 0.000000 0.000000
    1    12     490    1351    99648    99648     99015     99015      0    1346  1439     0       0     0    827  1346         1 0.000000 65.260374
    2   136    6409    7420   651833   651833    648496    648496      0     794   844     0       0     0  11187   794       172 65.260374 0.000306
    3   791   50132    2280   211295   211295    201870    201870      0       0     0     0       0     0   2849     0         0 0.000306 0.000000
user_io:70582.823MB total_ios: 1019964.701MB WriteAmplification: 14.4506
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-09 11:13:15 ... thread 0: (100000000,599999999) ops and (34919.3,40557.7) ops/second in (2863.748063,14793.747343) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     802        0        0     84741     84741      0     204  1620     0       0     0      0   204         0 0.000000 0.000000
    1    14     612    1627   119922   119922    119150    119150      0    1626  1731     0       0     0    999  1626         1 0.000000 65.260374
    2   147    6391    8959   786023   786023    781971    781971      0    1031  1086     0       0     0  13957  1031       172 65.260374 0.000306
    3   925   58553    3142   292257   292257    278000    278000      0       0     0     0       0     0   3995     0         0 0.000306 0.000000
user_io:84741.175MB total_ios: 1263861.855MB WriteAmplification: 14.9144
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-09 12:03:03 ... thread 0: (100000000,699999999) ops and (33467.7,39366.3) ops/second in (2987.952813,17781.700156) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     936        0        0     98900     98900      0     238  1892     0       0     0      0   238         0 0.000000 0.000000
    1    13     580    1906   140181   140181    139269    139269      0    1900  2017     0       0     0   1171  1900         1 0.000000 65.260374
    2   147    6394   10518   920591   920591    915814    915814      0    1270  1355     0       0     0  16852  1270       172 65.260374 0.000306
    3  1054   66241    4107   382330   382330    362387    362387      0       0     0     0       0     0   5283     0         0 0.000306 0.000000
user_io:98899.538MB total_ios: 1516369.947MB WriteAmplification: 15.3324
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-09 12:53:28 ... thread 0: (100000000,799999999) ops and (33049.6,38447.8) ops/second in (3025.752009,20807.452165) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1068        0        0    113006    113006      0     271  2156     0       0     0      0   271         0 0.000000 0.000000
    1    12     504    2178   159769   159769    158722    158722      0    2174  2303     0       0     0   1337  2174         1 0.000000 65.260374
    2   161    6464   12082  1054054  1054054   1048568   1048568      0    1488  1611     0       0     0  19819  1488       172 65.260374 0.000306
    3  1165   72985    5111   475822   475822    449667    449667      0       0     0     0       0     0   6618     0         0 0.000306 0.000000
user_io:113005.655MB total_ios: 1769962.792MB WriteAmplification: 15.6626
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-09 13:46:18 ... thread 0: (100000000,899999999) ops and (31548.9,37535.8) ops/second in (3169.683267,23977.135432) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313    1201        0        0    127164    127164      0     305  2428     0       0     0      0   305         0 0.000000 0.000000
    1    14     560    2462   180096   180096    178910    178910      0    2454  2600     0       0     0   1508  2454         2 0.000000 1.565181
    2   163    6390   13682  1189656  1189656   1183454   1183454      0    1729  1853     0       0     0  22946  1729       172 1.565181 0.000306
    3  1258   79290    6208   577683   577683    544460    544460      0       0     0     0       0     0   8090     0         0 0.000306 0.000000
user_io:127164.013MB total_ios: 2033987.863MB WriteAmplification: 15.9950
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-09 14:41:43 ... thread 0: (100000000,999999999) ops and (30079.7,36627.8) ops/second in (3324.500747,27301.636179) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261    1335        0        0    141322    141322      0     339  2700     0       0     0      0   339         0 0.000000 0.000000
    1    15     588    2743   200198   200198    198873    198873      0    2739  2900     0       0     0   1679  2739         3 0.000000 4.093060
    2   169    6376   15324  1327689  1327689   1320766   1320766      0    1981  2109     0       0     0  26287  1981       172 4.093060 0.000306
    3  1357   84976    7409   688184   688184    647309    647309      0       0     0     0       0     0   9698     0         0 0.000306 0.000000
user_io:141322.374MB total_ios: 2308271.400MB WriteAmplification: 16.3334
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      27.302 micros/op 36627 ops/sec;    5.0 MB/s
Microseconds per op:
Count: 1000000000  Average: 27.3016  StdDev: 159.97
Percentiles: P50: 5.82 P75: 6.69 P99: 1098.38 P99.9: 1190.02 P99.99: 1199.18
------------------------------------------------------
[       2,       3 )   53724   0.005%   0.005%
[       3,       4 ) 11669999   1.167%   1.172%
[       4,       5 ) 174954085  17.495%  18.668% ###
[       5,       6 ) 383385497  38.339%  57.006% ########
[       6,       7 ) 260346908  26.035%  83.041% #####
[       7,       8 ) 99148870   9.915%  92.956% ##
[       8,       9 ) 31711223   3.171%  96.127% #
[       9,      10 ) 10704073   1.070%  97.197%
[      10,      12 ) 5553493   0.555%  97.753%
[      12,      14 ) 1089077   0.109%  97.862%
[      14,      16 )  410505   0.041%  97.903%
[      16,      18 )  244468   0.024%  97.927%
[      18,      20 )  226407   0.023%  97.950%
[      20,      25 )  458562   0.046%  97.996%
[      25,      30 )  197111   0.020%  98.015%
[      30,      35 )   53428   0.005%  98.021%
[      35,      40 )   13947   0.001%  98.022%
[      40,      45 )    4633   0.000%  98.023%
[      45,      50 )    3548   0.000%  98.023%
[      50,      60 )   63687   0.006%  98.029%
[      60,      70 )    9218   0.001%  98.030%
[      70,      80 )    7154   0.001%  98.031%
[      80,      90 )    6347   0.001%  98.032%
[      90,     100 )    2714   0.000%  98.032%
[     100,     120 )    4300   0.000%  98.032%
[     120,     140 )    4056   0.000%  98.033%
[     140,     160 )    1221   0.000%  98.033%
[     160,     180 )    1057   0.000%  98.033%
[     180,     200 )    1012   0.000%  98.033%
[     200,     250 )    3258   0.000%  98.033%
[     250,     300 )     608   0.000%  98.033%
[     300,     350 )     379   0.000%  98.033%
[     350,     400 )     486   0.000%  98.034%
[     400,     450 )     430   0.000%  98.034%
[     450,     500 )     322   0.000%  98.034%
[     500,     600 )     588   0.000%  98.034%
[     600,     700 )     516   0.000%  98.034%
[     700,     800 )     223   0.000%  98.034%
[     800,     900 )      99   0.000%  98.034%
[     900,    1000 )      90   0.000%  98.034%
[    1000,    1200 ) 19643315   1.964%  99.998%
[    1200,    1400 )    8274   0.001%  99.999%
[    1400,    1600 )    1933   0.000%  99.999%
[    1600,    1800 )     851   0.000%  99.999%
[    1800,    2000 )     368   0.000%  99.999%
[    2000,    2500 )     322   0.000%  99.999%
[    2500,    3000 )     184   0.000%  99.999%
[    3000,    3500 )     200   0.000%  99.999%
[    3500,    4000 )     273   0.000%  99.999%
[    4000,    4500 )     192   0.000%  99.999%
[    4500,    5000 )     162   0.000%  99.999%
[    5000,    6000 )     352   0.000%  99.999%
[    6000,    7000 )     316   0.000%  99.999%
[    7000,    8000 )     351   0.000%  99.999%
[    8000,    9000 )     348   0.000%  99.999%
[    9000,   10000 )     318   0.000% 100.000%
[   10000,   12000 )     639   0.000% 100.000%
[   12000,   14000 )     789   0.000% 100.000%
[   14000,   16000 )     752   0.000% 100.000%
[   16000,   18000 )     657   0.000% 100.000%
[   18000,   20000 )     463   0.000% 100.000%
[   20000,   25000 )     849   0.000% 100.000%
[   25000,   30000 )     377   0.000% 100.000%
[   30000,   35000 )     207   0.000% 100.000%
[   35000,   40000 )     103   0.000% 100.000%
[   40000,   45000 )      51   0.000% 100.000%
[   45000,   50000 )      22   0.000% 100.000%
[   50000,   60000 )       8   0.000% 100.000%
[   60000,   70000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5      261      1335        0    141322
  1       15      588      2743   200198    198873
  2      169     6376     15324  1327689   1320766
  3     1357    84976      7409   688184    647309
user_io:141322.374MB total_ios: 2308271.400MB WriteAmplification: 16.3334

Checking if iostat process with PID 3003079 is still running...
    PID TTY          TIME CMD
3003079 pts/1    00:00:00 iostat
iostat process 3003079 is still running, killing now...
iostat process 3003079 has been successfully killed.
./leveldb_script_uniform_C0100.sh: line 128: 3003079 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log
root@jeffwang-NF5280M6:/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment#
 Performance counter stats for process id '3003080':

     28,990,293.42 msec task-clock                       #    1.062 CPUs utilized
        24,742,131      context-switches                 #  853.463 /sec
             4,465      cpu-migrations                   #    0.154 /sec
        39,469,048      page-faults                      #    1.361 K/sec
91,374,430,447,439      cycles                           #    3.152 GHz
209,843,987,220,698      instructions                     #    2.30  insn per cycle
29,496,740,211,241      branches                         #    1.017 G/sec
    54,118,973,994      branch-misses                    #    0.18% of all branches
                        TopdownL1                 #      2.1 %  tma_backend_bound
                                                  #     90.5 %  tma_bad_speculation
                                                  #      2.9 %  tma_frontend_bound
                                                  #      4.5 %  tma_retiring

   27301.373826971 seconds time elapsed
