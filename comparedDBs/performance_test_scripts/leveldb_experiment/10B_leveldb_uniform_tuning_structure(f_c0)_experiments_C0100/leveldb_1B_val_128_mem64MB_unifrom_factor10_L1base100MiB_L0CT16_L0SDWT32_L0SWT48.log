base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Thu Jan 23 22:52:48 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT16_L0SDWT32_L0SWT48.log
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT16_L0SDWT32_L0SWT48.log
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2803017
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT16_L0SDWT32_L0SWT48.log --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_L1base100_L0CT16_L0SDWT32_L0SWT48.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-23 23:08:19 ... thread 0: (99999999,99999999) ops and (107373.9,107373.9) ops/second in (931.324850,931.324850) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    19     993     139        0        0     14002     14002      0       9   249     0       0     0      0     9         0 0.000000 0.000000
    1    19    1122     285    14285    14285     14133     14133      0     124   147     0       0     0     20   124        45 0.000000 65.266808
    2    41    2634     311    26928    26928     26808     26808      0      74    74     0       0     0    294    74        69 65.266808 0.000306
    3   139    8842     151    13002    13002     12862     12862      0       0     0     0       0     0    152     0         0 0.000306 0.000000
user_io:14001.624MB total_ios: 67804.826MB WriteAmplification: 4.8426
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-23 23:36:55 ... thread 0: (100000000,199999999) ops and (58286.4,75557.5) ops/second in (1715.664770,2646.989620) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     279        0        0     28160     28160      0      18   537     0       0     0      0    18         0 0.000000 0.000000
    1    26    1573     635    31001    31001     30599     30599      0     302   340     0       0     0     48   302        89 0.000000 65.272519
    2    46    2245     690    59049    59049     58717     58717      0     309   317     0       0     0    715   309        69 65.272519 0.000306
    3   318   19977     968    77597    77597     76035     76035      0       0     0     0       0     0   1017     0        31 0.000306 65.281542
    4    31    1965       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.281542 0.000000
user_io:28159.986MB total_ios: 193511.375MB WriteAmplification: 6.8719
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-24 00:07:03 ... thread 0: (100000000,299999999) ops and (55307.2,67339.0) ops/second in (1808.084064,4455.073684) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    17     888     422        0        0     42318     42318      0      26   793     0       0     0      0    26         0 0.000000 0.000000
    1    18    1109     952    45937    45937     45310     45310      0     478   526     0       0     0     74   478       124 0.000000 65.267422
    2    60    2717    1061    89524    89524     88987     88987      0     484   511     0       0     0   1146   484       107 65.267422 65.273435
    3   317   19995    1901   144049   144049    140712    140712      0       2     2     0       0     0   1953     2       203 65.273435 65.281912
    4   205   13094       7      522      522       507       507      0       0     0     0       0     0      6     0         0 65.281912 0.000000
user_io:42318.350MB total_ios: 317834.979MB WriteAmplification: 7.5106
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-24 00:37:26 ... thread 0: (100000000,399999999) ops and (54839.7,63708.8) ops/second in (1823.497895,6278.571579) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    31    1620     568        0        0     56424     56424      0      34  1049     0       0     0      0    34         0 0.000000 0.000000
    1     6     329    1274    60786    60786     59937     59937      0     660   720     0       0     0     99   660       155 0.000000 65.272270
    2    72    3409    1475   121989   121989    121236    121236      0     682   718     0       0     0   1614   682       128 65.272270 65.273803
    3   320   19966    2806   207930   207930    202941    202941      0       4     4     0       0     0   2863     4       381 65.273803 65.286372
    4   385   24485      12      914      914       890       890      0       0     0     0       0     0     10     0         0 65.286372 0.000000
user_io:56424.465MB total_ios: 441427.989MB WriteAmplification: 7.8233
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-24 01:13:12 ... thread 0: (100000000,499999999) ops and (46601.2,59351.1) ops/second in (2145.869274,8424.440853) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    14     731     713        0        0     70583     70583      0      43  1337     0       0     0      0    43         0 0.000000 0.000000
    1    12     756    1631    77417    77417     76319     76319      0     848   920     0       0     0    126   848       188 0.000000 30.516404
    2    64    3009    1906   156347   156347    155369    155369      0     903   958     0       0     0   2104   903       146 30.516404 65.273344
    3   318   19953    3824   280602   280602    273736    273736      0      64    65     0       0     0   3886    64       522 65.273344 15.657895
    4   575   36564     163    12130    12130     11504     11504      0       0     0     0       0     0    153     0         0 15.657895 0.000000
user_io:70582.823MB total_ios: 587510.019MB WriteAmplification: 8.3237
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-24 01:50:14 ... thread 0: (100000000,599999999) ops and (45001.9,56356.2) ops/second in (2222.128013,10646.568866) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    29    1515     861        0        0     84741     84741      0      51  1593     0       0     0      0    51         0 0.000000 0.000000
    1     6     336    1953    92302    92302     90980     90980      0    1024  1109     0       0     0    152  1024       219 0.000000 65.266594
    2    64    3452    2319   188732   188732    187540    187540      0    1105  1174     0       0     0   2567  1105       160 65.266594 65.274609
    3   339   20000    4720   344371   344371    335850    335850      0     244   245     0       0     0   4816   244       522 65.274609 15.657895
    4   711   45660     563    42832    42832     40087     40087      0       0     0     0       0     0    545     0         0 15.657895 0.000000
user_io:84741.175MB total_ios: 739198.707MB WriteAmplification: 8.7230
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-24 02:33:42 ... thread 0: (100000000,699999999) ops and (38348.0,52813.2) ops/second in (2607.698267,13254.267133) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    12     627    1007        0        0     98900     98900      0      60  1881     0       0     0      0    60         0 0.000000 0.000000
    1    20    1276    2319   109020   109020    107448    107448      0    1206  1308     0       0     0    179  1206       249 0.000000 65.272325
    2    46    2432    2748   221207   221207    219800    219800      0    1348  1434     0       0     0   3034  1348       162 65.272325 0.000306
    3   342   19947    5851   422980   422980    412327    412327      0     443   449     0       0     0   5959   443       522 0.000306 15.657895
    4   853   55041    1047    80208    80208     74264     74264      0       0     0     0       0     0   1027     0         0 15.657895 0.000000
user_io:98899.538MB total_ios: 912738.363MB WriteAmplification: 9.2289
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-24 03:12:58 ... thread 0: (100000000,799999999) ops and (42443.0,51248.0) ops/second in (2356.103876,15610.371009) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    26    1358    1151        0        0    113006    113006      0      68  2137     0       0     0      0    68         0 0.000000 0.000000
    1    16     981    2642   123790   123790    121996    121996      0    1387  1497     0       0     0    202  1387       277 0.000000 65.267414
    2    52    2768    3177   253883   253883    252258    252258      0    1561  1660     0       0     0   3505  1561       165 65.267414 9.503027
    3   353   19979    6809   489305   489305    476900    476900      0     617   630     0       0     0   6967   617       522 9.503027 15.657895
    4   964   62509    1506   115586   115586    105999    105999      0       0     0     0       0     0   1488     0         0 15.657895 0.000000
user_io:113005.655MB total_ios: 1070158.030MB WriteAmplification: 9.4700
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-24 03:56:04 ... thread 0: (100000000,899999999) ops and (38669.9,49460.4) ops/second in (2585.993142,18196.364151) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     9     470    1297        0        0    127164    127164      0      77  2425     0       0     0      0    77         0 0.000000 0.000000
    1    23    1448    3008   140541   140541    138497    138497      0    1580  1702     0       0     0    230  1580       304 0.000000 65.272763
    2    46    2328    3609   286709   286709    284869    284869      0    1800  1914     0       0     0   3977  1800       166 65.272763 17.591585
    3   353   19980    7846   561287   561287    547088    547088      0     816   842     0       0     0   8072   816       522 17.591585 15.657895
    4  1090   70304    2060   158520   158520    143969    143969      0       0     0     0       0     0   2046     0         0 15.657895 0.000000
user_io:127164.013MB total_ios: 1241587.342MB WriteAmplification: 9.7637
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-24 04:34:02 ... thread 0: (100000000,999999999) ops and (43902.1,48842.1) ops/second in (2277.796410,20474.160561) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    24    1254    1437        0        0    141322    141322      0      85  2681     0       0     0      0    85         0 0.000000 0.000000
    1     9     497    3324   155342   155342    153076    153076      0    1756  1892     0       0     0    254  1756       341 0.000000 65.267898
    2    68    3292    4011   318734   318734    316681    316681      0    2017  2139     0       0     0   4443  2017       166 65.267898 17.591585
    3   354   19969    8746   629493   629493    613546    613546      0     991  1029     0       0     0   9164   991       522 17.591585 15.657895
    4  1192   76477    2535   198791   198791    179225    179225      0       0     0     0       0     0   2581     0         0 15.657895 0.000000
user_io:141322.374MB total_ios: 1403849.999MB WriteAmplification: 9.9337
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      20.474 micros/op 48842 ops/sec;    6.7 MB/s
Microseconds per op:
Count: 1000000000  Average: 20.4742  StdDev: 141.45
Percentiles: P50: 5.73 P75: 6.61 P99: 1051.79 P99.9: 1185.67 P99.99: 1199.06
------------------------------------------------------
[       2,       3 )  101919   0.010%   0.010%
[       3,       4 ) 17569272   1.757%   1.767%
[       4,       5 ) 202659829  20.266%  22.033% ####
[       5,       6 ) 381563762  38.156%  60.189% ########
[       6,       7 ) 243742942  24.374%  84.564% #####
[       7,       8 ) 93756262   9.376%  93.939% ##
[       8,       9 ) 31034551   3.103%  97.043% #
[       9,      10 ) 10261445   1.026%  98.069%
[      10,      12 ) 4616896   0.462%  98.531%
[      12,      14 )  555307   0.056%  98.586%
[      14,      16 )  118832   0.012%  98.598%
[      16,      18 )   59300   0.006%  98.604%
[      18,      20 )   57728   0.006%  98.610%
[      20,      25 )  144009   0.014%  98.624%
[      25,      30 )  106668   0.011%  98.635%
[      30,      35 )   43119   0.004%  98.639%
[      35,      40 )   14219   0.001%  98.641%
[      40,      45 )    7255   0.001%  98.641%
[      45,      50 )    4601   0.000%  98.642%
[      50,      60 )   32421   0.003%  98.645%
[      60,      70 )   30019   0.003%  98.648%
[      70,      80 )    4623   0.000%  98.648%
[      80,      90 )    2102   0.000%  98.649%
[      90,     100 )    1911   0.000%  98.649%
[     100,     120 )    2857   0.000%  98.649%
[     120,     140 )    3259   0.000%  98.650%
[     140,     160 )    1937   0.000%  98.650%
[     160,     180 )    1545   0.000%  98.650%
[     180,     200 )    1893   0.000%  98.650%
[     200,     250 )   11369   0.001%  98.651%
[     250,     300 )    1791   0.000%  98.651%
[     300,     350 )     836   0.000%  98.651%
[     350,     400 )     550   0.000%  98.652%
[     400,     450 )     526   0.000%  98.652%
[     450,     500 )     423   0.000%  98.652%
[     500,     600 )     817   0.000%  98.652%
[     600,     700 )     714   0.000%  98.652%
[     700,     800 )     510   0.000%  98.652%
[     800,     900 )     438   0.000%  98.652%
[     900,    1000 )     346   0.000%  98.652%
[    1000,    1200 ) 13444333   1.344%  99.996%
[    1200,    1400 )    9247   0.001%  99.997%
[    1400,    1600 )    4748   0.000%  99.998%
[    1600,    1800 )    3266   0.000%  99.998%
[    1800,    2000 )    2456   0.000%  99.998%
[    2000,    2500 )    2444   0.000%  99.999%
[    2500,    3000 )     918   0.000%  99.999%
[    3000,    3500 )     541   0.000%  99.999%
[    3500,    4000 )     384   0.000%  99.999%
[    4000,    4500 )     321   0.000%  99.999%
[    4500,    5000 )     345   0.000%  99.999%
[    5000,    6000 )     730   0.000%  99.999%
[    6000,    7000 )     710   0.000%  99.999%
[    7000,    8000 )     690   0.000%  99.999%
[    8000,    9000 )     769   0.000%  99.999%
[    9000,   10000 )     705   0.000%  99.999%
[   10000,   12000 )    1376   0.000%  99.999%
[   12000,   14000 )    1411   0.000%  99.999%
[   14000,   16000 )    1370   0.000% 100.000%
[   16000,   18000 )    1300   0.000% 100.000%
[   18000,   20000 )     848   0.000% 100.000%
[   20000,   25000 )    1194   0.000% 100.000%
[   25000,   30000 )     531   0.000% 100.000%
[   30000,   35000 )     231   0.000% 100.000%
[   35000,   40000 )     130   0.000% 100.000%
[   40000,   45000 )      75   0.000% 100.000%
[   45000,   50000 )      34   0.000% 100.000%
[   50000,   60000 )      37   0.000% 100.000%
[   60000,   70000 )      15   0.000% 100.000%
[   70000,   80000 )      13   0.000% 100.000%
[   80000,   90000 )      10   0.000% 100.000%
[   90000,  100000 )       6   0.000% 100.000%
[  100000,  120000 )       7   0.000% 100.000%
[  120000,  140000 )       2   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0       24     1254      1437        0    141322
  1        9      497      3324   155342    153076
  2       68     3292      4011   318734    316681
  3      354    19969      8746   629493    613546
  4     1192    76477      2535   198791    179225
user_io:141322.374MB total_ios: 1403849.999MB WriteAmplification: 9.9337

Checking if iostat process with PID 2803016 is still running...
    PID TTY          TIME CMD
2803016 pts/19   00:00:00 iostat
iostat process 2803016 is still running, killing now...
iostat process 2803016 has been successfully killed.
root@jeffwang-NF5280M6:/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment#
 Performance counter stats for process id '2803017':

     22,109,788.12 msec task-clock                       #    1.080 CPUs utilized
        15,591,055      context-switches                 #  705.165 /sec
             9,696      cpu-migrations                   #    0.439 /sec
        24,686,015      page-faults                      #    1.117 K/sec
67,449,185,480,760      cycles                           #    3.051 GHz
150,108,804,402,684      instructions                     #    2.23  insn per cycle
21,376,117,376,402      branches                         #  966.817 M/sec
    41,521,175,128      branch-misses                    #    0.19% of all branches
                        TopdownL1                 #      1.3 %  tma_backend_bound
                                                  #     90.6 %  tma_bad_speculation
                                                  #      3.5 %  tma_frontend_bound
                                                  #      4.6 %  tma_retiring

   20474.052333670 seconds time elapsed
