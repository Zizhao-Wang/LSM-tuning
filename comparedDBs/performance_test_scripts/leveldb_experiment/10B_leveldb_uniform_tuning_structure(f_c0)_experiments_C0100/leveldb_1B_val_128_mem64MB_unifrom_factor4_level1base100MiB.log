LevelDB:    version 1.23
Date:       Wed Jan  8 06:43:28 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f4_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f4_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2971298
../../../leveldb/build_release_f_4_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f4_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-08 07:04:29 ... thread 0: (99999999,99999999) ops and (79250.7,79250.7) ops/second in (1261.818965,1261.818965) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     139        0        0     14002     14002      0      36   266     0       0     0      0    36         0 0.000000 0.000000
    1     5     240     268    19255    19255     19178     19178      0     138   162     0       0     0     99   138        63 0.000000 65.260614
    2    17    1105     322    27218    27218     27190     27190      0     138   142     0       0     0    295   138        58 65.260614 65.267184
    3    50    3198     365    31363    31363     31160     31160      0      61    61     0       0     0    391    61        78 65.267184 37.293239
    4   137    8903     128    11231    11231     11089     11089      0       0     0     0       0     0    138     0         0 37.293239 0.000000
user_io:14001.624MB total_ios: 102618.267MB WriteAmplification: 7.3290
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-08 07:32:15 ... thread 0: (100000000,199999999) ops and (60030.7,68314.5) ops/second in (1665.815239,2927.634204) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     277        0        0     28160     28160      0      70   537     0       0     0      0    70         0 0.000000 0.000000
    1     9     568     545    39171    39171     38957     38957      0     272   322     0       0     0    204   272       134 0.000000 65.260324
    2    14     817     636    54184    54184     54068     54068      0     314   325     0       0     0    615   314        97 65.260324 65.270874
    3    51    3140     837    71800    71800     71322     71322      0     220   224     0       0     0    946   220       133 65.270874 65.273051
    4   202   12797     560    49794    49794     48807     48807      0       1     1     0       0     0    640     1       136 65.273051 65.280728
    5   137    8939       1      131      131       129       129      0       0     0     0       0     0      1     0         0 65.280728 0.000000
user_io:28159.986MB total_ios: 241444.105MB WriteAmplification: 8.5740
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-08 08:02:02 ... thread 0: (100000000,299999999) ops and (55979.9,63640.4) ops/second in (1786.354907,4713.989111) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     416        0        0     42318     42318      0     104   809     0       0     0      0   104         0 0.000000 0.000000
    1    10     609     825    59211    59211     58859     58859      0     424   494     0       0     0    309   424       196 0.000000 65.260635
    2    14     795     969    82639    82639     82431     82431      0     498   510     0       0     0    946   498       135 65.260635 65.267905
    3    57    3136    1283   109936   109936    109186    109186      0     398   407     0       0     0   1483   398       166 65.267905 65.272091
    4   197   12766    1071    94288    94288     92311     92311      0      23    23     0       0     0   1226    23       314 65.272091 11.079888
    5   335   21518      46     4046     4046      3892      3892      0       0     0     0       0     0     49     0         0 11.079888 0.000000
user_io:42318.350MB total_ios: 388997.584MB WriteAmplification: 9.1922
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-08 08:35:52 ... thread 0: (100000000,399999999) ops and (49250.0,59308.0) ops/second in (2030.458253,6744.447364) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     552        0        0     56424     56424      0     137  1073     0       0     0      0   137         0 0.000000 0.000000
    1     5     283    1095    78717    78717     78230     78230      0     571   657     0       0     0    412   571       268 0.000000 65.261098
    2    17    1104    1281   109713   109713    109417    109417      0     679   699     0       0     0   1274   679       164 65.261098 65.268176
    3    54    3180    1742   149769   149769    148724    148724      0     539   560     0       0     0   2036   539       228 65.268176 65.275994
    4   203   12739    1517   133176   133176    130211    130211      0     215   215     0       0     0   1749   215       314 65.275994 11.079888
    5   501   32320     415    37674    37674     36034     36034      0       0     0     0       0     0    468     0         0 11.079888 0.000000
user_io:56424.465MB total_ios: 559040.714MB WriteAmplification: 9.9078
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-08 09:12:34 ... thread 0: (100000000,499999999) ops and (45414.7,55888.6) ops/second in (2201.928013,8946.375377) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     690        0        0     70583     70583      0     171  1345     0       0     0      0   171         0 0.000000 0.000000
    1     5     283    1378    98991    98991     98364     98364      0     716   826     0       0     0    516   716       335 0.000000 22.949073
    2    18    1123    1616   138382   138382    137995    137995      0     863   888     0       0     0   1606   863       197 22.949073 65.269510
    3    55    3152    2210   190126   190126    188795    188795      0     709   736     0       0     0   2588   709       270 65.269510 65.275755
    4   200   12741    2005   175173   175173    171239    171239      0     416   417     0       0     0   2332   416       314 65.275755 11.079888
    5   653   42540     858    78208    78208     74056     74056      0       0     0     0       0     0    996     0         0 11.079888 0.000000
user_io:70582.823MB total_ios: 741032.763MB WriteAmplification: 10.4988
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-08 09:50:33 ... thread 0: (100000000,599999999) ops and (43886.4,53452.2) ops/second in (2278.610721,11224.986098) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261     828        0        0     84741     84741      0     205  1617     0       0     0      0   205         0 0.000000 0.000000
    1     8     447    1656   118860   118860    118096    118096      0     866   997     0       0     0    620   866       394 0.000000 11.852694
    2    16     919    1940   166052   166052    165575    165575      0    1044  1074     0       0     0   1930  1044       237 11.852694 65.269691
    3    56    3164    2676   230028   230028    228420    228420      0     904   942     0       0     0   3149   904       288 65.269691 28.129508
    4   220   12752    2540   221521   221521    216458    216458      0     613   615     0       0     0   2957   613       314 28.129508 11.079888
    5   786   51162    1347   123270   123270    115666    115666      0       0     0     0       0     0   1590     0         8 11.079888 65.284781
    6     8     522       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.284781 0.000000
user_io:84741.175MB total_ios: 928955.843MB WriteAmplification: 10.9623
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-08 10:26:21 ... thread 0: (100000000,699999999) ops and (46554.9,52344.3) ops/second in (2148.001234,13372.987332) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     964        0        0     98900     98900      0     239  1889     0       0     0      0   239         0 0.000000 0.000000
    1     5     326    1934   139054   139054    138152    138152      0    1013  1163     0       0     0    730  1013       468 0.000000 65.260404
    2    16     978    2269   194111   194111    193542    193542      0    1230  1267     0       0     0   2262  1230       268 65.260404 65.267644
    3    55    3151    3154   271332   271332    269431    269431      0    1097  1140     0       0     0   3741  1097       307 65.267644 59.281025
    4   238   12739    2975   259858   259858    253976    253976      0     781   786     0       0     0   3506   781       350 59.281025 65.282672
    5   788   51199    1792   165289   165289    154090    154090      0       0     0     0       0     0   2153     0       151 65.282672 65.286566
    6   151    9845       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.286566 0.000000
user_io:98899.538MB total_ios: 1108090.829MB WriteAmplification: 11.2042
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-08 11:02:31 ... thread 0: (100000000,799999999) ops and (46073.4,51468.7) ops/second in (2170.447465,15543.434797) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104    1098        0        0    113006    113006      0     273  2161     0       0     0      0   273         0 0.000000 0.000000
    1     4     218    2215   159422   159422    158379    158379      0    1161  1330     0       0     0    839  1161       540 0.000000 65.261214
    2    20    1118    2597   222065   222065    221408    221408      0    1423  1464     0       0     0   2594  1423       291 65.261214 65.267161
    3    54    3195    3624   311758   311758    309572    309572      0    1286  1340     0       0     0   4301  1286       328 65.267161 65.276262
    4   217   12745    3519   307368   307368    300320    300320      0     911   925     0       0     0   4192   911       421 65.276262 16.368732
    5   801   51169    2158   200209   200209    185584    185584      0       1     1     0       0     0   2615     1       291 16.368732 65.287144
    6   292   18886       2      196      196       185       185      0       0     0     0       0     0      2     0         0 65.287144 0.000000
user_io:113005.655MB total_ios: 1288453.370MB WriteAmplification: 11.4017
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-08 11:40:44 ... thread 0: (100000000,899999999) ops and (43611.8,50458.6) ops/second in (2292.958879,17836.393676) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52    1233        0        0    127164    127164      0     307  2433     0       0     0      0   307         0 0.000000 0.000000
    1     5     278    2497   179699   179699    178516    178516      0    1308  1495     0       0     0    946  1308       610 0.000000 65.260283
    2    19    1086    2919   249387   249387    248641    248641      0    1597  1645     0       0     0   2922  1597       333 65.260283 65.268061
    3    52    3168    4098   352346   352346    349879    349879      0    1489  1545     0       0     0   4871  1489       340 65.268061 65.276020
    4   227   12781    3999   349129   349129    341188    341188      0    1115  1131     0       0     0   4774  1115       421 65.276020 16.368732
    5   809   51157    2709   252477   252477    232729    232729      0       1     1     0       0     0   3320     1       411 16.368732 65.286563
    6   412   26546       2      196      196       185       185      0       0     0     0       0     0      2     0         0 65.286563 0.000000
user_io:127164.013MB total_ios: 1478302.291MB WriteAmplification: 11.6252
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-08 12:13:30 ... thread 0: (100000000,999999999) ops and (50870.4,50499.5) ops/second in (1965.779907,19802.173583) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1367        0        0    141322    141322      0     341  2705     0       0     0      0   341         0 0.000000 0.000000
    1    10     610    2777   199695   199695    198375    198375      0    1452  1658     0       0     0   1053  1452       677 0.000000 65.260424
    2    12     760    3235   276131   276131    275298    275298      0    1785  1840     0       0     0   3231  1785       363 65.260424 65.269726
    3    56    3173    4574   392876   392876    390129    390129      0    1680  1740     0       0     0   5425  1680       366 65.269726 6.091476
    4   226   12717    4546   396479   396479    387446    387446      0    1190  1208     0       0     0   5492  1190       550 6.091476 17.544719
    5   805   51167    2878   267654   267654    246880    246880      0       2     2     0       0     0   3521     2       592 17.544719 65.285954
    6   594   38155       4      392      392       358       358      0       0     0     0       0     0      4     0         0 65.285954 0.000000
user_io:141322.374MB total_ios: 1639808.815MB WriteAmplification: 11.6033
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      19.802 micros/op 50499 ops/sec;    6.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 19.8022  StdDev: 130.39
Percentiles: P50: 5.83 P75: 6.71 P99: 1044.62 P99.9: 1184.74 P99.99: 1198.75
------------------------------------------------------
[       2,       3 )  107114   0.011%   0.011%
[       3,       4 ) 16264775   1.626%   1.637%
[       4,       5 ) 179883410  17.988%  19.626% ####
[       5,       6 ) 366569107  36.657%  56.282% #######
[       6,       7 ) 261832560  26.183%  82.466% #####
[       7,       8 ) 106982134  10.698%  93.164% ##
[       8,       9 ) 35484850   3.548%  96.712% #
[       9,      10 ) 11624254   1.162%  97.875%
[      10,      12 ) 5611037   0.561%  98.436%
[      12,      14 ) 1068045   0.107%  98.543%
[      14,      16 )  403856   0.040%  98.583%
[      16,      18 )  256322   0.026%  98.609%
[      18,      20 )  238185   0.024%  98.633%
[      20,      25 )  422676   0.042%  98.675%
[      25,      30 )  173171   0.017%  98.692%
[      30,      35 )   64925   0.006%  98.699%
[      35,      40 )   18083   0.002%  98.700%
[      40,      45 )    7293   0.001%  98.701%
[      45,      50 )    4455   0.000%  98.702%
[      50,      60 )   64220   0.006%  98.708%
[      60,      70 )   12629   0.001%  98.709%
[      70,      80 )    8037   0.001%  98.710%
[      80,      90 )    6629   0.001%  98.711%
[      90,     100 )    3223   0.000%  98.711%
[     100,     120 )    5412   0.001%  98.712%
[     120,     140 )    4107   0.000%  98.712%
[     140,     160 )    1705   0.000%  98.712%
[     160,     180 )    1495   0.000%  98.712%
[     180,     200 )    1447   0.000%  98.713%
[     200,     250 )    3462   0.000%  98.713%
[     250,     300 )     927   0.000%  98.713%
[     300,     350 )     610   0.000%  98.713%
[     350,     400 )     569   0.000%  98.713%
[     400,     450 )     511   0.000%  98.713%
[     450,     500 )     402   0.000%  98.713%
[     500,     600 )     789   0.000%  98.713%
[     600,     700 )     798   0.000%  98.713%
[     700,     800 )     420   0.000%  98.713%
[     800,     900 )     226   0.000%  98.713%
[     900,    1000 )     138   0.000%  98.713%
[    1000,    1200 ) 12846234   1.285%  99.998%
[    1200,    1400 )    6498   0.001%  99.999%
[    1400,    1600 )    2512   0.000%  99.999%
[    1600,    1800 )    1077   0.000%  99.999%
[    1800,    2000 )     379   0.000%  99.999%
[    2000,    2500 )     330   0.000%  99.999%
[    2500,    3000 )     202   0.000%  99.999%
[    3000,    3500 )     264   0.000%  99.999%
[    3500,    4000 )     252   0.000%  99.999%
[    4000,    4500 )     301   0.000%  99.999%
[    4500,    5000 )     335   0.000%  99.999%
[    5000,    6000 )     702   0.000%  99.999%
[    6000,    7000 )     594   0.000%  99.999%
[    7000,    8000 )     676   0.000%  99.999%
[    8000,    9000 )     678   0.000% 100.000%
[    9000,   10000 )     579   0.000% 100.000%
[   10000,   12000 )    1025   0.000% 100.000%
[   12000,   14000 )     782   0.000% 100.000%
[   14000,   16000 )     694   0.000% 100.000%
[   16000,   18000 )     606   0.000% 100.000%
[   18000,   20000 )     417   0.000% 100.000%
[   20000,   25000 )     506   0.000% 100.000%
[   25000,   30000 )     244   0.000% 100.000%
[   30000,   35000 )      77   0.000% 100.000%
[   35000,   40000 )      14   0.000% 100.000%
[   40000,   45000 )       8   0.000% 100.000%
[   45000,   50000 )       5   0.000% 100.000%
[   60000,   70000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0      1367        0    141322
  1       10      610      2777   199695    198375
  2       12      760      3235   276131    275298
  3       56     3173      4574   392876    390129
  4      226    12717      4546   396479    387446
  5      805    51167      2878   267654    246880
  6      594    38155         4      392       358
user_io:141322.374MB total_ios: 1639808.815MB WriteAmplification: 11.6033

Checking if iostat process with PID 2971297 is still running...
    PID TTY          TIME CMD
2971297 pts/1    00:00:00 iostat
iostat process 2971297 is still running, killing now...
iostat process 2971297 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0100.sh: line 43: 2971297 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2971298':

     22,255,523.41 msec task-clock                       #    1.124 CPUs utilized
        15,947,665      context-switches                 #  716.571 /sec
             7,232      cpu-migrations                   #    0.325 /sec
        27,511,337      page-faults                      #    1.236 K/sec
70,548,860,191,185      cycles                           #    3.170 GHz
158,265,525,390,817      instructions                     #    2.24  insn per cycle
22,322,436,846,625      branches                         #    1.003 G/sec
    45,316,434,979      branch-misses                    #    0.20% of all branches
                        TopdownL1                 #      1.1 %  tma_backend_bound
                                                  #     89.6 %  tma_bad_speculation
                                                  #      4.3 %  tma_frontend_bound
                                                  #      5.0 %  tma_retiring

   19801.343781442 seconds time elapsed
