LevelDB:    version 1.23
Date:       Sat Jan 11 09:09:41 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f8_mem8MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f8_mem8MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3262092
../../../leveldb/build_release_f_8_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f8_mem8MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f8_memory_usage_1B_key16_val128_mem8MiB_factor8_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=8388608 --max_file_size=8388608 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-11 09:47:15 ... thread 0: (99999999,99999999) ops and (44360.4,44360.4) ops/second in (2254.262679,2254.262679) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2      13     125        0        0     14210     14210      0     276  2161     0       0     0      0   276         0 0.000000 0.000000
    1    41     247     908    66381    66381     66208     66208      0    1700  1885     0       0     0   8670  1700        54 0.000000 0.788738
    2   268    1595     773    68612    68612     68425     68425      0    1240  1302     0       0     0   8438  1240       286 0.788738 0.434465
    3  1456   11573     398    36478    36478     36057     36057      0       0     0     0       0     0   3716     0         0 0.434465 0.000000
user_io:14210.230MB total_ios: 184899.545MB WriteAmplification: 13.0117
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-11 10:31:37 ... thread 0: (100000000,199999999) ops and (37564.2,40680.4) ops/second in (2662.107201,4916.369880) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7      46     250        0        0     28434     28434      0     547  4321     0       0     0      0   547         0 0.000000 0.000000
    1    37     200    1851   133344   133344    132988    132988      0    3504  3842     0       0     0  17611  3504        88 0.000000 8.159459
    2   277    1644    1601   139408   139408    139014    139014      0    2825  2993     0       0     0  18575  2825       592 8.159459 8.159805
    3  1532   12077    1079    96710    96710     95371     95371      0       1     1     0       0     0  10380     1      1565 8.159805 8.161707
    4  1566   12377       0       24       24        24        24      0       0     0     0       0     0      2     0         0 8.161707 0.000000
user_io:28433.613MB total_ios: 395830.818MB WriteAmplification: 13.9212
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-11 11:23:16 ... thread 0: (100000000,299999999) ops and (32275.5,37431.3) ops/second in (3098.322205,8014.692085) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5      33     374        0        0     42664     42664      0     818  6489     0       0     0      0   818         0 0.000000 0.000000
    1    39     241    2800   200732   200732    200193    200193      0    5331  5812     0       0     0  26667  5331       111 0.000000 8.157000
    2   264    1601    2456   211959   211959    211350    211350      0    4653  4946     0       0     0  29460  4653       664 8.157000 1.930219
    3  1703   12793    1941   170830   170830    168257    168257      0     738   738     0       0     0  18595   738      2344 1.930219 0.723095
    4  2966   23683     175    15731    15731     15140     15140      0       0     0     0       0     0   1585     0         0 0.723095 0.000000
user_io:42663.558MB total_ios: 637603.939MB WriteAmplification: 14.9449
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-11 12:18:56 ... thread 0: (100000000,399999999) ops and (29940.4,35227.8) ops/second in (3339.971272,11354.663357) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2      13     499        0        0     56894     56894      0    1089  8658     0       0     0      0  1089         0 0.000000 0.000000
    1    41     247    3755   268110   268110    267388    267388      0    7150  7776     0       0     0  35705  7150       138 0.000000 8.156799
    2   291    1596    3313   284626   284626    283803    283803      0    6579  6943     0       0     0  40373  6579       686 8.156799 3.117532
    3  1760   12797    2777   241893   241893    238163    238163      0    2357  2361     0       0     0  27002  2357      2344 3.117532 0.723095
    4  4288   34752     561    50214    50214     47999     47999      0       0     0     0       0     0   5087     0         0 0.723095 0.000000
user_io:56893.503MB total_ios: 894247.207MB WriteAmplification: 15.7179
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-11 13:15:36 ... thread 0: (100000000,499999999) ops and (29409.6,33887.0) ops/second in (3400.248127,14754.911484) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7      46     623        0        0     71117     71117      0    1359 10818     0       0     0      0  1359         0 0.000000 0.000000
    1    37     234    4703   335137   335137    334234    334234      0    8962  9737     0       0     0  44690  8962       163 0.000000 8.160830
    2   294    1610    4160   356595   356595    355561    355561      0    8461  8921     0       0     0  51171  8461       702 8.160830 2.453087
    3  1864   12795    3591   311539   311539    306680    306680      0    3957  4017     0       0     0  35628  3957      2344 2.453087 0.723095
    4  5508   44625    1015    91409    91409     86398     86398      0       0     0     0       0     0   9361     0         0 0.723095 0.000000
user_io:71116.876MB total_ios: 1153989.627MB WriteAmplification: 16.2267
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-11 14:16:00 ... thread 0: (100000000,599999999) ops and (27593.4,32646.0) ops/second in (3624.057982,18378.969466) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5      33     753        0        0     85347     85347      0    1630 12986     0       0     0      0  1630         0 0.000000 0.000000
    1    39     214    5676   402484   402484    401397    401397      0   10805 11702     0       0     0  53740 10805       185 0.000000 0.921361
    2   280    1632    5043   429378   429378    428129    428129      0   10366 10922     0       0     0  61971 10366       711 0.921361 1.151591
    3  1869   12795    4481   385347   385347    379267    379267      0    5548  5706     0       0     0  45058  5548      2344 1.151591 0.723095
    4  6673   53587    1515   136081   136081    127411    127411      0       0     0     0       0     0  14024     0         0 0.723095 0.000000
user_io:85346.814MB total_ios: 1421551.722MB WriteAmplification: 16.6562
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-11 15:17:56 ... thread 0: (100000000,699999999) ops and (26907.2,31680.7) ops/second in (3716.480682,22095.450148) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3      20     883        0        0     99577     99577      0    1901 15154     0       0     0      0  1901         0 0.000000 0.000000
    1    41     248    6651   469885   469885    468616    468616      0   12636 13671     0       0     0  62816 12636       213 0.000000 8.158010
    2   272    1597    5931   502464   502464    501001    501001      0   12275 12927     0       0     0  72973 12275       724 8.158010 1.671241
    3  1930   12796    5364   458510   458510    451215    451215      0    7158  7404     0       0     0  54669  7158      2344 1.671241 0.723095
    4  7724   61689    2072   186151   186151    172952    172952      0       0     0     0       0     0  19337     0         0 0.723095 0.000000
user_io:99576.774MB total_ios: 1693359.972MB WriteAmplification: 17.0056
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-11 16:20:07 ... thread 0: (100000000,799999999) ops and (26802.7,30976.0) ops/second in (3730.969873,25826.420021) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7      46    1013        0        0    113800    113800      0    2171 17315     0       0     0      0  2171         0 0.000000 0.000000
    1    39     242    7622   537020   537020    535568    535568      0   14456 15624     0       0     0  71809 14456       243 0.000000 8.156814
    2   289    1602    6801   574071   574071    572395    572395      0   14186 14920     0       0     0  83712 14186       732 8.156814 2.112585
    3  1957   12799    6224   529569   529569    521095    521095      0    8782  9127     0       0     0  64068  8782      2344 2.112585 0.723095
    4  8669   69021    2663   239542   239542    221053    221053      0       0     0     0       0     0  25112     0         0 0.723095 0.000000
user_io:113800.160MB total_ios: 1963911.800MB WriteAmplification: 17.2575
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-11 17:23:41 ... thread 0: (100000000,899999999) ops and (26224.5,30364.7) ops/second in (3813.225480,29639.645501) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5      33    1143        0        0    128030    128030      0    2442 19483     0       0     0      0  2442         0 0.000000 0.000000
    1    37     210    8597   604421   604421    602786    602786      0   16276 17585     0       0     0  80864 16276       272 0.000000 8.156890
    2   284    1638    7677   646045   646045    644156    644156      0   16091 16917     0       0     0  94453 16091       740 8.156890 2.358479
    3  2066   12793    7079   600092   600092    590476    590476      0   10490 10895     0       0     0  73714 10490      2344 2.358479 0.723095
    4  9543   75690    3299   296878   296878    272353    272353      0       0     0     0       0     0  31432     0         0 0.723095 0.000000
user_io:128030.107MB total_ios: 2237800.674MB WriteAmplification: 17.4787
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-11 18:28:46 ... thread 0: (100000000,999999999) ops and (25602.3,29810.2) ops/second in (3905.906449,33545.551950) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2      13    1273        0        0    142253    142253      0    2713 21651     0       0     0      0  2713         0 0.000000 0.000000
    1    39     246    9574   671730   671730    669913    669913      0   18098 19568     0       0     0  89885 18098       289 0.000000 8.156824
    2   293    1592    8577   719787   719787    717682    717682      0   18004 18911     0       0     0 105431 18004       744 8.156824 1.172382
    3  2033   12792    7950   671799   671799    661010    661010      0   12158 12739     0       0     0  83717 12158      2344 1.172382 0.723095
    4 10351   81714    3966   357252   357252    326067    326067      0       0     0     0       0     0  37958     0         0 0.723095 0.000000
user_io:142253.484MB total_ios: 2516925.048MB WriteAmplification: 17.6932
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      33.546 micros/op 29810 ops/sec;    4.1 MB/s
Microseconds per op:
Count: 1000000000  Average: 33.5456  StdDev: 269.04
Percentiles: P50: 4.81 P75: 5.62 P99: 1119.86 P99.9: 1193.69 P99.99: 3386.41
------------------------------------------------------
[       2,       3 ) 1203280   0.120%   0.120%
[       3,       4 ) 121734010  12.173%  12.294% ##
[       4,       5 ) 467584559  46.758%  59.052% #########
[       5,       6 ) 257701143  25.770%  84.822% #####
[       6,       7 ) 62110137   6.211%  91.033% #
[       7,       8 ) 24123780   2.412%  93.446%
[       8,       9 ) 14894884   1.489%  94.935%
[       9,      10 ) 7176156   0.718%  95.653%
[      10,      12 ) 5575425   0.558%  96.210%
[      12,      14 ) 2464102   0.246%  96.457%
[      14,      16 ) 2146716   0.215%  96.671%
[      16,      18 ) 2974310   0.297%  96.969%
[      18,      20 ) 2595907   0.260%  97.228%
[      20,      25 ) 2320077   0.232%  97.460%
[      25,      30 )  418543   0.042%  97.502%
[      30,      35 )  144335   0.014%  97.517%
[      35,      40 )   42967   0.004%  97.521%
[      40,      45 )   16398   0.002%  97.523%
[      45,      50 )   12058   0.001%  97.524%
[      50,      60 )   65652   0.007%  97.530%
[      60,      70 )   10104   0.001%  97.531%
[      70,      80 )   10080   0.001%  97.532%
[      80,      90 )    6567   0.001%  97.533%
[      90,     100 )    4135   0.000%  97.534%
[     100,     120 )    6945   0.001%  97.534%
[     120,     140 )    6252   0.001%  97.535%
[     140,     160 )    3449   0.000%  97.535%
[     160,     180 )    2462   0.000%  97.535%
[     180,     200 )    2108   0.000%  97.536%
[     200,     250 )    3865   0.000%  97.536%
[     250,     300 )    2585   0.000%  97.536%
[     300,     350 )    2364   0.000%  97.537%
[     350,     400 )    2375   0.000%  97.537%
[     400,     450 )    2090   0.000%  97.537%
[     450,     500 )    2322   0.000%  97.537%
[     500,     600 )    5343   0.001%  97.538%
[     600,     700 )    5223   0.001%  97.538%
[     700,     800 )    2142   0.000%  97.538%
[     800,     900 )    2145   0.000%  97.539%
[     900,    1000 )    1767   0.000%  97.539%
[    1000,    1200 ) 24380987   2.438%  99.977%
[    1200,    1400 )   51583   0.005%  99.982%
[    1400,    1600 )   15887   0.002%  99.984%
[    1600,    1800 )   11573   0.001%  99.985%
[    1800,    2000 )    8125   0.001%  99.986%
[    2000,    2500 )   16345   0.002%  99.987%
[    2500,    3000 )   15784   0.002%  99.989%
[    3000,    3500 )   14174   0.001%  99.990%
[    3500,    4000 )   12450   0.001%  99.992%
[    4000,    4500 )    7797   0.001%  99.992%
[    4500,    5000 )    4482   0.000%  99.993%
[    5000,    6000 )    4309   0.000%  99.993%
[    6000,    7000 )    1965   0.000%  99.993%
[    7000,    8000 )    1470   0.000%  99.994%
[    8000,    9000 )    1517   0.000%  99.994%
[    9000,   10000 )    1372   0.000%  99.994%
[   10000,   12000 )    2699   0.000%  99.994%
[   12000,   14000 )    3303   0.000%  99.994%
[   14000,   16000 )    4038   0.000%  99.995%
[   16000,   18000 )    4211   0.000%  99.995%
[   18000,   20000 )    4097   0.000%  99.996%
[   20000,   25000 )   10855   0.001%  99.997%
[   25000,   30000 )   12467   0.001%  99.998%
[   30000,   35000 )   14685   0.001%  99.999%
[   35000,   40000 )    4973   0.000% 100.000%
[   40000,   45000 )      48   0.000% 100.000%
[   45000,   50000 )      16   0.000% 100.000%
[   50000,   60000 )      15   0.000% 100.000%
[   60000,   70000 )      11   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        2       13      1273        0    142253
  1       39      246      9574   671730    669913
  2      293     1592      8577   719787    717682
  3     2033    12792      7950   671799    661010
  4    10351    81714      3966   357252    326067
user_io:142253.484MB total_ios: 2516925.048MB WriteAmplification: 17.6932

Checking if iostat process with PID 3262091 is still running...
    PID TTY          TIME CMD
3262091 pts/1    00:00:00 iostat
iostat process 3262091 is still running, killing now...
iostat process 3262091 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0100.sh: line 43: 3262091 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '3262092':

     33,890,907.45 msec task-clock                       #    1.010 CPUs utilized
        70,488,097      context-switches                 #    2.080 K/sec
             7,703      cpu-migrations                   #    0.227 /sec
        12,011,525      page-faults                      #  354.417 /sec
110,041,269,609,227      cycles                           #    3.247 GHz
252,442,017,101,579      instructions                     #    2.29  insn per cycle
36,246,790,110,602      branches                         #    1.070 G/sec
    86,182,096,952      branch-misses                    #    0.24% of all branches
                        TopdownL1                 #      1.2 %  tma_backend_bound
                                                  #     91.7 %  tma_bad_speculation
                                                  #      3.2 %  tma_frontend_bound
                                                  #      3.9 %  tma_retiring

   33545.455073583 seconds time elapsed
