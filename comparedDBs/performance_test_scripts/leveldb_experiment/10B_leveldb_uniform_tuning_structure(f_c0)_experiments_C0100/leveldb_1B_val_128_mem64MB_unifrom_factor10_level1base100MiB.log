base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Thu Jan 23 12:00:40 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_level1base100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_level1base100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2409816
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_level1base100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-23 12:22:37 ... thread 0: (99999999,99999999) ops and (75925.3,75925.3) ops/second in (1317.083293,1317.083293) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     136        0        0     14002     14002      0      35   268     0       0     0      0    35         0 0.000000 0.000000
    1    11     588     264    19517    19517     19437     19437      0     209   224     0       0     0    110   209        13 0.000000 3.056924
    2    39    1983     595    53066    53066     52905     52905      0     120   123     0       0     0    720   120        57 3.056924 57.360239
    3   170   10876     290    26395    26395     26082     26082      0       0     0     0       0     0    324     0         0 57.360239 0.000000
user_io:14001.624MB total_ios: 112425.850MB WriteAmplification: 8.0295
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-23 12:55:06 ... thread 0: (100000000,199999999) ops and (51318.8,61242.9) ops/second in (1948.602129,3265.685422) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     273        0        0     28160     28160      0      68   532     0       0     0      0    68         0 0.000000 0.000000
    1     6     334     528    38842    38842     38628     38628      0     438   471     0       0     0    222   438        14 0.000000 14.427958
    2    49    2223    1253   110658   110658    110258    110258      0     344   368     0       0     0   1736   344        57 14.427958 57.360239
    3   317   19990    1146   101405   101405     99577     99577      0       1     1     0       0     0   1346     1        44 57.360239 65.282788
    4    45    2804       1      131      131       128       128      0       0     0     0       0     0      1     0         0 65.282788 0.000000
user_io:28159.986MB total_ios: 276751.947MB WriteAmplification: 9.8278
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-23 13:29:26 ... thread 0: (100000000,299999999) ops and (48533.1,56326.0) ops/second in (2060.451265,5326.136687) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     410        0        0     42318     42318      0     102   804     0       0     0      0   102         0 0.000000 0.000000
    1     7     306     803    58828    58828     58477     58477      0     667   715     0       0     0    338   667        17 0.000000 65.263006
    2    56    2254    1910   167772   167772    167129    167129      0     553   593     0       0     0   2788   553        89 65.263006 65.271307
    3   320   19966    2094   182895   182895    179215    179215      0       4     4     0       0     0   2506     4       232 65.271307 65.282190
    4   236   14794       7      653      653       642       642      0       0     0     0       0     0      6     0         0 65.282190 0.000000
user_io:42318.350MB total_ios: 447782.059MB WriteAmplification: 10.5813
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-23 14:04:38 ... thread 0: (100000000,399999999) ops and (47342.9,53775.1) ops/second in (2112.249044,7438.385731) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     546        0        0     56424     56424      0     136  1076     0       0     0      0   136         0 0.000000 0.000000
    1    10     513    1080    78920    78920     78430     78430      0     895   953     0       0     0    458   895        22 0.000000 10.998889
    2    43    2006    2580   225309   225309    224423    224423      0     780   843     0       0     0   3829   780       105 10.998889 12.519239
    3   322   19939    3065   265082   265082    259583    259583      0       7     7     0       0     0   3691     7       419 12.519239 65.282739
    4   426   26842      22     1892     1892      1852      1852      0       0     0     0       0     0     22     0         0 65.282739 0.000000
user_io:56424.465MB total_ios: 620712.561MB WriteAmplification: 11.0008
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-23 14:42:56 ... thread 0: (100000000,499999999) ops and (43516.9,51354.0) ops/second in (2297.958938,9736.344669) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     681        0        0     70583     70583      0     170  1348     0       0     0      0   170         0 0.000000 0.000000
    1    10     570    1357    98897    98897     98269     98269      0    1124  1196     0       0     0    576  1124        27 0.000000 12.409749
    2    45    1938    3251   282907   282907    281780    281780      0    1017  1097     0       0     0   4890  1017       108 12.409749 0.000442
    3   330   19998    4070   349592   349592    342274    342274      0      96    97     0       0     0   4920    96       521 0.000442 11.806177
    4   598   37893     186    16718    16718     15764     15764      0       0     0     0       0     0    207     0         0 11.806177 0.000000
user_io:70582.823MB total_ios: 808669.623MB WriteAmplification: 11.4570
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-23 15:26:10 ... thread 0: (100000000,599999999) ops and (38559.5,48662.8) ops/second in (2593.395312,12329.739981) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     821        0        0     84741     84741      0     204  1620     0       0     0      0   204         0 0.000000 0.000000
    1     7     373    1638   118773   118773    118008    118008      0    1358  1442     0       0     0    695  1358        31 0.000000 65.262078
    2    45    2143    3935   340320   340320    338947    338947      0    1266  1361     0       0     0   5959  1266       108 65.262078 0.000442
    3   338   19992    5137   437751   437751    428467    428467      0     285   286     0       0     0   6238   285       521 0.000442 11.806177
    4   739   47373     563    50310    50310     46976     46976      0       0     0     0       0     0    642     0         0 11.806177 0.000000
user_io:84741.175MB total_ios: 1017139.328MB WriteAmplification: 12.0029
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-23 16:10:30 ... thread 0: (100000000,699999999) ops and (37583.5,46696.3) ops/second in (2660.741667,14990.481648) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     963        0        0     98900     98900      0     238  1892     0       0     0      0   238         0 0.000000 0.000000
    1    11     601    1926   138775   138775    137873    137873      0    1581  1682     0       0     0    819  1581        36 0.000000 65.260348
    2    43    1941    4646   398697   398697    397081    397081      0    1515  1625     0       0     0   7025  1515       108 65.260348 0.000442
    3   348   19943    6200   523990   523990    512806    512806      0     474   476     0       0     0   7582   474       521 0.000442 11.806177
    4   866   56148     970    85821    85821     79309     79309      0       0     0     0       0     0   1105     0         0 11.806177 0.000000
user_io:98899.538MB total_ios: 1225967.834MB WriteAmplification: 12.3961
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-23 16:54:07 ... thread 0: (100000000,799999999) ops and (38223.1,45437.2) ops/second in (2616.218487,17606.700135) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1104        0        0    113006    113006      0     271  2156     0       0     0      0   271         0 0.000000 0.000000
    1     6     320    2210   158185   158185    157150    157150      0    1804  1920     0       0     0    936  1804        40 0.000000 65.260448
    2    52    2219    5332   454083   454083    452229    452229      0    1755  1876     0       0     0   8034  1755       110 65.260448 34.288172
    3   356   19978    7230   606560   606560    593601    593601      0     653   670     0       0     0   8880   653       521 34.288172 11.806177
    4   988   63830    1395   123562   123562    113118    113118      0       0     0     0       0     0   1590     0         0 11.806177 0.000000
user_io:113005.655MB total_ios: 1429103.025MB WriteAmplification: 12.6463
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-23 17:39:06 ... thread 0: (100000000,899999999) ops and (37051.5,44322.7) ops/second in (2698.944548,20305.644683) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313    1246        0        0    127164    127164      0     305  2428     0       0     0      0   305         0 0.000000 0.000000
    1     7     378    2501   178024   178024    176852    176852      0    2030  2159     0       0     0   1055  2030        45 0.000000 65.262802
    2    56    2187    6065   512590   512590    510489    510489      0    1993  2132     0       0     0   9106  1993       111 65.262802 26.218668
    3   357   19955    8250   687607   687607    672893    672893      0     843   872     0       0     0  10174   843       521 26.218668 11.806177
    4  1106   71053    1860   165071   165071    149781    149781      0       0     0     0       0     0   2127     0         0 11.806177 0.000000
user_io:127164.013MB total_ios: 1637178.303MB WriteAmplification: 12.8745
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-23 18:25:37 ... thread 0: (100000000,999999999) ops and (35826.0,43295.8) ops/second in (2791.269275,23096.913958) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261    1387        0        0    141322    141322      0     339  2700     0       0     0      0   339         0 0.000000 0.000000
    1     9     528    2793   197934   197934    196625    196625      0    2255  2398     0       0     0   1176  2255        49 0.000000 0.000306
    2    47    2036    6800   571409   571409    569062    569062      0    2240  2389     0       0     0  10184  2240       111 0.000306 26.218668
    3   360   19972    9343   774219   774219    757611    757611      0    1033  1068     0       0     0  11588  1033       521 26.218668 11.806177
    4  1212   77516    2339   208183   208183    187437    187437      0       0     0     0       0     0   2699     0         0 11.806177 0.000000
user_io:141322.374MB total_ios: 1852057.014MB WriteAmplification: 13.1052
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      23.097 micros/op 43295 ops/sec;    5.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 23.0969  StdDev: 146.50
Percentiles: P50: 5.70 P75: 6.61 P99: 1074.64 P99.9: 1187.71 P99.99: 1199.02
------------------------------------------------------
[       2,       3 )  158395   0.016%   0.016%
[       3,       4 ) 22311588   2.231%   2.247%
[       4,       5 ) 216903739  21.690%  23.937% ####
[       5,       6 ) 372243449  37.224%  61.162% #######
[       6,       7 ) 228645499  22.865%  84.026% #####
[       7,       8 ) 85747735   8.575%  92.601% ##
[       8,       9 ) 31800949   3.180%  95.781% #
[       9,      10 ) 14389963   1.439%  97.220%
[      10,      12 ) 8833655   0.883%  98.103%
[      12,      14 ) 1433496   0.143%  98.247%
[      14,      16 )  379609   0.038%  98.285%
[      16,      18 )  226399   0.023%  98.307%
[      18,      20 )  218299   0.022%  98.329%
[      20,      25 )  406088   0.041%  98.370%
[      25,      30 )  169869   0.017%  98.387%
[      30,      35 )   60758   0.006%  98.393%
[      35,      40 )   21108   0.002%  98.395%
[      40,      45 )    9744   0.001%  98.396%
[      45,      50 )    5456   0.001%  98.397%
[      50,      60 )   31480   0.003%  98.400%
[      60,      70 )   24476   0.002%  98.402%
[      70,      80 )    3558   0.000%  98.403%
[      80,      90 )    2405   0.000%  98.403%
[      90,     100 )    1616   0.000%  98.403%
[     100,     120 )    2273   0.000%  98.403%
[     120,     140 )    2685   0.000%  98.403%
[     140,     160 )    1476   0.000%  98.404%
[     160,     180 )    1492   0.000%  98.404%
[     180,     200 )    2000   0.000%  98.404%
[     200,     250 )   12394   0.001%  98.405%
[     250,     300 )    1426   0.000%  98.405%
[     300,     350 )     475   0.000%  98.405%
[     350,     400 )     357   0.000%  98.405%
[     400,     450 )     314   0.000%  98.405%
[     450,     500 )     267   0.000%  98.405%
[     500,     600 )     633   0.000%  98.406%
[     600,     700 )    1395   0.000%  98.406%
[     700,     800 )    1859   0.000%  98.406%
[     800,     900 )     667   0.000%  98.406%
[     900,    1000 )     472   0.000%  98.406%
[    1000,    1200 ) 15918298   1.592%  99.998%
[    1200,    1400 )    7970   0.001%  99.999%
[    1400,    1600 )    2779   0.000%  99.999%
[    1600,    1800 )    1446   0.000%  99.999%
[    1800,    2000 )     796   0.000%  99.999%
[    2000,    2500 )     406   0.000%  99.999%
[    2500,    3000 )     187   0.000%  99.999%
[    3000,    3500 )     239   0.000%  99.999%
[    3500,    4000 )     148   0.000%  99.999%
[    4000,    4500 )     177   0.000%  99.999%
[    4500,    5000 )     164   0.000%  99.999%
[    5000,    6000 )     400   0.000%  99.999%
[    6000,    7000 )     473   0.000%  99.999%
[    7000,    8000 )     502   0.000%  99.999%
[    8000,    9000 )     496   0.000%  99.999%
[    9000,   10000 )     464   0.000%  99.999%
[   10000,   12000 )     942   0.000% 100.000%
[   12000,   14000 )     924   0.000% 100.000%
[   14000,   16000 )     904   0.000% 100.000%
[   16000,   18000 )     761   0.000% 100.000%
[   18000,   20000 )     455   0.000% 100.000%
[   20000,   25000 )     653   0.000% 100.000%
[   25000,   30000 )     365   0.000% 100.000%
[   30000,   35000 )     254   0.000% 100.000%
[   35000,   40000 )     136   0.000% 100.000%
[   40000,   45000 )      77   0.000% 100.000%
[   45000,   50000 )      47   0.000% 100.000%
[   50000,   60000 )      19   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5      261      1387        0    141322
  1        9      528      2793   197934    196625
  2       47     2036      6800   571409    569062
  3      360    19972      9343   774219    757611
  4     1212    77516      2339   208183    187437
user_io:141322.374MB total_ios: 1852057.014MB WriteAmplification: 13.1052

Checking if iostat process with PID 2409815 is still running...
    PID TTY          TIME CMD
2409815 pts/0    00:00:00 iostat
iostat process 2409815 is still running, killing now...
iostat process 2409815 has been successfully killed.
root@jeffwang-NF5280M6:/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment#
 Performance counter stats for process id '2409816':

     25,436,817.80 msec task-clock                       #    1.101 CPUs utilized
        18,342,814      context-switches                 #  721.113 /sec
            14,849      cpu-migrations                   #    0.584 /sec
        30,487,084      page-faults                      #    1.199 K/sec
80,029,253,489,282      cycles                           #    3.146 GHz
179,502,164,615,379      instructions                     #    2.24  insn per cycle
25,415,278,273,230      branches                         #  999.153 M/sec
    49,039,211,409      branch-misses                    #    0.19% of all branches
                        TopdownL1                 #      0.7 %  tma_backend_bound
                                                  #     91.2 %  tma_bad_speculation
                                                  #      3.5 %  tma_frontend_bound
                                                  #      4.5 %  tma_retiring

   23096.647378664 seconds time elapsed

