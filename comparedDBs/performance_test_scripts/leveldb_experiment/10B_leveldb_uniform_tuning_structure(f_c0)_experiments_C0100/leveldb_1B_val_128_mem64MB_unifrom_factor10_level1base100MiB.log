LevelDB:    version 1.23
Date:       Wed Jan  8 18:09:47 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2980083
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-08 18:31:44 ... thread 0: (99999999,99999999) ops and (75926.5,75926.5) ops/second in (1317.063794,1317.063794) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     133        0        0     14002     14002      0      35   268     0       0     0      0    35         0 0.000000 0.000000
    1    11     588     265    19517    19517     19437     19437      0     209   224     0       0     0    110   209        13 0.000000 3.056924
    2    39    1983     596    53066    53066     52905     52905      0     120   123     0       0     0    720   120        57 3.056924 57.360239
    3   170   10876     290    26395    26395     26082     26082      0       0     0     0       0     0    324     0         0 57.360239 0.000000
user_io:14001.624MB total_ios: 112425.850MB WriteAmplification: 8.0295
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-08 19:03:29 ... thread 0: (100000000,199999999) ops and (52518.6,62089.6) ops/second in (1904.085524,3221.149318) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     268        0        0     28160     28160      0      68   532     0       0     0      0    68         0 0.000000 0.000000
    1     6     334     526    38842    38842     38628     38628      0     438   471     0       0     0    222   438        14 0.000000 14.427958
    2    49    2223    1248   110658   110658    110258    110258      0     344   368     0       0     0   1736   344        57 14.427958 57.360239
    3   317   19990    1114   101405   101405     99577     99577      0       1     1     0       0     0   1346     1        44 57.360239 65.282788
    4    45    2804       1      131      131       128       128      0       0     0     0       0     0      1     0         0 65.282788 0.000000
user_io:28159.986MB total_ios: 276751.947MB WriteAmplification: 9.8278
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-08 19:36:36 ... thread 0: (100000000,299999999) ops and (50320.9,57599.3) ops/second in (1987.247167,5208.396485) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261     402        0        0     42266     42266      0     102   804     0       0     0      0   102         0 0.000000 0.000000
    1     7     306     797    58828    58828     58477     58477      0     667   715     0       0     0    338   667        17 0.000000 65.263006
    2    56    2254    1895   167772   167772    167129    167129      0     553   593     0       0     0   2788   553        89 65.263006 65.271307
    3   320   19966    2008   182895   182895    179215    179215      0       4     4     0       0     0   2506     4       232 65.271307 65.282190
    4   236   14794       7      653      653       642       642      0       0     0     0       0     0      6     0         0 65.282190 0.000000
user_io:42266.106MB total_ios: 447729.814MB WriteAmplification: 10.5931
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-08 20:10:28 ... thread 0: (100000000,399999999) ops and (49198.7,55241.2) ops/second in (2032.575261,7240.971746) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     538        0        0     56424     56424      0     136  1076     0       0     0      0   136         0 0.000000 0.000000
    1     9     448    1070    78920    78920     78430     78430      0     896   955     0       0     0    458   896        22 0.000000 10.998889
    2    43    2070    2551   225573   225573    224686    224686      0     780   843     0       0     0   3832   780       105 10.998889 12.519239
    3   322   19939    2924   265082   265082    259583    259583      0       7     7     0       0     0   3691     7       419 12.519239 65.282739
    4   426   26842      21     1892     1892      1852      1852      0       0     0     0       0     0     22     0         0 65.282739 0.000000
user_io:56424.465MB total_ios: 620975.503MB WriteAmplification: 11.0054
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-08 20:47:31 ... thread 0: (100000000,499999999) ops and (44990.9,52833.8) ops/second in (2222.672588,9463.644334) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     677        0        0     70583     70583      0     170  1348     0       0     0      0   170         0 0.000000 0.000000
    1     9     505    1342    98897    98897     98269     98269      0    1125  1198     0       0     0    576  1125        27 0.000000 12.409749
    2    47    2001    3210   283400   283400    282270    282270      0    1017  1097     0       0     0   4897  1017       108 12.409749 0.000442
    3   330   19998    3879   349592   349592    342274    342274      0      96    97     0       0     0   4920    96       521 0.000442 11.806177
    4   598   37893     178    16718    16718     15764     15764      0       0     0     0       0     0    207     0         0 11.806177 0.000000
user_io:70582.823MB total_ios: 809160.458MB WriteAmplification: 11.4640
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-08 21:28:47 ... thread 0: (100000000,599999999) ops and (40393.1,50254.1) ops/second in (2475.669735,11939.314069) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     817        0        0     84741     84741      0     204  1620     0       0     0      0   204         0 0.000000 0.000000
    1     7     373    1614   118773   118773    118008    118008      0    1358  1442     0       0     0    695  1358        31 0.000000 65.262078
    2    45    2143    3865   340320   340320    338947    338947      0    1266  1361     0       0     0   5959  1266       108 65.262078 0.000442
    3   338   19992    4883   437751   437751    428467    428467      0     285   286     0       0     0   6238   285       521 0.000442 11.806177
    4   739   47373     534    50310    50310     46976     46976      0       0     0     0       0     0    642     0         0 11.806177 0.000000
user_io:84741.175MB total_ios: 1017139.328MB WriteAmplification: 12.0029
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-08 22:10:41 ... thread 0: (100000000,699999999) ops and (39776.5,48431.6) ops/second in (2514.050096,14453.364165) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     957        0        0     98900     98900      0     238  1892     0       0     0      0   238         0 0.000000 0.000000
    1    11     601    1891   138775   138775    137873    137873      0    1581  1682     0       0     0    819  1581        36 0.000000 65.260348
    2    43    1941    4548   398697   398697    397081    397081      0    1515  1625     0       0     0   7025  1515       108 65.260348 0.000442
    3   348   19943    5875   523990   523990    512806    512806      0     474   476     0       0     0   7582   474       521 0.000442 11.806177
    4   866   56148     907    85821    85821     79309     79309      0       0     0     0       0     0   1105     0         0 11.806177 0.000000
user_io:98899.538MB total_ios: 1225967.834MB WriteAmplification: 12.3961
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-08 22:52:01 ... thread 0: (100000000,799999999) ops and (40320.1,47243.6) ops/second in (2480.151327,16933.515492) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1095        0        0    113006    113006      0     271  2156     0       0     0      0   271         0 0.000000 0.000000
    1     5     255    2164   158185   158185    157150    157150      0    1804  1920     0       0     0    936  1804        40 0.000000 65.260448
    2    53    2282    5208   454464   454464    452608    452608      0    1755  1876     0       0     0   8034  1755       110 65.260448 34.288172
    3   356   19978    6839   606560   606560    593601    593601      0     653   670     0       0     0   8880   653       521 34.288172 11.806177
    4   988   63830    1303   123562   123562    113118    113118      0       0     0     0       0     0   1590     0         0 11.806177 0.000000
user_io:113005.655MB total_ios: 1429481.711MB WriteAmplification: 12.6496
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-08 23:34:38 ... thread 0: (100000000,899999999) ops and (39104.1,46175.6) ops/second in (2557.277879,19490.793371) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313    1230        0        0    127164    127164      0     305  2428     0       0     0      0   305         0 0.000000 0.000000
    1     7     378    2445   178024   178024    176852    176852      0    2030  2159     0       0     0   1055  2030        45 0.000000 65.262802
    2    56    2187    5905   512590   512590    510489    510489      0    1993  2132     0       0     0   9106  1993       111 65.262802 26.218668
    3   357   19955    7795   687607   687607    672893    672893      0     843   872     0       0     0  10174   843       521 26.218668 11.806177
    4  1106   71053    1737   165071   165071    149781    149781      0       0     0     0       0     0   2127     0         0 11.806177 0.000000
user_io:127164.013MB total_ios: 1637178.303MB WriteAmplification: 12.8745
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-09 00:18:40 ... thread 0: (100000000,999999999) ops and (37849.2,45181.7) ops/second in (2642.067184,22132.860555) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261    1365        0        0    141322    141322      0     339  2700     0       0     0      0   339         0 0.000000 0.000000
    1     8     463    2729   197934   197934    196625    196625      0    2255  2398     0       0     0   1176  2255        49 0.000000 0.000306
    2    50    2100    6612   571660   571660    569312    569312      0    2240  2389     0       0     0  10184  2240       111 0.000306 26.218668
    3   360   19972    8813   774219   774219    757611    757611      0    1033  1068     0       0     0  11588  1033       521 26.218668 11.806177
    4  1212   77516    2185   208183   208183    187437    187437      0       0     0     0       0     0   2699     0         0 11.806177 0.000000
user_io:141322.374MB total_ios: 1852306.930MB WriteAmplification: 13.1070
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      22.133 micros/op 45181 ops/sec;    6.2 MB/s
Microseconds per op:
Count: 1000000000  Average: 22.1329  StdDev: 138.68
Percentiles: P50: 5.99 P75: 7.00 P99: 1064.16 P99.9: 1186.66 P99.99: 1198.91
------------------------------------------------------
[       2,       3 )   89614   0.009%   0.009%
[       3,       4 ) 14941065   1.494%   1.503%
[       4,       5 ) 163489375  16.349%  17.852% ###
[       5,       6 ) 324101878  32.410%  50.262% ######
[       6,       7 ) 247767399  24.777%  75.039% #####
[       7,       8 ) 127549596  12.755%  87.794% ###
[       8,       9 ) 58834789   5.883%  93.677% #
[       9,      10 ) 26403003   2.640%  96.318% #
[      10,      12 ) 16614272   1.661%  97.979%
[      12,      14 ) 3138685   0.314%  98.293%
[      14,      16 )  755665   0.076%  98.369%
[      16,      18 )  325701   0.033%  98.401%
[      18,      20 )  280645   0.028%  98.429%
[      20,      25 )  518490   0.052%  98.481%
[      25,      30 )  192127   0.019%  98.500%
[      30,      35 )   69856   0.007%  98.507%
[      35,      40 )   31505   0.003%  98.510%
[      40,      45 )   22198   0.002%  98.513%
[      45,      50 )   13358   0.001%  98.514%
[      50,      60 )   41651   0.004%  98.518%
[      60,      70 )   17000   0.002%  98.520%
[      70,      80 )   25469   0.003%  98.522%
[      80,      90 )    9735   0.001%  98.523%
[      90,     100 )    3794   0.000%  98.524%
[     100,     120 )    4989   0.000%  98.524%
[     120,     140 )    5708   0.001%  98.525%
[     140,     160 )    2531   0.000%  98.525%
[     160,     180 )    3776   0.000%  98.525%
[     180,     200 )    9842   0.001%  98.526%
[     200,     250 )    5908   0.001%  98.527%
[     250,     300 )    6821   0.001%  98.528%
[     300,     350 )    2537   0.000%  98.528%
[     350,     400 )     961   0.000%  98.528%
[     400,     450 )    2481   0.000%  98.528%
[     450,     500 )     935   0.000%  98.528%
[     500,     600 )    1069   0.000%  98.528%
[     600,     700 )     716   0.000%  98.529%
[     700,     800 )     509   0.000%  98.529%
[     800,     900 )     494   0.000%  98.529%
[     900,    1000 )     204   0.000%  98.529%
[    1000,    1200 ) 14693737   1.469%  99.998%
[    1200,    1400 )    7585   0.001%  99.999%
[    1400,    1600 )    2256   0.000%  99.999%
[    1600,    1800 )    1061   0.000%  99.999%
[    1800,    2000 )     376   0.000%  99.999%
[    2000,    2500 )     352   0.000%  99.999%
[    2500,    3000 )     218   0.000%  99.999%
[    3000,    3500 )     174   0.000%  99.999%
[    3500,    4000 )     261   0.000%  99.999%
[    4000,    4500 )     246   0.000%  99.999%
[    4500,    5000 )     267   0.000%  99.999%
[    5000,    6000 )     593   0.000%  99.999%
[    6000,    7000 )     521   0.000%  99.999%
[    7000,    8000 )     550   0.000%  99.999%
[    8000,    9000 )     581   0.000% 100.000%
[    9000,   10000 )     511   0.000% 100.000%
[   10000,   12000 )     917   0.000% 100.000%
[   12000,   14000 )     813   0.000% 100.000%
[   14000,   16000 )     765   0.000% 100.000%
[   16000,   18000 )     673   0.000% 100.000%
[   18000,   20000 )     405   0.000% 100.000%
[   20000,   25000 )     450   0.000% 100.000%
[   25000,   30000 )     180   0.000% 100.000%
[   30000,   35000 )      97   0.000% 100.000%
[   35000,   40000 )      42   0.000% 100.000%
[   40000,   45000 )      11   0.000% 100.000%
[   45000,   50000 )       5   0.000% 100.000%
[   50000,   60000 )       2   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5      261      1365        0    141322
  1        8      463      2729   197934    196625
  2       50     2100      6612   571660    569312
  3      360    19972      8813   774219    757611
  4     1212    77516      2185   208183    187437
user_io:141322.374MB total_ios: 1852306.930MB WriteAmplification: 13.1070

Checking if iostat process with PID 2980082 is still running...
    PID TTY          TIME CMD
2980082 pts/1    00:00:00 iostat
iostat process 2980082 is still running, killing now...
iostat process 2980082 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0100.sh: line 43: 2980082 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2980083':

     24,796,926.62 msec task-clock                       #    1.120 CPUs utilized
        18,928,591      context-switches                 #  763.344 /sec
             6,736      cpu-migrations                   #    0.272 /sec
        30,089,350      page-faults                      #    1.213 K/sec
78,750,366,136,931      cycles                           #    3.176 GHz
175,183,665,249,358      instructions                     #    2.22  insn per cycle
24,692,383,461,917      branches                         #  995.784 M/sec
    49,060,255,209      branch-misses                    #    0.20% of all branches
                        TopdownL1                 #      1.7 %  tma_backend_bound
                                                  #     89.8 %  tma_bad_speculation
                                                  #      3.9 %  tma_frontend_bound
                                                  #      4.6 %  tma_retiring

   22132.830426053 seconds time elapsed
