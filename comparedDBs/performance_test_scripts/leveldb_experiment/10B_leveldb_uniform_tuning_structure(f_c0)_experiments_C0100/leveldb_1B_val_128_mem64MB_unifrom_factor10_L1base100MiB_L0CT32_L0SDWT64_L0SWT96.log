base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Thu Jan 23 22:56:57 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT32_L0SDWT64_L0SWT96.log
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT32_L0SDWT64_L0SWT96.log
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2807401
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT32_L0SDWT64_L0SWT96.log --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_L1base100_L0CT32_L0SDWT64_L0SWT96.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-23 23:12:02 ... thread 0: (99999999,99999999) ops and (110573.0,110573.0) ops/second in (904.379540,904.379540) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    10     522     142        0        0     14002     14002      0       5   258     0       0     0      0     5         0 0.000000 0.000000
    1    47    2913     388    13988    13988     13753     13753      0      82   113     0       0     0      8    82        52 0.000000 65.273535
    2    40    2483     197    16048    16048     15984     15984      0      59    59     0       0     0    154    59        64 65.273535 41.176690
    3   121    7695     114     9492     9492      9403      9403      0       0     0     0       0     0    110     0         0 41.176690 0.000000
user_io:14001.624MB total_ios: 53141.846MB WriteAmplification: 3.7954
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-23 23:36:42 ... thread 0: (100000000,199999999) ops and (67553.2,83868.2) ops/second in (1480.315594,2384.695134) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    25    1306     284        0        0     28160     28160      0       9   514     0       0     0      0     9         0 0.000000 0.000000
    1    42    2615     819    28103    28103     27547     27547      0     183   224     0       0     0     20   183       151 0.000000 65.272091
    2    43    2760     461    36629    36629     36366     36366      0     261   263     0       0     0    392   261        64 65.272091 41.176690
    3   301   19552     731    55972    55972     54865     54865      0       0     0     0       0     0    725     0         0 41.176690 0.000000
user_io:28159.986MB total_ios: 146937.517MB WriteAmplification: 5.2180
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-24 00:03:52 ... thread 0: (100000000,299999999) ops and (61342.8,74722.0) ops/second in (1630.184133,4014.879267) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    39    2038     430        0        0     42266     42266      0      13   770     0       0     0      0    13         0 0.000000 0.000000
    1    28    1827    1254    42261    42261     41382     41382      0     314   366     0       0     0     32   314       230 0.000000 65.274164
    2    63    3547     768    59455    59455     58975     58975      0     431   436     0       0     0    654   431        95 65.274164 65.272139
    3   310   19962    1441   106975   106975    104271    104271      0       1     1     0       0     0   1419     1       166 65.272139 65.281475
    4   167   10824       2      196      196       190       190      0       0     0     0       0     0      2     0         0 65.281475 0.000000
user_io:42266.106MB total_ios: 247084.307MB WriteAmplification: 5.8459
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-24 00:33:31 ... thread 0: (100000000,399999999) ops and (56219.4,69041.4) ops/second in (1778.745567,5793.624834) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    53    2769     577        0        0     56424     56424      0      17  1027     0       0     0      0    17         0 0.000000 0.000000
    1     8     461    1695    56426    56426     55223     55223      0     457   514     0       0     0     45   457       307 0.000000 65.269897
    2    85    4893    1070    81465    81465     80779     80779      0     609   632     0       0     0    907   609       125 65.269897 65.273356
    3   322   20362    2293   165867   165867    161245    161245      0       3     3     0       0     0   2228     3       330 65.273356 65.285050
    4   333   21404      11      783      783       758       758      0       0     0     0       0     0      9     0         0 65.285050 0.000000
user_io:56424.465MB total_ios: 354429.192MB WriteAmplification: 6.2815
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-24 01:08:00 ... thread 0: (100000000,499999999) ops and (48334.5,63592.7) ops/second in (2068.915916,7862.540750) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     721        0        0     70583     70583      0      22  1348     0       0     0      0    22         0 0.000000 0.000000
    1    52    3324    2245    74103    74103     72497     72497      0     575   646     0       0     0     61   575       390 0.000000 65.271899
    2    39    2127    1342   100982   100982    100104    100104      0     834   860     0       0     0   1141   834       164 65.271899 65.276960
    3   319   20258    3319   236713   236713    229962    229962      0      20    20     0       0     0   3217    20       537 65.276960 0.000306
    4   556   35307      53     3848     3848      3672      3672      0       0     0     0       0     0     44     0         0 0.000306 0.000000
user_io:70582.823MB total_ios: 476817.107MB WriteAmplification: 6.7554
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-24 01:43:33 ... thread 0: (100000000,599999999) ops and (46885.6,60027.7) ops/second in (2132.851976,9995.392726) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    16     836     867        0        0     84741     84741      0      26  1606     0       0     0      0    26         0 0.000000 0.000000
    1    45    2901    2690    88267    88267     86337     86337      0     709   790     0       0     0     73   709       459 0.000000 65.269728
    2    41    2473    1646   123076   123076    121992    121992      0    1013  1051     0       0     0   1411  1013       191 65.269728 65.275494
    3   311   19980    4087   288620   288620    280313    280313      0     206   206     0       0     0   3940   206       537 65.275494 0.000306
    4   701   44887     481    35825    35825     33481     33481      0       0     0     0       0     0    449     0         0 0.000306 0.000000
user_io:84741.175MB total_ios: 606864.558MB WriteAmplification: 7.1614
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-24 02:20:22 ... thread 0: (100000000,699999999) ops and (45267.6,57356.0) ops/second in (2209.086351,12204.479077) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    27    1411    1011        0        0     98900     98900      0      30  1866     0       0     0      0    30         0 0.000000 0.000000
    1    39    2530    3146   102579   102579    100320    100320      0     847   938     0       0     0     85   847       527 0.000000 65.275593
    2    57    2972    1980   147058   147058    145756    145756      0    1205  1254     0       0     0   1693  1205       206 65.275593 65.275620
    3   326   20310    4907   345116   345116    334977    334977      0     376   376     0       0     0   4726   376       537 65.275620 0.000306
    4   825   53106     898    66626    66626     61754     61754      0       0     0     0       0     0    844     0         0 0.000306 0.000000
user_io:98899.538MB total_ios: 741706.180MB WriteAmplification: 7.4996
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-24 02:58:07 ... thread 0: (100000000,799999999) ops and (44145.2,55287.8) ops/second in (2265.250876,14469.729953) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    38    1985    1154        0        0    113006    113006      0      34  2125     0       0     0      0    34         0 0.000000 0.000000
    1    27    1697    3600   116894   116894    114306    114306      0     978  1079     0       0     0     98   978       608 0.000000 65.273492
    2    67    3787    2307   170133   170133    168621    168621      0    1405  1460     0       0     0   1990  1405       217 65.273492 38.823673
    3   343   20261    5751   401673   401673    389799    389799      0     554   555     0       0     0   5534   554       537 38.823673 0.000306
    4   940   60972    1352   101047   101047     92718     92718      0       0     0     0       0     0   1296     0         0 0.000306 0.000000
user_io:113005.655MB total_ios: 878449.607MB WriteAmplification: 7.7735
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-24 03:36:55 ... thread 0: (100000000,899999999) ops and (42948.9,53577.6) ops/second in (2328.347983,16798.077936) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    50    2612    1299        0        0    127164    127164      0      38  2384     0       0     0      0    38         0 0.000000 0.000000
    1     7     404    4061   131191   131191    128275    128275      0    1109  1226     0       0     0    110  1109       690 0.000000 65.269697
    2    77    4515    2622   192285   192285    190567    190567      0    1618  1678     0       0     0   2259  1618       223 65.269697 65.275811
    3   361   20845    6626   459767   459767    446076    446076      0     731   734     0       0     0   6398   731       537 65.275811 0.000306
    4  1046   68061    1842   137796   137796    125394    125394      0       0     0     0       0     0   1779     0         0 0.000306 0.000000
user_io:127164.013MB total_ios: 1017475.987MB WriteAmplification: 8.0013
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-24 04:16:48 ... thread 0: (100000000,999999999) ops and (41800.1,52109.3) ops/second in (2392.337349,19190.415285) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    61    3187    1445        0        0    141322    141322      0      42  2644     0       0     0      0    42         0 0.000000 0.000000
    1     8     457    4521   145504   145504    142260    142260      0    1240  1364     0       0     0    122  1240       760 0.000000 0.000306
    2    86    4716    2911   212657   212657    210753    210753      0    1825  1891     0       0     0   2482  1825       223 0.000306 65.275811
    3   359   20477    7572   521837   521837    506156    506156      0     907   915     0       0     0   7333   907       537 65.275811 0.000306
    4  1148   74497    2351   176280   176280    159122    159122      0       0     0     0       0     0   2282     0         0 0.000306 0.000000
user_io:141322.374MB total_ios: 1159613.250MB WriteAmplification: 8.2054
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      19.190 micros/op 52109 ops/sec;    7.2 MB/s
Microseconds per op:
Count: 1000000000  Average: 19.1904  StdDev: 136.22
Percentiles: P50: 5.77 P75: 6.65 P99: 1037.37 P99.9: 1184.26 P99.99: 1198.95
------------------------------------------------------
[       2,       3 )   81730   0.008%   0.008%
[       3,       4 ) 15883837   1.588%   1.597%
[       4,       5 ) 193819852  19.382%  20.979% ####
[       5,       6 ) 376993732  37.699%  58.678% ########
[       6,       7 ) 249630818  24.963%  83.641% #####
[       7,       8 ) 99972456   9.997%  93.638% ##
[       8,       9 ) 34086121   3.409%  97.047% #
[       9,      10 ) 11267066   1.127%  98.174%
[      10,      12 ) 4944834   0.494%  98.668%
[      12,      14 )  537352   0.054%  98.722%
[      14,      16 )   94512   0.009%  98.731%
[      16,      18 )   43175   0.004%  98.736%
[      18,      20 )   35107   0.004%  98.739%
[      20,      25 )   83050   0.008%  98.747%
[      25,      30 )   77496   0.008%  98.755%
[      30,      35 )   36446   0.004%  98.759%
[      35,      40 )   10827   0.001%  98.760%
[      40,      45 )    6370   0.001%  98.760%
[      45,      50 )    3805   0.000%  98.761%
[      50,      60 )   56262   0.006%  98.766%
[      60,      70 )   10856   0.001%  98.768%
[      70,      80 )    1773   0.000%  98.768%
[      80,      90 )    1689   0.000%  98.768%
[      90,     100 )    1539   0.000%  98.768%
[     100,     120 )    2906   0.000%  98.768%
[     120,     140 )    3334   0.000%  98.769%
[     140,     160 )    2552   0.000%  98.769%
[     160,     180 )    1880   0.000%  98.769%
[     180,     200 )    2036   0.000%  98.769%
[     200,     250 )    9061   0.001%  98.770%
[     250,     300 )    1860   0.000%  98.770%
[     300,     350 )     934   0.000%  98.771%
[     350,     400 )     753   0.000%  98.771%
[     400,     450 )     581   0.000%  98.771%
[     450,     500 )     549   0.000%  98.771%
[     500,     600 )     816   0.000%  98.771%
[     600,     700 )     694   0.000%  98.771%
[     700,     800 )     542   0.000%  98.771%
[     800,     900 )     519   0.000%  98.771%
[     900,    1000 )     402   0.000%  98.771%
[    1000,    1200 ) 12254131   1.225%  99.996%
[    1200,    1400 )    8633   0.001%  99.997%
[    1400,    1600 )    4605   0.000%  99.998%
[    1600,    1800 )    3272   0.000%  99.998%
[    1800,    2000 )    2629   0.000%  99.998%
[    2000,    2500 )    2537   0.000%  99.999%
[    2500,    3000 )     996   0.000%  99.999%
[    3000,    3500 )     548   0.000%  99.999%
[    3500,    4000 )     402   0.000%  99.999%
[    4000,    4500 )     349   0.000%  99.999%
[    4500,    5000 )     320   0.000%  99.999%
[    5000,    6000 )     648   0.000%  99.999%
[    6000,    7000 )     611   0.000%  99.999%
[    7000,    8000 )     604   0.000%  99.999%
[    8000,    9000 )     678   0.000%  99.999%
[    9000,   10000 )     711   0.000%  99.999%
[   10000,   12000 )    1345   0.000%  99.999%
[   12000,   14000 )    1377   0.000%  99.999%
[   14000,   16000 )    1311   0.000% 100.000%
[   16000,   18000 )    1249   0.000% 100.000%
[   18000,   20000 )     856   0.000% 100.000%
[   20000,   25000 )    1167   0.000% 100.000%
[   25000,   30000 )     487   0.000% 100.000%
[   30000,   35000 )     195   0.000% 100.000%
[   35000,   40000 )      94   0.000% 100.000%
[   40000,   45000 )      54   0.000% 100.000%
[   45000,   50000 )      20   0.000% 100.000%
[   50000,   60000 )      10   0.000% 100.000%
[   60000,   70000 )       7   0.000% 100.000%
[   70000,   80000 )       1   0.000% 100.000%
[   80000,   90000 )       4   0.000% 100.000%
[   90000,  100000 )       1   0.000% 100.000%
[  100000,  120000 )       3   0.000% 100.000%
[  120000,  140000 )       4   0.000% 100.000%
[  140000,  160000 )       9   0.000% 100.000%
[  160000,  180000 )       3   0.000% 100.000%
[  180000,  200000 )       3   0.000% 100.000%
[  200000,  250000 )       1   0.000% 100.000%
[  250000,  300000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0       61     3187      1445        0    141322
  1        8      457      4521   145504    142260
  2       86     4716      2911   212657    210753
  3      359    20477      7572   521837    506156
  4     1148    74497      2351   176280    159122
user_io:141322.374MB total_ios: 1159613.250MB WriteAmplification: 8.2054

Checking if iostat process with PID 2807400 is still running...
    PID TTY          TIME CMD
2807400 pts/0    00:00:00 iostat
iostat process 2807400 is still running, killing now...
iostat process 2807400 has been successfully killed.
root@jeffwang-NF5280M6:/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment#
 Performance counter stats for process id '2807401':

     21,345,913.07 msec task-clock                       #    1.112 CPUs utilized
        14,067,881      context-switches                 #  659.043 /sec
             5,967      cpu-migrations                   #    0.280 /sec
        20,904,330      page-faults                      #  979.313 /sec
65,771,181,366,497      cycles                           #    3.081 GHz
142,677,519,886,165      instructions                     #    2.17  insn per cycle
20,544,103,176,646      branches                         #  962.437 M/sec
    45,249,822,541      branch-misses                    #    0.22% of all branches
                        TopdownL1                 #      2.3 %  tma_backend_bound
                                                  #     90.1 %  tma_bad_speculation
                                                  #      3.0 %  tma_frontend_bound
                                                  #      4.7 %  tma_retiring

   19189.785940172 seconds time elapsed
