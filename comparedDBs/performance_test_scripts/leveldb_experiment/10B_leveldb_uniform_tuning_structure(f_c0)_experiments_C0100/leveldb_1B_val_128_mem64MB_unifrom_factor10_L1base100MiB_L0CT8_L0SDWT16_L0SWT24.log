base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Thu Jan 23 11:58:37 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT8_L0SDWT16_L0SWT24.log
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT8_L0SDWT16_L0SWT24.log
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2407043
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_100/leveldb_uniform_f10_mem64MiB_L1base100_L0CT8_L0SDWT16_L0SWT24.log --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_L1base100_L0CT8_L0SDWT16_L0SWT24.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-23 12:17:20 ... thread 0: (99999999,99999999) ops and (89053.1,89053.1) ops/second in (1122.925859,1122.925859) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     135        0        0     14002     14002      0      18   267     0       0     0      0    18         0 0.000000 0.000000
    1    14     856     262    16725    16725     16611     16611      0     168   187     0       0     0     51   168        33 0.000000 65.267575
    2    36    2070     452    40582    40582     40437     40437      0     105   107     0       0     0    510   105        63 65.267575 60.426894
    3   161   10496     239    21934    21934     21665     21665      0       0     0     0       0     0    271     0         0 60.426894 0.000000
user_io:14001.624MB total_ios: 92714.899MB WriteAmplification: 6.6217
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-23 12:45:59 ... thread 0: (100000000,199999999) ops and (58185.1,70383.4) ops/second in (1718.652889,2841.578748) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     271        0        0     28160     28160      0      35   539     0       0     0      0    35         0 0.000000 0.000000
    1    16    1001     535    33890    33890     33603     33603      0     378   417     0       0     0    103   378        40 0.000000 13.449152
    2    46    1955     967    86147    86147     85779     85779      0     326   345     0       0     0   1221   326        69 13.449152 65.272439
    3   316   19967    1003    91558    91558     89822     89822      0       1     1     0       0     0   1205     1        44 65.272439 65.282378
    4    45    2842       2      196      196       193       193      0       0     0     0       0     0      2     0         0 65.282378 0.000000
user_io:28159.986MB total_ios: 237556.464MB WriteAmplification: 8.4360
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-23 13:15:23 ... thread 0: (100000000,299999999) ops and (56664.2,65127.3) ops/second in (1764.782297,4606.361045) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    15     784     407        0        0     42318     42318      0      51   795     0       0     0      0    51         0 0.000000 0.000000
    1     6     378     794    50123    50123     49671     49671      0     584   644     0       0     0    155   584        51 0.000000 23.783706
    2    62    2594    1478   131177   131177    130576    130576      0     520   557     0       0     0   1972   520        97 23.783706 61.605772
    3   319   19961    1822   165921   165921    162334    162334      0       3     3     0       0     0   2251     3       217 61.605772 65.282613
    4   220   13953       6      522      522       514       514      0       0     0     0       0     0      5     0         0 65.282613 0.000000
user_io:42318.350MB total_ios: 385412.738MB WriteAmplification: 9.1075
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-23 13:45:41 ... thread 0: (100000000,399999999) ops and (55033.5,62272.0) ops/second in (1817.076076,6423.437121) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    13     679     543        0        0     56424     56424      0      68  1067     0       0     0      0    68         0 0.000000 0.000000
    1     6     386    1067    67168    67168     66543     66543      0     792   868     0       0     0    206   792        62 0.000000 65.267399
    2    60    2552    1999   176973   176973    176141    176141      0     742   795     0       0     0   2723   742       117 65.267399 4.616885
    3   323   19976    2667   241219   241219    235872    235872      0       6     6     0       0     0   3325     6       405 4.616885 38.750021
    4   411   25997      15     1371     1371      1341      1341      0       0     0     0       0     0     15     0         0 38.750021 0.000000
user_io:56424.465MB total_ios: 536321.410MB WriteAmplification: 9.5051
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-23 14:18:57 ... thread 0: (100000000,499999999) ops and (50084.6,59382.0) ops/second in (1996.623642,8420.060763) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    12     627     678        0        0     70583     70583      0      85  1339     0       0     0      0    85         0 0.000000 0.000000
    1     8     458    1341    84416    84416     83617     83617      0    1005  1092     0       0     0    260  1005        73 0.000000 18.193871
    2    54    2475    2524   223249   223249    222183    222183      0     976  1040     0       0     0   3495   976       125 18.193871 0.000306
    3   330   19962    3559   320840   320840    313581    313581      0      82    82     0       0     0   4475    82       517 0.000306 37.907410
    4   584   37169     148    13851    13851     13084     13084      0       0     0     0       0     0    172     0         0 37.907410 0.000000
user_io:70582.823MB total_ios: 703047.911MB WriteAmplification: 9.9606
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-23 14:56:06 ... thread 0: (100000000,599999999) ops and (44856.7,56341.3) ops/second in (2229.319228,10649.379991) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    11     575     813        0        0     84741     84741      0     102  1611     0       0     0      0   102         0 0.000000 0.000000
    1     9     506    1617   101477   101477    100504    100504      0    1216  1317     0       0     0    312  1216        84 0.000000 65.267132
    2    57    2440    3052   269277   269277    267977    267977      0    1217  1290     0       0     0   4256  1217       125 65.267132 0.000306
    3   337   19989    4442   398176   398176    389117    389117      0     271   271     0       0     0   5617   271       517 0.000306 37.907410
    4   727   46794     515    48219    48219     45114     45114      0       0     0     0       0     0    613     0         0 37.907410 0.000000
user_io:84741.175MB total_ios: 887452.685MB WriteAmplification: 10.4725
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-23 15:33:20 ... thread 0: (100000000,699999999) ops and (44775.6,54336.3) ops/second in (2233.359566,12882.739557) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0    10     522     948        0        0     98900     98900      0     119  1883     0       0     0      0   119         0 0.000000 0.000000
    1     9     517    1895   118694   118694    117547    117547      0    1425  1541     0       0     0    364  1425        99 0.000000 65.267159
    2    53    2463    3577   314643   314643    313116    313116      0    1452  1538     0       0     0   5018  1452       127 65.267159 7.672936
    3   348   19982    5310   473593   473593    462727    462727      0     460   461     0       0     0   6763   460       517 7.672936 37.907410
    4   858   55619     893    83930    83930     77673     77673      0       0     0     0       0     0   1072     0         0 37.907410 0.000000
user_io:98899.538MB total_ios: 1069962.711MB WriteAmplification: 10.8187
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-23 16:12:43 ... thread 0: (100000000,799999999) ops and (42320.8,52474.0) ops/second in (2362.904444,15245.644001) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     8     418    1082        0        0    113006    113006      0     136  2155     0       0     0      0   136         0 0.000000 0.000000
    1     9     576    2174   135887   135887    134565    134565      0    1639  1765     0       0     0    418  1639       109 0.000000 65.267387
    2    55    2357    4101   359644   359644    357889    357889      0    1693  1785     0       0     0   5777  1693       130 65.267387 19.513041
    3   348   19979    6290   557301   557301    544446    544446      0     644   655     0       0     0   8072   644       517 19.513041 37.907410
    4   982   63548    1293   121927   121927    111730    111730      0       0     0     0       0     0   1561     0         0 37.907410 0.000000
user_io:113005.655MB total_ios: 1261636.816MB WriteAmplification: 11.1644
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-23 16:51:43 ... thread 0: (100000000,899999999) ops and (42736.3,51178.3) ops/second in (2339.932384,17585.576385) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1218        0        0    127164    127164      0     153  2427     0       0     0      0   153         0 0.000000 0.000000
    1     7     385    2452   152996   152996    151501    151501      0    1846  1987     0       0     0    470  1846       125 0.000000 65.266902
    2    57    2607    4637   405640   405640    403653    403653      0    1936  2034     0       0     0   6552  1936       131 65.266902 0.000306
    3   360   19943    7200   634416   634416    619775    619775      0     833   855     0       0     0   9294   833       517 0.000306 37.907410
    4  1098   70765    1728   163448   163448    148472    148472      0       0     0     0       0     0   2099     0         0 37.907410 0.000000
user_io:127164.013MB total_ios: 1450565.109MB WriteAmplification: 11.4070
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-23 17:31:25 ... thread 0: (100000000,999999999) ops and (41980.5,50081.0) ops/second in (2382.057913,19967.634298) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313    1353        0        0    141322    141322      0     170  2699     0       0     0      0   170         0 0.000000 0.000000
    1    12     705    2731   170142   170142    168474    168474      0    2047  2205     0       0     0    523  2047       137 0.000000 65.266859
    2    48    2191    5160   450758   450758    448538    448538      0    2181  2283     0       0     0   7289  2181       131 65.266859 0.000306
    3   356   19976    8151   715038   715038    698462    698462      0    1019  1053     0       0     0  10582  1019       517 0.000306 37.907410
    4  1207   77276    2173   206052   206052    185656    185656      0       0     0     0       0     0   2657     0         0 37.907410 0.000000
user_io:141322.374MB total_ios: 1642452.490MB WriteAmplification: 11.6220
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      19.968 micros/op 50081 ops/sec;    6.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 19.9676  StdDev: 132.07
Percentiles: P50: 5.73 P75: 6.62 P99: 1047.83 P99.9: 1185.04 P99.99: 1198.76
------------------------------------------------------
[       2,       3 )  122139   0.012%   0.012%
[       3,       4 ) 19583554   1.958%   1.971%
[       4,       5 ) 207537061  20.754%  22.724% ####
[       5,       6 ) 374580400  37.458%  60.182% #######
[       6,       7 ) 240547530  24.055%  84.237% #####
[       7,       8 ) 95291519   9.529%  93.766% ##
[       8,       9 ) 32256743   3.226%  96.992% #
[       9,      10 ) 10663281   1.066%  98.058%
[      10,      12 ) 4785764   0.479%  98.537%
[      12,      14 )  607949   0.061%  98.598%
[      14,      16 )  159226   0.016%  98.614%
[      16,      18 )  105139   0.011%  98.624%
[      18,      20 )  102909   0.010%  98.634%
[      20,      25 )  211194   0.021%  98.655%
[      25,      30 )  118175   0.012%  98.667%
[      30,      35 )   46046   0.005%  98.672%
[      35,      40 )   17645   0.002%  98.674%
[      40,      45 )    9317   0.001%  98.675%
[      45,      50 )    4808   0.000%  98.675%
[      50,      60 )   63077   0.006%  98.681%
[      60,      70 )   15254   0.002%  98.683%
[      70,      80 )    3653   0.000%  98.683%
[      80,      90 )    4367   0.000%  98.684%
[      90,     100 )    2199   0.000%  98.684%
[     100,     120 )    2392   0.000%  98.684%
[     120,     140 )    4554   0.000%  98.685%
[     140,     160 )    2201   0.000%  98.685%
[     160,     180 )    1529   0.000%  98.685%
[     180,     200 )    1975   0.000%  98.685%
[     200,     250 )    6969   0.001%  98.686%
[     250,     300 )    1079   0.000%  98.686%
[     300,     350 )     474   0.000%  98.686%
[     350,     400 )     373   0.000%  98.686%
[     400,     450 )     363   0.000%  98.686%
[     450,     500 )     288   0.000%  98.686%
[     500,     600 )     537   0.000%  98.686%
[     600,     700 )     445   0.000%  98.686%
[     700,     800 )     289   0.000%  98.686%
[     800,     900 )     212   0.000%  98.686%
[     900,    1000 )     189   0.000%  98.686%
[    1000,    1200 ) 13118562   1.312%  99.998%
[    1200,    1400 )    6790   0.001%  99.999%
[    1400,    1600 )    1937   0.000%  99.999%
[    1600,    1800 )     954   0.000%  99.999%
[    1800,    2000 )     466   0.000%  99.999%
[    2000,    2500 )     391   0.000%  99.999%
[    2500,    3000 )     169   0.000%  99.999%
[    3000,    3500 )     231   0.000%  99.999%
[    3500,    4000 )     275   0.000%  99.999%
[    4000,    4500 )     199   0.000%  99.999%
[    4500,    5000 )     229   0.000%  99.999%
[    5000,    6000 )     483   0.000%  99.999%
[    6000,    7000 )     543   0.000%  99.999%
[    7000,    8000 )     479   0.000%  99.999%
[    8000,    9000 )     481   0.000% 100.000%
[    9000,   10000 )     468   0.000% 100.000%
[   10000,   12000 )     914   0.000% 100.000%
[   12000,   14000 )     872   0.000% 100.000%
[   14000,   16000 )     773   0.000% 100.000%
[   16000,   18000 )     615   0.000% 100.000%
[   18000,   20000 )     386   0.000% 100.000%
[   20000,   25000 )     468   0.000% 100.000%
[   25000,   30000 )     239   0.000% 100.000%
[   30000,   35000 )     132   0.000% 100.000%
[   35000,   40000 )      73   0.000% 100.000%
[   40000,   45000 )      33   0.000% 100.000%
[   45000,   50000 )       7   0.000% 100.000%
[   50000,   60000 )      12   0.000% 100.000%
[   60000,   70000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        6      313      1353        0    141322
  1       12      705      2731   170142    168474
  2       48     2191      5160   450758    448538
  3      356    19976      8151   715038    698462
  4     1207    77276      2173   206052    185656
user_io:141322.374MB total_ios: 1642452.490MB WriteAmplification: 11.6220

Checking if iostat process with PID 2407042 is still running...
    PID TTY          TIME CMD
2407042 pts/12   00:00:00 iostat
iostat process 2407042 is still running, killing now...
iostat process 2407042 has been successfully killed.
./leveldb_script_uniform_C0100_varying_L0.sh: line 131: 2407042 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_L1base${level1base}_L0CT${L0CT}_L0SDWT${L0SDWT}_L0SWT${WT}.log
root@jeffwang-NF5280M6:/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment#
 Performance counter stats for process id '2407043':

     22,643,938.87 msec task-clock                       #    1.134 CPUs utilized
        15,500,209      context-switches                 #  684.519 /sec
            10,511      cpu-migrations                   #    0.464 /sec
        28,165,520      page-faults                      #    1.244 K/sec
71,925,040,263,970      cycles                           #    3.176 GHz
161,930,646,852,613      instructions                     #    2.25  insn per cycle
22,894,699,764,491      branches                         #    1.011 G/sec
    44,651,211,959      branch-misses                    #    0.20% of all branches
                        TopdownL1                 #      1.6 %  tma_backend_bound
                                                  #     90.0 %  tma_bad_speculation
                                                  #      3.8 %  tma_frontend_bound
                                                  #      4.6 %  tma_retiring

   19967.472787997 seconds time elapsed
