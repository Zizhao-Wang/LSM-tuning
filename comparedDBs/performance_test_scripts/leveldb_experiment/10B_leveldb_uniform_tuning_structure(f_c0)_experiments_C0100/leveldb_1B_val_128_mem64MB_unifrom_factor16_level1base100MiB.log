LevelDB:    version 1.23
Date:       Thu Jan  9 00:19:06 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f16_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f16_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2985875
../../../leveldb/build_release_f_16_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f16_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f16_memory_usage_1B_key16_val128_mem64MiB_factor16_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-09 00:42:13 ... thread 0: (99999999,99999999) ops and (72124.3,72124.3) ops/second in (1386.494296,1386.494296) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     133        0        0     14002     14002      0      35   268     0       0     0      0    35         0 0.000000 0.000000
    1    11     593     267    19726    19726     19644     19644      0     212   236     0       0     0    120   212         5 0.000000 65.260336
    2    56    3137     780    69599    69599     69332     69332      0      70    72     0       0     0    961    70        88 65.260336 28.732653
    3   153    9763     172    15620    15620     15460     15460      0       0     0     0       0     0    195     0         0 28.732653 0.000000
user_io:14001.624MB total_ios: 118437.824MB WriteAmplification: 8.4589
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-09 01:14:38 ... thread 0: (100000000,199999999) ops and (51414.2,60033.4) ops/second in (1944.986083,3331.480379) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     267        0        0     28160     28160      0      68   532     0       0     0      0    68         0 0.000000 0.000000
    1     8     471     530    39125    39125     38910     38910      0     447   486     0       0     0    241   447         7 0.000000 7.469176
    2    66    3282    1685   148915   148915    148284    148284      0     283   298     0       0     0   2276   283        88 7.469176 28.732653
    3   341   21764     777    70799    70799     69368     69368      0       0     0     0       0     0    921     0         0 28.732653 0.000000
user_io:28159.986MB total_ios: 284721.246MB WriteAmplification: 10.1108
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-09 01:52:01 ... thread 0: (100000000,299999999) ops and (44581.2,53815.7) ops/second in (2243.099226,5574.579605) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     401        0        0     42318     42318      0     102   804     0       0     0      0   102         0 0.000000 0.000000
    1     9     513     802    59206    59206     58852     58852      0     691   742     0       0     0    366   691         7 0.000000 7.469176
    2    74    3222    2609   229823   229823    228808    228808      0     516   549     0       0     0   3779   516        88 7.469176 28.732653
    3   523   32972    1654   151361   151361    147431    147431      0       0     0     0       0     0   2035     0         0 28.732653 0.000000
user_io:42318.350MB total_ios: 477409.363MB WriteAmplification: 11.2814
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-09 02:32:16 ... thread 0: (100000000,399999999) ops and (41395.5,50060.7) ops/second in (2415.720271,7990.299876) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     534        0        0     56424     56424      0     136  1076     0       0     0      0   136         0 0.000000 0.000000
    1     8     386    1071    79107    79107     78616     78616      0     937  1003     0       0     0    489   937         7 0.000000 7.469176
    2    85    3386    3516   309480   309480    308088    308088      0     751   809     0       0     0   5480   751        88 7.469176 28.732653
    3   687   43069    2721   249723   249723    242232    242232      0       0     0     0       0     0   3430     0         0 28.732653 0.000000
user_io:56424.465MB total_ios: 685359.583MB WriteAmplification: 12.1465
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-09 03:16:52 ... thread 0: (100000000,499999999) ops and (37381.0,46880.3) ops/second in (2675.158838,10665.458714) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     667        0        0     70583     70583      0     170  1348     0       0     0      0   170         0 0.000000 0.000000
    1    10     527    1341    99029    99029     98400     98400      0    1176  1260     0       0     0    608  1176         7 0.000000 7.469176
    2    95    3263    4419   388404   388404    386635    386635      0    1033  1095     0       0     0   7351  1033        88 7.469176 28.732653
    3   815   51177    4041   370974   370974    358949    358949      0       0     0     0       0     0   5209     0        16 28.732653 65.285800
    4    16    1037       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.285800 0.000000
user_io:70582.823MB total_ios: 914566.938MB WriteAmplification: 12.9574
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-09 04:03:22 ... thread 0: (100000000,599999999) ops and (35843.1,44591.8) ops/second in (2789.937198,13455.395912) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     800        0        0     84741     84741      0     204  1620     0       0     0      0   204         0 0.000000 0.000000
    1    10     515    1613   119066   119066    118300    118300      0    1428  1520     0       0     0    733  1428         7 0.000000 7.469176
    2    97    3224    5338   468235   468235    466085    466085      0    1331  1403     0       0     0   9264  1331        96 7.469176 65.272823
    3   814   51165    5446   499653   499653    482719    482719      0       3     3     0       0     0   7121     3       152 65.272823 65.284636
    4   154    9843      11     1046     1046      1008      1008      0       0     0     0       0     0     14     0         0 65.284636 0.000000
user_io:84741.175MB total_ios: 1152852.709MB WriteAmplification: 13.6044
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-09 04:49:31 ... thread 0: (100000000,699999999) ops and (36110.7,43144.2) ops/second in (2769.259427,16224.655339) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     933        0        0     98900     98900      0     238  1892     0       0     0      0   238         0 0.000000 0.000000
    1    12     608    1884   138943   138943    138040    138040      0    1677  1776     0       0     0    854  1677         7 0.000000 7.469176
    2    85    3145    6270   549062   549062    546531    546531      0    1588  1726     0       0     0  11160  1588       100 7.469176 15.046587
    3   832   51199    6818   624964   624964    603178    603178      0       6     7     0       0     0   8970     6       290 15.046587 65.284242
    4   295   18615      19     1732     1732      1673      1673      0       0     0     0       0     0     22     0         0 65.284242 0.000000
user_io:98899.538MB total_ios: 1388321.569MB WriteAmplification: 14.0377
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-09 05:33:32 ... thread 0: (100000000,799999999) ops and (37854.4,42403.5) ops/second in (2641.700585,18866.355924) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1066        0        0    113006    113006      0     271  2156     0       0     0      0   271         0 0.000000 0.000000
    1     9     477    2154   158448   158448    157411    157411      0    1916  2025     0       0     0    974  1916         8 0.000000 2.792373
    2    82    3300    7189   627853   627853    624948    624948      0    1811  1989     0       0     0  12953  1811       101 2.792373 1.437241
    3   833   51195    8086   740159   740159    713794    713794      0       7     8     0       0     0  10676     7       428 1.437241 65.283949
    4   434   27298      21     1928     1928      1865      1865      0       0     0     0       0     0     24     0         0 65.283949 0.000000
user_io:113005.655MB total_ios: 1611022.569MB WriteAmplification: 14.2561
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-09 06:19:36 ... thread 0: (100000000,899999999) ops and (36188.3,41609.5) ops/second in (2763.326200,21629.682124) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313    1199        0        0    127164    127164      0     305  2428     0       0     0      0   305         0 0.000000 0.000000
    1     9     411    2430   178428   178428    177253    177253      0    2161  2279     0       0     0   1096  2161         9 0.000000 65.260367
    2    86    3367    8118   707018   707018    703737    703737      0    2047  2237     0       0     0  14845  2047       101 65.260367 1.437241
    3   831   51150    9443   861852   861852    830700    830700      0       9    10     0       0     0  12484     9       568 1.437241 65.285631
    4   576   36198      36     3276     3276      3160      3160      0       0     0     0       0     0     43     0         0 65.285631 0.000000
user_io:127164.013MB total_ios: 1842014.705MB WriteAmplification: 14.4853
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-09 07:06:15 ... thread 0: (100000000,999999999) ops and (35718.4,40934.3) ops/second in (2799.680968,24429.363092) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261    1333        0        0    141322    141322      0     339  2700     0       0     0      0   339         0 0.000000 0.000000
    1    12     600    2709   198455   198455    197142    197142      0    2405  2537     0       0     0   1219  2405         9 0.000000 65.260367
    2    71    3154    9052   786270   786270    782610    782610      0    2299  2494     0       0     0  16722  2299       102 65.260367 36.732776
    3   841   51200   10825   984921   984921    949034    949034      0      12    13     0       0     0  14336    12       709 36.732776 65.284345
    4   719   45096      51     4649     4649      4499      4499      0       0     0     0       0     0     62     0         0 65.284345 0.000000
user_io:141322.374MB total_ios: 2074606.814MB WriteAmplification: 14.6800
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      24.429 micros/op 40934 ops/sec;    5.6 MB/s
Microseconds per op:
Count: 1000000000  Average: 24.4294  StdDev: 150.55
Percentiles: P50: 5.69 P75: 6.55 P99: 1083.73 P99.9: 1188.56 P99.99: 1199.05
------------------------------------------------------
[       2,       3 )  111469   0.011%   0.011%
[       3,       4 ) 19388731   1.939%   1.950%
[       4,       5 ) 215702040  21.570%  23.520% ####
[       5,       6 ) 386541805  38.654%  62.174% ########
[       6,       7 ) 233334966  23.333%  85.508% #####
[       7,       8 ) 84245042   8.425%  93.932% ##
[       8,       9 ) 26587974   2.659%  96.591% #
[       9,      10 ) 9235737   0.924%  97.515%
[      10,      12 ) 5010460   0.501%  98.016%
[      12,      14 ) 1006034   0.101%  98.116%
[      14,      16 )  377842   0.038%  98.154%
[      16,      18 )  242831   0.024%  98.178%
[      18,      20 )  233619   0.023%  98.202%
[      20,      25 )  439253   0.044%  98.246%
[      25,      30 )  173127   0.017%  98.263%
[      30,      35 )   48720   0.005%  98.268%
[      35,      40 )   13421   0.001%  98.269%
[      40,      45 )    4834   0.000%  98.270%
[      45,      50 )    3935   0.000%  98.270%
[      50,      60 )   63598   0.006%  98.277%
[      60,      70 )    8532   0.001%  98.277%
[      70,      80 )    6686   0.001%  98.278%
[      80,      90 )    5915   0.001%  98.279%
[      90,     100 )    2532   0.000%  98.279%
[     100,     120 )    4378   0.000%  98.279%
[     120,     140 )    5551   0.001%  98.280%
[     140,     160 )    1588   0.000%  98.280%
[     160,     180 )    1269   0.000%  98.280%
[     180,     200 )    1216   0.000%  98.280%
[     200,     250 )    3723   0.000%  98.281%
[     250,     300 )     907   0.000%  98.281%
[     300,     350 )     659   0.000%  98.281%
[     350,     400 )     404   0.000%  98.281%
[     400,     450 )     286   0.000%  98.281%
[     450,     500 )     306   0.000%  98.281%
[     500,     600 )     675   0.000%  98.281%
[     600,     700 )     502   0.000%  98.281%
[     700,     800 )     298   0.000%  98.281%
[     800,     900 )     177   0.000%  98.281%
[     900,    1000 )      82   0.000%  98.281%
[    1000,    1200 ) 17170755   1.717%  99.998%
[    1200,    1400 )    7198   0.001%  99.999%
[    1400,    1600 )    1766   0.000%  99.999%
[    1600,    1800 )     846   0.000%  99.999%
[    1800,    2000 )     333   0.000%  99.999%
[    2000,    2500 )     354   0.000%  99.999%
[    2500,    3000 )     224   0.000%  99.999%
[    3000,    3500 )     218   0.000%  99.999%
[    3500,    4000 )     226   0.000%  99.999%
[    4000,    4500 )     194   0.000%  99.999%
[    4500,    5000 )     219   0.000%  99.999%
[    5000,    6000 )     419   0.000%  99.999%
[    6000,    7000 )     352   0.000%  99.999%
[    7000,    8000 )     374   0.000%  99.999%
[    8000,    9000 )     414   0.000% 100.000%
[    9000,   10000 )     338   0.000% 100.000%
[   10000,   12000 )     748   0.000% 100.000%
[   12000,   14000 )     730   0.000% 100.000%
[   14000,   16000 )     698   0.000% 100.000%
[   16000,   18000 )     612   0.000% 100.000%
[   18000,   20000 )     427   0.000% 100.000%
[   20000,   25000 )     633   0.000% 100.000%
[   25000,   30000 )     349   0.000% 100.000%
[   30000,   35000 )     200   0.000% 100.000%
[   35000,   40000 )     140   0.000% 100.000%
[   40000,   45000 )      55   0.000% 100.000%
[   45000,   50000 )      28   0.000% 100.000%
[   50000,   60000 )      26   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5      261      1333        0    141322
  1       12      600      2709   198455    197142
  2       71     3154      9052   786270    782610
  3      841    51200     10825   984921    949034
  4      719    45096        51     4649      4499
user_io:141322.374MB total_ios: 2074606.814MB WriteAmplification: 14.6800

Checking if iostat process with PID 2985874 is still running...
    PID TTY          TIME CMD
2985874 pts/1    00:00:00 iostat
iostat process 2985874 is still running, killing now...
iostat process 2985874 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0100.sh: line 43: 2985874 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2985875':

     26,335,908.91 msec task-clock                       #    1.078 CPUs utilized
        21,557,737      context-switches                 #  818.568 /sec
             4,117      cpu-migrations                   #    0.156 /sec
        37,825,027      page-faults                      #    1.436 K/sec
83,218,373,685,718      cycles                           #    3.160 GHz
191,066,719,627,663      instructions                     #    2.30  insn per cycle
26,863,584,044,370      branches                         #    1.020 G/sec
    49,911,387,876      branch-misses                    #    0.19% of all branches
                        TopdownL1                 #      2.0 %  tma_backend_bound
                                                  #     90.5 %  tma_bad_speculation
                                                  #      3.0 %  tma_frontend_bound
                                                  #      4.5 %  tma_retiring

   24429.024622402 seconds time elapsed
