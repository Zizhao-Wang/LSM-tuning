LevelDB:    version 1.23
Date:       Wed Jan  8 12:13:57 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f8_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f8_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2975184
../../../leveldb/build_release_f_8_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_uniform_f8_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_uniform_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-08 12:35:54 ... thread 0: (99999999,99999999) ops and (75960.5,75960.5) ops/second in (1316.473438,1316.473438) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     135        0        0     14002     14002      0      35   265     0       0     0      0    35         0 0.000000 0.000000
    1     7     423     255    19002    19002     18926     18926      0     193   215     0       0     0     99   193        17 0.000000 6.595637
    2    33    1705     521    46033    46033     45911     45911      0     138   141     0       0     0    628   138        44 6.595637 55.541871
    3   175   11146     372    33759    33759     33387     33387      0       0     0     0       0     0    427     0         0 55.541871 0.000000
user_io:14001.624MB total_ios: 112224.582MB WriteAmplification: 8.0151
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-08 13:05:49 ... thread 0: (100000000,199999999) ops and (55684.9,64261.3) ops/second in (1795.817569,3112.291007) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     270        0        0     28160     28160      0      69   537     0       0     0      0    69         0 0.000000 0.000000
    1     9     489     521    38686    38686     38474     38474      0     414   445     0       0     0    208   414        24 0.000000 12.401242
    2    34    1600    1078    95130    95130     94814     94814      0     349   366     0       0     0   1429   349        65 12.401242 65.271782
    3   202   12763    1170   106089   106089    104506    104506      0       3     4     0       0     0   1419     3       171 65.271782 65.281290
    4   175   11078       9      824      824       809       809      0       0     0     0       0     0     10     0         0 65.281290 0.000000
user_io:28159.986MB total_ios: 266763.443MB WriteAmplification: 9.4731
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-08 13:35:48 ... thread 0: (100000000,299999999) ops and (55612.5,61094.2) ops/second in (1798.157670,4910.448677) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     404        0        0     42318     42318      0     103   809     0       0     0      0   103         0 0.000000 0.000000
    1     9     509     792    58730    58730     58380     58380      0     634   682     0       0     0    319   634        33 0.000000 47.117311
    2    35    1617    1625   143281   143281    142774    142774      0     557   588     0       0     0   2231   557        89 47.117311 48.200646
    3   209   12794    1922   173220   173220    170523    170523      0      34    35     0       0     0   2366    34       341 48.200646 58.647369
    4   372   23559      74     6837     6837      6603      6603      0       0     0     0       0     0     86     0         0 58.647369 0.000000
user_io:42318.350MB total_ios: 420598.434MB WriteAmplification: 9.9389
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-08 14:12:01 ... thread 0: (100000000,399999999) ops and (46004.6,56464.1) ops/second in (2173.694842,7084.143519) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     538        0        0     56424     56424      0     136  1073     0       0     0      0   136         0 0.000000 0.000000
    1     6     293    1057    78262    78262     77777     77777      0     848   917     0       0     0    427   848        40 0.000000 65.263644
    2    38    1848    2181   191960   191960    191257    191257      0     783   829     0       0     0   3023   783        90 65.263644 16.794084
    3   212   12757    2719   243605   243605    239705    239705      0     230   231     0       0     0   3387   230       341 16.794084 58.647369
    4   530   34171     456    42438    42438     40535     40535      0       0     0     0       0     0    542     0         0 58.647369 0.000000
user_io:56424.465MB total_ios: 605699.787MB WriteAmplification: 10.7347
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-08 14:49:29 ... thread 0: (100000000,499999999) ops and (44489.8,53579.9) ops/second in (2247.706683,9331.850202) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     673        0        0     70583     70583      0     170  1345     0       0     0      0   170         0 0.000000 0.000000
    1     8     473    1327    98147    98147     97525     97525      0    1064  1148     0       0     0    542  1064        50 0.000000 6.232707
    2    36    1695    2739   241077   241077    240180    240180      0    1014  1071     0       0     0   3832  1014        91 6.232707 32.308720
    3   235   12773    3547   316812   316812    311697    311697      0     428   433     0       0     0   4494   428       341 32.308720 58.647369
    4   680   44165     869    81604    81604     77073     77073      0       0     0     0       0     0   1044     0         0 58.647369 0.000000
user_io:70582.823MB total_ios: 797058.512MB WriteAmplification: 11.2925
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-08 15:26:51 ... thread 0: (100000000,599999999) ops and (44599.6,51840.2) ops/second in (2242.171516,11574.021718) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261     808        0        0     84741     84741      0     204  1617     0       0     0      0   204         0 0.000000 0.000000
    1     6     324    1599   118302   118302    117541    117541      0    1284  1385     0       0     0    655  1284        61 0.000000 65.260774
    2    41    1861    3302   290352   290352    289260    289260      0    1239  1313     0       0     0   4643  1239        94 65.260774 7.920357
    3   235   12761    4293   382816   382816    376615    376615      0     633   644     0       0     0   5536   633       341 7.920357 58.647369
    4   825   53271    1351   127668   127668    119460    119460      0       0     0     0       0     0   1652     0         0 58.647369 0.000000
user_io:84741.175MB total_ios: 987617.134MB WriteAmplification: 11.6545
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-08 16:06:42 ... thread 0: (100000000,699999999) ops and (41819.3,50124.4) ops/second in (2391.240292,13965.262010) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     943        0        0     98900     98900      0     238  1889     0       0     0      0   238         0 0.000000 0.000000
    1     7     397    1873   138386   138386    137487    137487      0    1499  1615     0       0     0    770  1499        70 0.000000 37.402385
    2    36    1751    3870   339693   339693    338402    338402      0    1477  1563     0       0     0   5443  1477        95 37.402385 0.895534
    3   248   12754    5137   456772   456772    449316    449316      0     833   858     0       0     0   6730   833       341 0.895534 58.647369
    4   958   61424    1878   178366   178366    165647    165647      0       0     0     0       0     0   2323     0         0 58.647369 0.000000
user_io:98899.538MB total_ios: 1189751.047MB WriteAmplification: 12.0299
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-08 16:46:39 ... thread 0: (100000000,799999999) ops and (41721.6,48893.5) ops/second in (2396.842040,16362.104050) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104    1077        0        0    113006    113006      0     272  2161     0       0     0      0   272         0 0.000000 0.000000
    1    10     499    2149   158370   158370    157334    157334      0    1717  1845     0       0     0    883  1717        76 0.000000 65.262533
    2    35    1636    4430   387331   387331    385851    385851      0    1708  1807     0       0     0   6228  1708        95 65.262533 0.895534
    3   246   12753    5962   528037   528037    519384    519384      0    1038  1079     0       0     0   7939  1038       341 0.895534 58.647369
    4  1081   68842    2429   231105   231105    213104    213104      0       0     0     0       0     0   3028     0         0 58.647369 0.000000
user_io:113005.655MB total_ios: 1388677.955MB WriteAmplification: 12.2886
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-08 17:27:01 ... thread 0: (100000000,899999999) ops and (41289.1,47913.0) ops/second in (2421.949179,18784.053229) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52    1212        0        0    127164    127164      0     306  2433     0       0     0      0   306         0 0.000000 0.000000
    1    11     612    2427   178333   178333    177158    177158      0    1932  2079     0       0     0   1000  1932        84 0.000000 15.594147
    2    35    1596    5001   435493   435493    433818    433818      0    1937  2046     0       0     0   7039  1937        97 15.594147 21.448821
    3   246   12768    6752   595545   595545    585783    585783      0    1242  1297     0       0     0   9081  1242       341 21.448821 58.647369
    4  1190   75515    3029   288529   288529    264517    264517      0       0     0     0       0     0   3815     0         0 58.647369 0.000000
user_io:127164.013MB total_ios: 1588440.996MB WriteAmplification: 12.4913
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-08 18:09:28 ... thread 0: (100000000,999999999) ops and (39260.3,46879.8) ops/second in (2547.102661,21331.155890) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1347        0        0    141322    141322      0     340  2705     0       0     0      0   340         0 0.000000 0.000000
    1    10     591    2710   198491   198491    197178    197178      0    2152  2315     0       0     0   1112  2152        91 0.000000 65.259635
    2    36    1588    5596   485366   485366    483494    483494      0    2167  2289     0       0     0   7842  2167        97 65.259635 21.448821
    3   255   12790    7606   668212   668212    657193    657193      0    1451  1522     0       0     0  10311  1451       341 21.448821 58.647369
    4  1288   81543    3660   348883   348883    318277    318277      0       0     0     0       0     0   4642     0         0 58.647369 0.000000
user_io:141322.374MB total_ios: 1797464.313MB WriteAmplification: 12.7189
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      21.331 micros/op 46879 ops/sec;    6.4 MB/s
Microseconds per op:
Count: 1000000000  Average: 21.3312  StdDev: 136.38
Percentiles: P50: 5.84 P75: 6.73 P99: 1059.62 P99.9: 1186.20 P99.99: 1198.86
------------------------------------------------------
[       2,       3 )   94440   0.009%   0.009%
[       3,       4 ) 16223084   1.622%   1.632%
[       4,       5 ) 178845538  17.885%  19.516% ####
[       5,       6 ) 364383641  36.438%  55.955% #######
[       6,       7 ) 262096964  26.210%  82.164% #####
[       7,       8 ) 107685355  10.769%  92.933% ##
[       8,       9 ) 35934508   3.593%  96.526% #
[       9,      10 ) 11851176   1.185%  97.711%
[      10,      12 ) 5787405   0.579%  98.290%
[      12,      14 ) 1100104   0.110%  98.400%
[      14,      16 )  399403   0.040%  98.440%
[      16,      18 )  248806   0.025%  98.465%
[      18,      20 )  240992   0.024%  98.489%
[      20,      25 )  466126   0.047%  98.536%
[      25,      30 )  185805   0.019%  98.554%
[      30,      35 )   66790   0.007%  98.561%
[      35,      40 )   20509   0.002%  98.563%
[      40,      45 )    8921   0.001%  98.564%
[      45,      50 )    5631   0.001%  98.565%
[      50,      60 )   64795   0.006%  98.571%
[      60,      70 )   11952   0.001%  98.572%
[      70,      80 )    7572   0.001%  98.573%
[      80,      90 )    6895   0.001%  98.574%
[      90,     100 )    3067   0.000%  98.574%
[     100,     120 )    5200   0.001%  98.574%
[     120,     140 )    3826   0.000%  98.575%
[     140,     160 )    1751   0.000%  98.575%
[     160,     180 )    1409   0.000%  98.575%
[     180,     200 )    1323   0.000%  98.575%
[     200,     250 )    3315   0.000%  98.576%
[     250,     300 )     743   0.000%  98.576%
[     300,     350 )     493   0.000%  98.576%
[     350,     400 )     429   0.000%  98.576%
[     400,     450 )     398   0.000%  98.576%
[     450,     500 )     390   0.000%  98.576%
[     500,     600 )     722   0.000%  98.576%
[     600,     700 )     584   0.000%  98.576%
[     700,     800 )     307   0.000%  98.576%
[     800,     900 )     133   0.000%  98.576%
[     900,    1000 )      78   0.000%  98.576%
[    1000,    1200 ) 14220474   1.422%  99.998%
[    1200,    1400 )    6993   0.001%  99.999%
[    1400,    1600 )    2002   0.000%  99.999%
[    1600,    1800 )     821   0.000%  99.999%
[    1800,    2000 )     278   0.000%  99.999%
[    2000,    2500 )     295   0.000%  99.999%
[    2500,    3000 )     241   0.000%  99.999%
[    3000,    3500 )     253   0.000%  99.999%
[    3500,    4000 )     291   0.000%  99.999%
[    4000,    4500 )     329   0.000%  99.999%
[    4500,    5000 )     322   0.000%  99.999%
[    5000,    6000 )     622   0.000%  99.999%
[    6000,    7000 )     486   0.000%  99.999%
[    7000,    8000 )     614   0.000%  99.999%
[    8000,    9000 )     610   0.000% 100.000%
[    9000,   10000 )     621   0.000% 100.000%
[   10000,   12000 )     915   0.000% 100.000%
[   12000,   14000 )     791   0.000% 100.000%
[   14000,   16000 )     686   0.000% 100.000%
[   16000,   18000 )     571   0.000% 100.000%
[   18000,   20000 )     406   0.000% 100.000%
[   20000,   25000 )     443   0.000% 100.000%
[   25000,   30000 )     225   0.000% 100.000%
[   30000,   35000 )      89   0.000% 100.000%
[   35000,   40000 )      28   0.000% 100.000%
[   40000,   45000 )       9   0.000% 100.000%
[   45000,   50000 )       3   0.000% 100.000%
[   50000,   60000 )       1   0.000% 100.000%
[   70000,   80000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0      1347        0    141322
  1       10      591      2710   198491    197178
  2       36     1588      5596   485366    483494
  3      255    12790      7606   668212    657193
  4     1288    81543      3660   348883    318277
user_io:141322.374MB total_ios: 1797464.313MB WriteAmplification: 12.7189

Checking if iostat process with PID 2975183 is still running...
    PID TTY          TIME CMD
2975183 pts/1    00:00:00 iostat
iostat process 2975183 is still running, killing now...
iostat process 2975183 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0100.sh: line 43: 2975183 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2975184':

     23,800,723.23 msec task-clock                       #    1.116 CPUs utilized
        17,996,394      context-switches                 #  756.128 /sec
             7,971      cpu-migrations                   #    0.335 /sec
        30,100,392      page-faults                      #    1.265 K/sec
75,805,263,107,310      cycles                           #    3.185 GHz
170,639,483,838,623      instructions                     #    2.25  insn per cycle
24,048,411,709,380      branches                         #    1.010 G/sec
    47,757,276,939      branch-misses                    #    0.20% of all branches
                        TopdownL1                 #      1.9 %  tma_backend_bound
                                                  #     88.5 %  tma_bad_speculation
                                                  #      4.8 %  tma_frontend_bound
                                                  #      4.9 %  tma_retiring

   21330.638553001 seconds time elapsed
