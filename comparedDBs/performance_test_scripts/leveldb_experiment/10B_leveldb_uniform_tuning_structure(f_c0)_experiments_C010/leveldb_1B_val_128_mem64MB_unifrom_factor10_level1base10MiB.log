LevelDB:    version 1.23
Date:       Sat Jan 11 11:24:53 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_10/leveldb_uniform_f10_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_10/leveldb_uniform_f10_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3263776
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_10/leveldb_uniform_f10_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_uniform_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-11 11:47:29 ... thread 0: (99999999,99999999) ops and (73773.7,73773.7) ops/second in (1355.496042,1355.496042) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     143        0        0     13584     13584      0      34   256     0       0     0      0    34         0 0.000000 0.000000
    1     1      23     187    13375    13375     13649     13649      0      30    54     0       0     0      0    30       176 0.000000 65.257929
    2     2     131      64     5208     5208      5354      5354      0     107   133     0       0     0     38   107        94 65.257929 65.258025
    3     8     476     246    20526    20526     20480     20480      0     152   162     0       0     0    207   152        49 65.258025 65.262508
    4    21    1352     385    32025    32025     31908     31908      0     109   114     0       0     0    388   109        72 65.262508 65.264983
    5    56    3432     291    24599    24599     24394     24394      0       4     4     0       0     0    300     4       121 65.264983 27.726123
    6   125    8007       7      587      587       581       581      0       0     0     0       0     0      5     0         0 27.726123 0.000000
user_io:13583.665MB total_ios: 109949.705MB WriteAmplification: 8.0943
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-11 12:21:59 ... thread 0: (100000000,199999999) ops and (48299.5,58378.6) ops/second in (2070.414879,3425.910921) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     290        0        0     27690     27690      0      68   528     0       0     0      0    68         0 0.000000 0.000000
    1     2      89     385    27585    27585     27812     27812      0      62   118     0       0     0      0    62       350 0.000000 65.258455
    2     6     391     131    10908    10908     11043     11043      0     217   266     0       0     0     72   217       187 65.258455 65.258488
    3     5     306     486    40671    40671     40580     40580      0     327   344     0       0     0    403   327        92 65.258488 65.260128
    4    24    1238     831    68683    68683     68427     68427      0     284   295     0       0     0    866   284       110 65.260128 65.271331
    5    81    5116     801    66827    66827     66193     66193      0     187   188     0       0     0    871   187       121 65.271331 27.726123
    6   292   18997     426    36596    36596     35766     35766      0       0     0     0       0     0    463     0         0 27.726123 0.000000
user_io:27689.782MB total_ios: 277511.795MB WriteAmplification: 10.0222
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-11 12:58:53 ... thread 0: (100000000,299999999) ops and (45157.5,53187.9) ops/second in (2214.469935,5640.380856) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     436        0        0     41691     41691      0     101   792     0       0     0      0   101         0 0.000000 0.000000
    1     0       0     576    41378    41378     41613     41613      0      90   169     0       0     0      0    90       534 0.000000 65.258098
    2     2     131     188    15687    15687     15812     15812      0     323   399     0       0     0    104   323       286 65.258098 65.261011
    3    10     619     732    61027    61027     60889     60889      0     488   520     0       0     0    602   488       139 65.261011 65.262877
    4    22    1231    1257   104063   104063    103675    103675      0     469   485     0       0     0   1342   469       136 65.262877 65.271827
    5   103    5059    1273   106075   106075    105061    105061      0     395   404     0       0     0   1421   395       121 65.271827 27.726123
    6   470   30327    1054    90757    90757     87925     87925      0       0     0     0       0     0   1184     0         0 27.726123 0.000000
user_io:41691.413MB total_ios: 456666.389MB WriteAmplification: 10.9535
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-11 13:40:12 ... thread 0: (100000000,399999999) ops and (40338.7,49264.8) ops/second in (2479.010821,8119.391677) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     583        0        0     55693     55693      0     135  1064     0       0     0      0   135         0 0.000000 0.000000
    1     0       0     774    55589    55589     55881     55881      0     119   223     0       0     0      0   119       721 0.000000 65.258891
    2     3     196     249    20780    20780     20894     20894      0     433   539     0       0     0    138   433       382 65.258891 65.258352
    3     9     543     986    82219    82219     82035     82035      0     660   704     0       0     0    810   660       187 65.258352 65.262270
    4    24    1249    1687   139763   139763    139242    139242      0     688   709     0       0     0   1808   688       136 65.262270 65.271827
    5   100    5089    1837   152727   152727    151248    151248      0     611   639     0       0     0   2155   611       121 65.271827 27.726123
    6   645   40770    1830   157456   157456    151494    151494      0       0     0     0       0     0   2083     0         0 27.726123 0.000000
user_io:55693.037MB total_ios: 656485.191MB WriteAmplification: 11.7876
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-11 14:22:48 ... thread 0: (100000000,499999999) ops and (39136.9,46840.5) ops/second in (2555.135184,10674.526861) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     730        0        0     69695     69695      0     168  1328     0       0     0      0   168         0 0.000000 0.000000
    1     0       0     965    69381    69381     69734     69734      0     152   290     0       0     0      0   152       888 0.000000 65.258149
    2     1      65     322    26908    26908     27010     27010      0     531   661     0       0     0    177   531       488 65.258149 65.258106
    3    10     545    1205   100436   100436    100210    100210      0     831   886     0       0     0    979   831       231 65.258106 65.263247
    4    24    1358    2111   174939   174939    174282    174282      0     897   922     0       0     0   2277   897       138 65.263247 27.697782
    5   120    5090    2356   195680   195680    193800    193800      0     830   874     0       0     0   2870   830       122 27.697782 0.000306
    6   791   49997    2759   237983   237983    227966    227966      0       0     0     0       0     0   3213     0         0 0.000306 0.000000
user_io:69694.660MB total_ios: 862696.378MB WriteAmplification: 12.3782
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-11 15:08:27 ... thread 0: (100000000,599999999) ops and (36509.7,44731.0) ops/second in (2739.000778,13413.527639) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     877        0        0     83696     83696      0     202  1600     0       0     0      0   202         0 0.000000 0.000000
    1     0       0    1161    83592    83592     84002     84002      0     187   356     0       0     0      0   187      1063 0.000000 65.258462
    2     5     326     395    33101    33101     33191     33191      0     642   795     0       0     0    218   642       586 65.258462 65.257133
    3     7     396    1447   120270   120270    119999    119999      0     998  1068     0       0     0   1173   998       273 65.257133 65.265272
    4    22    1249    2541   210575   210575    209782    209782      0    1112  1145     0       0     0   2733  1112       138 65.265272 27.697782
    5   126    5083    2883   239381   239381    237052    237052      0    1063  1134     0       0     0   3632  1063       122 27.697782 0.000306
    6   935   58571    3823   330403   330403    315331    315331      0       0     0     0       0     0   4525     0         0 0.000306 0.000000
user_io:83696.277MB total_ios: 1083052.366MB WriteAmplification: 12.9403
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-11 15:56:11 ... thread 0: (100000000,699999999) ops and (34908.2,43002.3) ops/second in (2864.652908,16278.180547) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209    1022        0        0     97593     97593      0     235  1864     0       0     0      0   235         0 0.000000 0.000000
    1     0       0    1354    97384    97384     97959     97959      0     222   428     0       0     0      0   222      1227 0.000000 65.258081
    2     5     284     474    39853    39853     39930     39930      0     748   929     0       0     0    263   748       682 65.258081 65.260873
    3     7     455    1694   140937   140937    140620    140620      0    1167  1248     0       0     0   1376  1167       312 65.260873 65.263219
    4    23    1253    2977   246467   246467    245534    245534      0    1324  1361     0       0     0   3201  1324       139 65.263219 18.763253
    5   118    5080    3380   280236   280236    277501    277501      0    1311  1395     0       0     0   4382  1311       122 18.763253 0.000306
    6  1058   66151    5031   433973   433973    413143    413143      0       0     0     0       0     0   6021     0         0 0.000306 0.000000
user_io:97593.416MB total_ios: 1312280.918MB WriteAmplification: 13.4464
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-11 16:46:25 ... thread 0: (100000000,799999999) ops and (33182.7,41468.4) ops/second in (3013.619505,19291.800052) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52    1171        0        0    111647    111647      0     269  2136     0       0     0      0   269         0 0.000000 0.000000
    1     1      23    1554   111595   111595    112122    112122      0     253   486     0       0     0      0   253      1407 0.000000 65.258253
    2     5     326     539    45264    45264     45329     45329      0     860  1064     0       0     0    296   860       781 65.258253 65.257737
    3     6     372    1944   161323   161323    160960    160960      0    1327  1422     0       0     0   1577  1327       363 65.257737 65.260653
    4    21    1279    3401   280741   280741    279678    279678      0    1540  1584     0       0     0   3645  1540       140 65.260653 24.295930
    5   132    5114    3917   323962   323962    320788    320788      0    1578  1670     0       0     0   5194  1578       122 24.295930 0.000306
    6  1156   73099    6354   546976   546976    519604    519604      0       0     0     0       0     0   7675     0         0 0.000306 0.000000
user_io:111647.287MB total_ios: 1550127.932MB WriteAmplification: 13.8842
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-11 17:37:48 ... thread 0: (100000000,899999999) ops and (32430.9,40223.0) ops/second in (3083.480377,22375.280429) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1320        0        0    125806    125806      0     303  2408     0       0     0      0   303         0 0.000000 0.000000
    1     1      65    1754   125806   125806    126233    126233      0     282   538     0       0     0      0   282      1593 0.000000 65.257913
    2     5     326     595    49965    49965     50019     50019      0     966  1191     0       0     0    325   966       884 65.257913 65.257879
    3     6     327    2184   180971   180971    180563    180563      0    1492  1603     0       0     0   1768  1492       408 65.257879 65.260920
    4    21    1230    3834   315963   315963    314763    314763      0    1758  1804     0       0     0   4116  1758       142 65.260920 20.752516
    5   131    5106    4447   366701   366701    363092    363092      0    1853  1959     0       0     0   6036  1853       122 20.752516 0.000306
    6  1267   79413    7760   667685   667685    633084    633084      0       0     0     0       0     0   9444     0         0 0.000306 0.000000
user_io:125805.645MB total_ios: 1793558.742MB WriteAmplification: 14.2566
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-11 18:29:08 ... thread 0: (100000000,999999999) ops and (32472.6,39285.3) ops/second in (3079.514659,25454.795088) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1472        0        0    139964    139964      0     336  2672     0       0     0      0   336         0 0.000000 0.000000
    1     1      23    1951   139598   139598    139929    139929      0     313   597     0       0     0      0   313      1765 0.000000 65.257713
    2     1      65     660    55295    55295     55338     55338      0    1068  1315     0       0     0    356  1068       989 65.257713 65.257733
    3     6     349    2419   200020   200020    199568    199568      0    1653  1779     0       0     0   1951  1653       455 65.257733 62.615822
    4    26    1515    4269   351037   351037    349701    349701      0    1966  2021     0       0     0   4577  1966       143 62.615822 0.000306
    5   158    5170    4917   404592   404592    400594    400594      0    2127  2260     0       0     0   6794  2127       122 0.000306 0.000306
    6  1361   84913    9218   791489   791489    749340    749340      0       0     0     0       0     0  11276     0         0 0.000306 0.000000
user_io:139964.006MB total_ios: 2034434.079MB WriteAmplification: 14.5354
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      25.455 micros/op 39285 ops/sec;    5.4 MB/s
Microseconds per op:
Count: 1000000000  Average: 25.4548  StdDev: 153.23
Percentiles: P50: 6.64 P75: 7.85 P99: 1083.67 P99.9: 1188.63 P99.99: 1199.12
------------------------------------------------------
[       2,       3 )   67490   0.007%   0.007%
[       3,       4 ) 10642382   1.064%   1.071%
[       4,       5 ) 100601345  10.060%  11.131% ##
[       5,       6 ) 227088074  22.709%  33.840% #####
[       6,       7 ) 252656963  25.266%  59.106% #####
[       7,       8 ) 186965562  18.697%  77.802% ####
[       8,       9 ) 107728604  10.773%  88.575% ##
[       9,      10 ) 53076790   5.308%  93.883% #
[      10,      12 ) 34562444   3.456%  97.339% #
[      12,      14 ) 6344702   0.634%  97.973%
[      14,      16 ) 1311619   0.131%  98.105%
[      16,      18 )  468588   0.047%  98.151%
[      18,      20 )  330317   0.033%  98.184%
[      20,      25 )  539974   0.054%  98.238%
[      25,      30 )  188623   0.019%  98.257%
[      30,      35 )   81438   0.008%  98.265%
[      35,      40 )   41207   0.004%  98.270%
[      40,      45 )   23930   0.002%  98.272%
[      45,      50 )   15205   0.002%  98.274%
[      50,      60 )   18408   0.002%  98.275%
[      60,      70 )   14595   0.001%  98.277%
[      70,      80 )   17356   0.002%  98.279%
[      80,      90 )    8413   0.001%  98.279%
[      90,     100 )    4284   0.000%  98.280%
[     100,     120 )    4565   0.000%  98.280%
[     120,     140 )    4448   0.000%  98.281%
[     140,     160 )    2099   0.000%  98.281%
[     160,     180 )    1458   0.000%  98.281%
[     180,     200 )    1278   0.000%  98.281%
[     200,     250 )    5417   0.001%  98.282%
[     250,     300 )    1423   0.000%  98.282%
[     300,     350 )     946   0.000%  98.282%
[     350,     400 )     762   0.000%  98.282%
[     400,     450 )     702   0.000%  98.282%
[     450,     500 )     639   0.000%  98.282%
[     500,     600 )    1081   0.000%  98.282%
[     600,     700 )     788   0.000%  98.282%
[     700,     800 )     606   0.000%  98.282%
[     800,     900 )     289   0.000%  98.282%
[     900,    1000 )     243   0.000%  98.283%
[    1000,    1200 ) 17150160   1.715%  99.998%
[    1200,    1400 )    7727   0.001%  99.998%
[    1400,    1600 )    3518   0.000%  99.999%
[    1600,    1800 )    1784   0.000%  99.999%
[    1800,    2000 )     785   0.000%  99.999%
[    2000,    2500 )     658   0.000%  99.999%
[    2500,    3000 )     218   0.000%  99.999%
[    3000,    3500 )     202   0.000%  99.999%
[    3500,    4000 )     220   0.000%  99.999%
[    4000,    4500 )     239   0.000%  99.999%
[    4500,    5000 )     332   0.000%  99.999%
[    5000,    6000 )     672   0.000%  99.999%
[    6000,    7000 )     550   0.000%  99.999%
[    7000,    8000 )     623   0.000%  99.999%
[    8000,    9000 )     585   0.000%  99.999%
[    9000,   10000 )     564   0.000%  99.999%
[   10000,   12000 )    1055   0.000%  99.999%
[   12000,   14000 )     895   0.000% 100.000%
[   14000,   16000 )     788   0.000% 100.000%
[   16000,   18000 )     639   0.000% 100.000%
[   18000,   20000 )     553   0.000% 100.000%
[   20000,   25000 )     940   0.000% 100.000%
[   25000,   30000 )     592   0.000% 100.000%
[   30000,   35000 )     320   0.000% 100.000%
[   35000,   40000 )     156   0.000% 100.000%
[   40000,   45000 )      80   0.000% 100.000%
[   45000,   50000 )      50   0.000% 100.000%
[   50000,   60000 )      29   0.000% 100.000%
[   60000,   70000 )       6   0.000% 100.000%
[   70000,   80000 )       2   0.000% 100.000%
[  140000,  160000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        7      366      1472        0    139964
  1        1       23      1951   139598    139929
  2        1       65       660    55295     55338
  3        6      349      2419   200020    199568
  4       26     1515      4269   351037    349701
  5      158     5170      4917   404592    400594
  6     1361    84913      9218   791489    749340
user_io:139964.006MB total_ios: 2034434.079MB WriteAmplification: 14.5354

Checking if iostat process with PID 3263775 is still running...
    PID TTY          TIME CMD
3263775 pts/11   00:00:00 iostat
iostat process 3263775 is still running, killing now...
iostat process 3263775 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C010.sh: line 43: 3263775 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '3263776':

     27,184,915.34 msec task-clock                       #    1.068 CPUs utilized
        20,870,372      context-switches                 #  767.719 /sec
             8,199      cpu-migrations                   #    0.302 /sec
        41,073,052      page-faults                      #    1.511 K/sec
84,917,204,937,658      cycles                           #    3.124 GHz
185,632,430,349,619      instructions                     #    2.19  insn per cycle
26,053,488,540,309      branches                         #  958.380 M/sec
    47,639,644,052      branch-misses                    #    0.18% of all branches
                        TopdownL1                 #      1.3 %  tma_backend_bound
                                                  #     91.0 %  tma_bad_speculation
                                                  #      3.6 %  tma_frontend_bound
                                                  #      4.0 %  tma_retiring

   25454.347440841 seconds time elapsed
