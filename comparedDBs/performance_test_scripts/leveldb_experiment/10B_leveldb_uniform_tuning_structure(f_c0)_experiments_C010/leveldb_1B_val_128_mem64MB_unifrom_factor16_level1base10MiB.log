LevelDB:    version 1.23
Date:       Sat Jan 11 18:29:39 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_10/leveldb_uniform_f16_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_10/leveldb_uniform_f16_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3348780
../../../leveldb/build_release_f_16_C0_10/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_10/leveldb_uniform_f16_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_uniform_f16_memory_usage_1B_key16_val128_mem64MiB_factor16_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-11 18:56:29 ... thread 0: (99999999,99999999) ops and (62112.2,62112.2) ops/second in (1609.988460,1609.988460) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     147        0        0     13949     13949      0      34   261     0       0     0      0    34         0 0.000000 0.000000
    1     1      23     189    13636    13636     13647     13647      0     165   191     0       0     0      0   165        38 0.000000 65.258348
    2    15     691     312    25665    25665     25660     25660      0     208   225     0       0     0    336   208        12 65.258348 65.262737
    3    85    5087     885    74575    74575     74162     74162      0       8     9     0       0     0   1040     8       107 65.262737 65.280046
    4   116    7411      35     2923     2923      2908      2908      0       0     0     0       0     0     38     0         0 65.280046 0.000000
user_io:13949.379MB total_ios: 130326.230MB WriteAmplification: 9.3428
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-11 19:35:37 ... thread 0: (100000000,199999999) ops and (42589.4,50530.7) ops/second in (2348.003439,3957.991899) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261     298        0        0     28108     28108      0      68   533     0       0     0      0    68         0 0.000000 0.000000
    1     1      65     388    27847    27847     27758     27758      0     355   400     0       0     0      0   355        68 0.000000 23.483418
    2    15     663     647    53159    53159     53093     53093      0     456   496     0       0     0    738   456        13 23.483418 8.301188
    3    91    5077    2053   169120   169120    168139    168139      0     189   196     0       0     0   2517   189       136 8.301188 38.384515
    4   312   20021     488    41141    41141     40256     40256      0       0     0     0       0     0    520     0         0 38.384515 0.000000
user_io:28107.741MB total_ios: 317354.070MB WriteAmplification: 11.2906
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-11 20:18:09 ... thread 0: (100000000,299999999) ops and (39185.8,46083.4) ops/second in (2551.946949,6509.938848) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     448        0        0     42266     42266      0     102   805     0       0     0      0   102         0 0.000000 0.000000
    1     1      65     589    42057    42057     41869     41869      0     538   603     0       0     0      0   538       103 0.000000 65.258288
    2    16     609     973    79770    79770     79645     79645      0     705   767     0       0     0   1110   705        13 65.258288 8.301188
    3   102    5097    3214   263761   263761    262215    262215      0     404   424     0       0     0   4147   404       136 8.301188 38.384515
    4   492   31414    1153    98028    98028     95016     95016      0       0     0     0       0     0   1277     0         0 38.384515 0.000000
user_io:42266.106MB total_ios: 521010.396MB WriteAmplification: 12.3269
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-11 21:03:46 ... thread 0: (100000000,399999999) ops and (36535.4,43257.2) ops/second in (2737.073945,9247.012793) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     597        0        0     56372     56372      0     136  1077     0       0     0      0   136         0 0.000000 0.000000
    1     3     196     789    56268    56268     55980     55980      0     714   807     0       0     0      0   714       134 0.000000 65.258891
    2    10     500    1308   107173   107173    106987    106987      0     957  1033     0       0     0   1501   957        13 65.258891 8.301188
    3   113    5086    4368   356881   356881    354777    354777      0     626   666     0       0     0   5882   626       136 8.301188 38.384515
    4   661   41684    2001   169774   169774    163548    163548      0       0     0     0       0     0   2265     0         0 38.384515 0.000000
user_io:56372.221MB total_ios: 737664.738MB WriteAmplification: 13.0856
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-11 21:52:21 ... thread 0: (100000000,499999999) ops and (34302.2,41110.7) ops/second in (2915.261331,12162.274124) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     747        0        0     70531     70531      0     170  1349     0       0     0      0   170         0 0.000000 0.000000
    1     6     350     991    70478    70478     70091     70091      0     894  1004     0       0     0      0   894       173 0.000000 23.480957
    2    10     334    1634   133670   133670    133426    133426      0    1214  1307     0       0     0   1889  1214        13 23.480957 8.301188
    3   112    5073    5573   453867   453867    451185    451185      0     864   919     0       0     0   7812   864       136 8.301188 38.384515
    4   809   50983    2975   252288   252288    241863    241863      0       0     0     0       0     0   3428     0         0 38.384515 0.000000
user_io:70530.578MB total_ios: 967095.656MB WriteAmplification: 13.7117
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-11 22:42:50 ... thread 0: (100000000,599999999) ops and (33018.2,39497.3) ops/second in (3028.628173,15190.902297) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     894        0        0     84689     84689      0     204  1621     0       0     0      0   204         0 0.000000 0.000000
    1     7     415    1193    84689    84689     84202     84202      0    1076  1208     0       0     0      0  1076       206 0.000000 65.258883
    2     8     285    1968   160640   160640    160336    160336      0    1470  1576     0       0     0   2265  1470        13 65.258883 8.301188
    3   120    5060    6726   546388   546388    543147    543147      0    1089  1181     0       0     0   9748  1089       136 8.301188 38.384515
    4   947   59380    4113   345403   345403    329886    329886      0       0     0     0       0     0   4751     0         0 38.384515 0.000000
user_io:84688.930MB total_ios: 1202259.532MB WriteAmplification: 14.1962
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-11 23:33:24 ... thread 0: (100000000,699999999) ops and (32960.9,38409.2) ops/second in (3033.895877,18224.798174) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1037        0        0     98847     98847      0     237  1885     0       0     0      0   237         0 0.000000 0.000000
    1     2     131    1386    98482    98482     97899     97899      0    1261  1411     0       0     0      0  1261       240 0.000000 65.257363
    2    11     600    2299   187471   187471    187108    187108      0    1711  1833     0       0     0   2648  1711        13 65.257363 8.301188
    3   135    5084    7867   638275   638275    634478    634478      0    1323  1417     0       0     0  11802  1323       136 8.301188 38.384515
    4  1058   66730    5279   444896   444896    423702    423702      0       0     0     0       0     0   6189     0         0 38.384515 0.000000
user_io:98847.293MB total_ios: 1442033.592MB WriteAmplification: 14.5885
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-12 00:26:54 ... thread 0: (100000000,799999999) ops and (31143.1,37320.8) ops/second in (3210.982370,21435.780544) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261    1181        0        0    112953    112953      0     271  2157     0       0     0      0   271         0 0.000000 0.000000
    1     2      89    1584   112692   112692    112010    112010      0    1438  1611     0       0     0      0  1438       277 0.000000 65.258148
    2    13     626    2626   213818   213818    213396    213396      0    1962  2104     0       0     0   3016  1962        13 65.258148 8.301188
    3   136    5086    9007   730393   730393    726042    726042      0    1590  1686     0       0     0  13982  1590       136 8.301188 38.384515
    4  1172   73635    6616   559314   559314    531513    531513      0       0     0     0       0     0   7861     0         0 38.384515 0.000000
user_io:112953.411MB total_ios: 1695913.395MB WriteAmplification: 15.0143
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-12 01:22:23 ... thread 0: (100000000,899999999) ops and (30046.3,36343.1) ops/second in (3328.193611,24763.974155) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209    1326        0        0    127112    127112      0     305  2429     0       0     0      0   305         0 0.000000 0.000000
    1     3     196    1783   126903   126903    126121    126121      0    1618  1817     0       0     0      0  1618       308 0.000000 23.477321
    2    13     537    2957   240761   240761    240279    240279      0    2217  2374     0       0     0   3401  2217        13 23.477321 8.301188
    3   143    5066   10145   822509   822509    817591    817591      0    1878  1976     0       0     0  16258  1878       136 8.301188 38.384515
    4  1275   79866    8066   684881   684881    649824    649824      0       0     0     0       0     0   9719     0         0 38.384515 0.000000
user_io:127111.768MB total_ios: 1960926.992MB WriteAmplification: 15.4268
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-12 02:18:24 ... thread 0: (100000000,999999999) ops and (29747.5,35554.8) ops/second in (3361.629081,28125.603236) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157    1466        0        0    141270    141270      0     339  2701     0       0     0      0   339         0 0.000000 0.000000
    1     5     326    1978   141113   141113    140232    140232      0    1798  2017     0       0     0      0  1798       344 0.000000 65.257782
    2     9     401    3283   267697   267697    267156    267156      0    2477  2642     0       0     0   3790  2477        13 65.257782 8.301188
    3   146    5083   11297   917285   917285    911789    911789      0    2178  2281     0       0     0  18586  2178       139 8.301188 65.274954
    4  1309   81899    9537   814204   814204    771488    771488      0       2     2     0       0     0  11645     2        58 65.274954 65.285009
    5    59    3748       9      784      784       761       761      0       0     0     0       0     0     11     0         0 65.285009 0.000000
user_io:141270.130MB total_ios: 2232696.809MB WriteAmplification: 15.8045
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      28.126 micros/op 35554 ops/sec;    4.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 28.1256  StdDev: 163.83
Percentiles: P50: 6.24 P75: 7.38 P99: 1099.77 P99.9: 1190.21 P99.99: 1199.26
------------------------------------------------------
[       2,       3 )   74853   0.007%   0.007%
[       3,       4 ) 13006752   1.301%   1.308%
[       4,       5 ) 136740499  13.674%  14.982% ###
[       5,       6 ) 289420463  28.942%  43.924% ######
[       6,       7 ) 254430534  25.443%  69.367% #####
[       7,       8 ) 149176871  14.918%  84.285% ###
[       8,       9 ) 74598992   7.460%  91.745% #
[       9,      10 ) 34344247   3.434%  95.179% #
[      10,      12 ) 21612095   2.161%  97.341%
[      12,      14 ) 3986841   0.399%  97.739%
[      14,      16 )  929438   0.093%  97.832%
[      16,      18 )  412480   0.041%  97.873%
[      18,      20 )  320842   0.032%  97.905%
[      20,      25 )  541719   0.054%  97.960%
[      25,      30 )  204910   0.020%  97.980%
[      30,      35 )   72157   0.007%  97.987%
[      35,      40 )   32771   0.003%  97.991%
[      40,      45 )   21995   0.002%  97.993%
[      45,      50 )   13577   0.001%  97.994%
[      50,      60 )   43904   0.004%  97.999%
[      60,      70 )   14717   0.001%  98.000%
[      70,      80 )   28971   0.003%  98.003%
[      80,      90 )   13003   0.001%  98.004%
[      90,     100 )    4480   0.000%  98.005%
[     100,     120 )    5578   0.001%  98.005%
[     120,     140 )    4241   0.000%  98.006%
[     140,     160 )    2452   0.000%  98.006%
[     160,     180 )    1600   0.000%  98.006%
[     180,     200 )    1399   0.000%  98.006%
[     200,     250 )    4272   0.000%  98.007%
[     250,     300 )    1257   0.000%  98.007%
[     300,     350 )     764   0.000%  98.007%
[     350,     400 )     638   0.000%  98.007%
[     400,     450 )     586   0.000%  98.007%
[     450,     500 )     479   0.000%  98.007%
[     500,     600 )     849   0.000%  98.007%
[     600,     700 )     671   0.000%  98.007%
[     700,     800 )     387   0.000%  98.007%
[     800,     900 )     263   0.000%  98.007%
[     900,    1000 )     198   0.000%  98.007%
[    1000,    1200 ) 19901055   1.990%  99.997%
[    1200,    1400 )    9463   0.001%  99.998%
[    1400,    1600 )    3753   0.000%  99.999%
[    1600,    1800 )    1851   0.000%  99.999%
[    1800,    2000 )     759   0.000%  99.999%
[    2000,    2500 )     704   0.000%  99.999%
[    2500,    3000 )     284   0.000%  99.999%
[    3000,    3500 )     206   0.000%  99.999%
[    3500,    4000 )     204   0.000%  99.999%
[    4000,    4500 )     234   0.000%  99.999%
[    4500,    5000 )     252   0.000%  99.999%
[    5000,    6000 )     473   0.000%  99.999%
[    6000,    7000 )     494   0.000%  99.999%
[    7000,    8000 )     539   0.000%  99.999%
[    8000,    9000 )     510   0.000%  99.999%
[    9000,   10000 )     472   0.000%  99.999%
[   10000,   12000 )     860   0.000%  99.999%
[   12000,   14000 )     843   0.000% 100.000%
[   14000,   16000 )     828   0.000% 100.000%
[   16000,   18000 )     780   0.000% 100.000%
[   18000,   20000 )     591   0.000% 100.000%
[   20000,   25000 )     837   0.000% 100.000%
[   25000,   30000 )     506   0.000% 100.000%
[   30000,   35000 )     324   0.000% 100.000%
[   35000,   40000 )     210   0.000% 100.000%
[   40000,   45000 )     111   0.000% 100.000%
[   45000,   50000 )      60   0.000% 100.000%
[   50000,   60000 )      42   0.000% 100.000%
[   60000,   70000 )       4   0.000% 100.000%
[   70000,   80000 )       2   0.000% 100.000%
[   80000,   90000 )       3   0.000% 100.000%
[  100000,  120000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        3      157      1466        0    141270
  1        5      326      1978   141113    140232
  2        9      401      3283   267697    267156
  3      146     5083     11297   917285    911789
  4     1309    81899      9537   814204    771488
  5       59     3748         9      784       761
user_io:141270.130MB total_ios: 2232696.809MB WriteAmplification: 15.8045

Checking if iostat process with PID 3348778 is still running...
    PID TTY          TIME CMD
3348778 pts/11   00:00:00 iostat
iostat process 3348778 is still running, killing now...
iostat process 3348778 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C010.sh: line 43: 3348778 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '3348780':

     29,073,788.78 msec task-clock                       #    1.034 CPUs utilized
        24,421,545      context-switches                 #  839.985 /sec
             8,430      cpu-migrations                   #    0.290 /sec
        41,000,571      page-faults                      #    1.410 K/sec
89,802,172,718,899      cycles                           #    3.089 GHz
201,408,443,262,518      instructions                     #    2.24  insn per cycle
28,261,574,191,461      branches                         #  972.064 M/sec
    50,054,684,752      branch-misses                    #    0.18% of all branches
                        TopdownL1                 #      1.4 %  tma_backend_bound
                                                  #     89.6 %  tma_bad_speculation
                                                  #      4.5 %  tma_frontend_bound
                                                  #      4.5 %  tma_retiring

   28124.984752777 seconds time elapsed
