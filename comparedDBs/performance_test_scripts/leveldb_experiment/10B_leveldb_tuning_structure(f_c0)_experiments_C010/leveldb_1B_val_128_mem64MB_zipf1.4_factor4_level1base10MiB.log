LevelDB:    version 1.23
Date:       Mon Jan  6 17:03:45 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2454768
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.4_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.4_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.4_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.4_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 17:11:19 ... thread 0: (99999999,99999999) ops and (220119.5,220119.5) ops/second in (454.298743,454.298743) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      15        0        0      1214      1214      0       6    24     0       0     0      0     6         0 0.000000 0.000000
    1     0       0      66     1240     1240      4803      4803      0      78    78     0       0     0      4    78        18 0.000000 10.962253
    2     1      19     137     5858     5858      9639      9639      0     168   168     0       0     0     78   168         1 10.962253 50.579709
    3     2      94     116    15663    15663      7219      7219      0       0     0     0       0     0    190     0         0 50.579709 0.000000
user_io:1213.916MB total_ios: 22874.943MB WriteAmplification: 18.8439
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 17:18:52 ... thread 0: (100000000,199999999) ops and (220702.2,220410.4) ops/second in (453.099260,907.398003) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      39        0        0      3035      3035      0      15    60     0       0     0      0    15         0 0.000000 0.000000
    1     1      51     228     3101     3101     16762     16762      0     311   311     0       0     0     10   311        23 0.000000 10.965581
    2     1      39     256    23894    23894     16049     16049      0     173   173     0       0     0    311   173         1 10.965581 50.579709
    3     3     150     125    16508    16508      7898      7898      0       0     0     0       0     0    203     0         0 50.579709 0.000000
user_io:3034.793MB total_ios: 43743.312MB WriteAmplification: 14.4139
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-06 17:26:23 ... thread 0: (100000000,299999999) ops and (221918.4,220910.8) ops/second in (450.616132,1358.014135) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      70        0        0      5513      5513      0      27   109     0       0     0      0    27         0 0.000000 0.000000
    1     0       0     378     5634     5634     28039     28039      0     528   528     0       0     0     18   528        31 0.000000 10.940654
    2     1      27     362    40510    40510     21742     21742      0     181   181     0       0     0    528   181         1 10.940654 50.579709
    3     3     140     142    17975    17975      9123      9123      0       1     1     0       0     0    225     1         1 50.579709 65.287621
    4     2      99       1      131      131        99        99      0       0     0     0       0     0      1     0         0 65.287621 0.000000
user_io:5513.203MB total_ios: 64515.312MB WriteAmplification: 11.7020
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-06 17:33:55 ... thread 0: (100000000,399999999) ops and (221174.2,220976.6) ops/second in (452.132361,1810.146496) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     113        0        0      9003      9003      0      43   176     0       0     0      0    43         0 0.000000 0.000000
    1     1       5     522     9093     9093     38388     38388      0     729   729     0       0     0     28   729        37 0.000000 50.579552
    2     0       0     466    56052    56052     27299     27299      0     188   188     0       0     0    729   188         1 50.579552 50.579709
    3     3     143     158    19222    19222     10188     10188      0       3     3     0       0     0    244     3         1 50.579709 65.287621
    4     3     155       6      488      488       382       382      0       0     0     0       0     0      5     0         0 65.287621 0.000000
user_io:9003.211MB total_ios: 85260.643MB WriteAmplification: 9.4700
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.731 MB data into db.)


2025-01-06 17:41:35 ... thread 0: (100000000,499999999) ops and (217223.2,220215.6) ops/second in (460.355921,2270.502417) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     143        0        0     11330     11330      0      54   224     0       0     0      0    54         0 0.000000 0.000000
    1     0       0     681    11580    11580     49869     49869      0     951   951     0       0     0     36   951        44 0.000000 12.238235
    2     1      31     578    73032    73032     33155     33155      0     194   194     0       0     0    951   194         1 12.238235 50.579709
    3     2     105     172    20370    20370     11156     11156      0       5     5     0       0     0    261     5         1 50.579709 65.287621
    4     4     206      11      955      955       769       769      0       0     0     0       0     0     11     0         0 65.287621 0.000000
user_io:11329.881MB total_ios: 106278.995MB WriteAmplification: 9.3804
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-06 17:49:28 ... thread 0: (100000000,599999999) ops and (211622.7,218735.3) ops/second in (472.538990,2743.041407) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     226        0        0     17349     17349      0      82   343     0       0     0      0    82         0 0.000000 0.000000
    1     0       0     811    17718    17718     57785     57785      0    1106  1106     0       0     0     54  1106        51 0.000000 10.957519
    2     1      12     658    84907    84907     37531     37531      0     201   201     0       0     0   1106   201         1 10.957519 50.579709
    3     2     110     189    21684    21684     12289     12289      0       7     7     0       0     0    280     7         1 50.579709 65.287621
    4     4     253      19     1522     1522      1252      1252      0       0     0     0       0     0     19     0         0 65.287621 0.000000
user_io:17348.879MB total_ios: 126206.921MB WriteAmplification: 7.2746
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-06 17:57:21 ... thread 0: (100000000,699999999) ops and (211498.3,217671.3) ops/second in (472.816957,3215.858364) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     328        0        0     24784     24784      0     117   487     0       0     0      0   117         0 0.000000 0.000000
    1     0       0     931    25155    25155     64342     64342      0    1237  1237     0       0     0     77  1237        56 0.000000 10.981251
    2     1      29     728    94649    94649     41111     41111      0     206   206     0       0     0   1237   206         1 10.981251 50.579709
    3     3     154     199    22588    22588     13077     13077      0       8     8     0       0     0    293     8         1 50.579709 65.287621
    4     5     274      24     1840     1840      1526      1526      0       0     0     0       0     0     23     0         0 65.287621 0.000000
user_io:24784.114MB total_ios: 144840.904MB WriteAmplification: 5.8441
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-06 18:05:01 ... thread 0: (100000000,799999999) ops and (217225.8,217615.5) ops/second in (460.350531,3676.208895) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     470        0        0     35254     35254      0     167   695     0       0     0      0   167         0 0.000000 0.000000
    1     1       5    1018    35890    35890     67934     67934      0    1313  1313     0       0     0    109  1313        60 0.000000 10.932598
    2     1      39     767    99960    99960     43239     43239      0     210   210     0       0     0   1313   210         1 10.932598 50.579709
    3     3     137     209    23271    23271     13694     13694      0      10    10     0       0     0    303    10         1 50.579709 65.287621
    4     6     329      33     2539     2539      2150      2150      0       0     0     0       0     0     33     0         0 65.287621 0.000000
user_io:35254.138MB total_ios: 162271.076MB WriteAmplification: 4.6029
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.372 MB data into db.)


2025-01-06 18:12:42 ... thread 0: (100000000,899999999) ops and (216785.5,217523.0) ops/second in (461.285514,4137.494409) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     581        0        0     43448     43448      0     206   859     0       0     0      0   206         0 0.000000 0.000000
    1     0       0    1129    44360    44360     73770     73770      0    1431  1431     0       0     0    135  1431        65 0.000000 10.962295
    2     1      16     825   108362   108362     46174     46174      0     215   215     0       0     0   1431   215         1 10.962295 50.579709
    3     3     148     219    24129    24129     14472     14472      0      12    12     0       0     0    316    12         1 50.579709 65.287621
    4     6     366      43     3347     3347      2865      2865      0       0     0     0       0     0     45     0         0 65.287621 0.000000
user_io:43448.071MB total_ios: 180728.916MB WriteAmplification: 4.1597
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.282 MB data into db.)


2025-01-06 18:20:20 ... thread 0: (100000000,999999999) ops and (218397.2,217610.1) ops/second in (457.881232,4595.375641) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     687        0        0     51187     51187      0     242  1011     0       0     0      0   242         0 0.000000 0.000000
    1     1       8    1243    52196    52196     80027     80027      0    1556  1556     0       0     0    158  1556        70 0.000000 10.946836
    2     1      29     891   117745   117745     49697     49697      0     220   220     0       0     0   1556   220         1 10.946836 50.579709
    3     2     113     232    25114    25114     15326     15326      0      14    14     0       0     0    330    14         1 50.579709 65.287621
    4     7     405      55     4231     4231      3656      3656      0       0     0     0       0     0     57     0         0 65.287621 0.000000
user_io:51186.782MB total_ios: 199892.922MB WriteAmplification: 3.9052
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.192 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :       4.595 micros/op 217610 ops/sec;   29.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.5954  StdDev: 56.39
Percentiles: P50: 4.83 P75: 5.68 P99: 8.62 P99.9: 11.31 P99.99: 41.03
------------------------------------------------------
[       2,       3 ) 1523559   0.152%   0.152%
[       3,       4 ) 265653213  26.565%  26.718% #####
[       4,       5 ) 282035996  28.204%  54.921% ######
[       5,       6 ) 297005192  29.701%  84.622% ######
[       6,       7 ) 103883480  10.388%  95.010% ##
[       7,       8 ) 33116686   3.312%  98.322% #
[       8,       9 ) 10956127   1.096%  99.417%
[       9,      10 ) 3733763   0.373%  99.791%
[      10,      12 ) 1664837   0.166%  99.957%
[      12,      14 )  203612   0.020%  99.978%
[      14,      16 )   42578   0.004%  99.982%
[      16,      18 )   16998   0.002%  99.984%
[      18,      20 )   11955   0.001%  99.985%
[      20,      25 )   15808   0.002%  99.986%
[      25,      30 )   13375   0.001%  99.988%
[      30,      35 )   12194   0.001%  99.989%
[      35,      40 )    9277   0.001%  99.990%
[      40,      45 )    6544   0.001%  99.991%
[      45,      50 )    3976   0.000%  99.991%
[      50,      60 )   15178   0.002%  99.992%
[      60,      70 )    8713   0.001%  99.993%
[      70,      80 )    3649   0.000%  99.994%
[      80,      90 )    4742   0.000%  99.994%
[      90,     100 )    2643   0.000%  99.994%
[     100,     120 )    5007   0.001%  99.995%
[     120,     140 )    3698   0.000%  99.995%
[     140,     160 )    1648   0.000%  99.995%
[     160,     180 )    1543   0.000%  99.996%
[     180,     200 )    1650   0.000%  99.996%
[     200,     250 )    6478   0.001%  99.996%
[     250,     300 )     688   0.000%  99.996%
[     300,     350 )     479   0.000%  99.997%
[     350,     400 )     354   0.000%  99.997%
[     400,     450 )     272   0.000%  99.997%
[     450,     500 )     227   0.000%  99.997%
[     500,     600 )     396   0.000%  99.997%
[     600,     700 )     267   0.000%  99.997%
[     700,     800 )     208   0.000%  99.997%
[     800,     900 )     150   0.000%  99.997%
[     900,    1000 )     120   0.000%  99.997%
[    1000,    1200 )   17441   0.002%  99.998%
[    1200,    1400 )     416   0.000%  99.999%
[    1400,    1600 )     266   0.000%  99.999%
[    1600,    1800 )     454   0.000%  99.999%
[    1800,    2000 )     410   0.000%  99.999%
[    2000,    2500 )    1314   0.000%  99.999%
[    2500,    3000 )     705   0.000%  99.999%
[    3000,    3500 )     648   0.000%  99.999%
[    3500,    4000 )     520   0.000%  99.999%
[    4000,    4500 )     508   0.000%  99.999%
[    4500,    5000 )     401   0.000%  99.999%
[    5000,    6000 )     833   0.000%  99.999%
[    6000,    7000 )     730   0.000%  99.999%
[    7000,    8000 )     725   0.000%  99.999%
[    8000,    9000 )     592   0.000%  99.999%
[    9000,   10000 )     564   0.000%  99.999%
[   10000,   12000 )    1018   0.000%  99.999%
[   12000,   14000 )    1303   0.000% 100.000%
[   14000,   16000 )     879   0.000% 100.000%
[   16000,   18000 )     599   0.000% 100.000%
[   18000,   20000 )     468   0.000% 100.000%
[   20000,   25000 )     783   0.000% 100.000%
[   25000,   30000 )     517   0.000% 100.000%
[   30000,   35000 )     296   0.000% 100.000%
[   35000,   40000 )     159   0.000% 100.000%
[   40000,   45000 )      71   0.000% 100.000%
[   45000,   50000 )      52   0.000% 100.000%
[   50000,   60000 )      31   0.000% 100.000%
[   60000,   70000 )       8   0.000% 100.000%
[   70000,   80000 )       2   0.000% 100.000%
[   80000,   90000 )       3   0.000% 100.000%
[   90000,  100000 )       2   0.000% 100.000%
[  180000,  200000 )       1   0.000% 100.000%
[  500000,  600000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        1       51       687        0     51187
  1        1        8      1243    52196     80027
  2        1       29       891   117745     49697
  3        2      113       232    25114     15326
  4        7      405        55     4231      3656
user_io:51186.782MB total_ios: 199892.922MB WriteAmplification: 3.9052

Checking if iostat process with PID 2454767 is still running...
    PID TTY          TIME CMD
2454767 pts/4    00:00:00 iostat
iostat process 2454767 is still running, killing now...
iostat process 2454767 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 2454767 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2454768':

      6,818,881.87 msec task-clock                       #    1.484 CPUs utilized
           391,916      context-switches                 #   57.475 /sec
               998      cpu-migrations                   #    0.146 /sec
         7,458,642      page-faults                      #    1.094 K/sec
22,204,015,950,462      cycles                           #    3.256 GHz
46,230,537,038,010      instructions                     #    2.08  insn per cycle
 6,643,027,479,373      branches                         #  974.211 M/sec
    18,674,781,599      branch-misses                    #    0.28% of all branches
                        TopdownL1                 #      9.6 %  tma_backend_bound
                                                  #     76.6 %  tma_bad_speculation
                                                  #      9.3 %  tma_frontend_bound
                                                  #      4.6 %  tma_retiring

    4594.759418828 seconds time elapsed
