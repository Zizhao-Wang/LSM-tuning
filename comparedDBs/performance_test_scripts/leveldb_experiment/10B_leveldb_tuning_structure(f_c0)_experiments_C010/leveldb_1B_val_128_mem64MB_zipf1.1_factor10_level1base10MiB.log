base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Sat Jan  4 12:41:36 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.1_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.1_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 1502282
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.1_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.1_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.1_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.1_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-04 12:53:15 ... thread 0: (99999999,99999999) ops and (143149.1,143149.1) ops/second in (698.572427,698.572427) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103     154        0        0     13286     13286      0      38   257     0       0     0      0    38         0 0.000000 0.000000
    1     1      65     107    13196    13196      4832      4832      0      76    91     0       0     0      3    76        10 0.000000 1.882959
    2     5     207     122    10326    10326      9790      9790      0      63    67     0       0     0    144    63         2 1.882959 65.256284
    3    25    1495     275    22431    22431     21612     21612      0       3     3     0       0     0    313     3        23 65.256284 65.234324
    4    26    1675       8      566      566       545       545      0       0     0     0       0     0      6     0         0 65.234324 0.000000
user_io:13286.119MB total_ios: 50064.351MB WriteAmplification: 3.7682
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-04 13:07:40 ... thread 0: (100000000,199999999) ops and (115508.8,127852.1) ops/second in (865.734583,1564.307010) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103     319        0        0     27188     27188      0      72   528     0       0     0      0    72         0 0.000000 0.000000
    1     1      65     220    27099    27099      9317      9317      0     146   181     0       0     0      4   146        20 0.000000 65.273337
    2     6     257     267    21444    21444     20623     20623      0     133   139     0       0     0    321   133         4 65.273337 0.000306
    3    34    1969     618    49073    49073     47377     47377      0      27    27     0       0     0    707    27        44 0.000306 0.000308
    4    65    4059      83     6680     6680      6244      6244      0       0     0     0       0     0     89     0         0 0.000308 0.000000
user_io:27187.827MB total_ios: 110749.024MB WriteAmplification: 4.0735
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13735.996 MB data into db.)


2025-01-04 13:23:46 ... thread 0: (100000000,299999999) ops and (103580.6,118589.3) ops/second in (965.431803,2529.738813) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     485        0        0     41038     41038      0     106   800     0       0     0      0   106         0 0.000000 0.000000
    1     2     130     334    41060    41060     13821     13821      0     224   272     0       0     0      8   224        26 0.000000 4.170201
    2     4     142     412    32596    32596     31435     31435      0     207   217     0       0     0    493   207         5 4.170201 8.888390
    3    35    1959     985    77399    77399     74679     74679      0      74    80     0       0     0   1158    74        44 8.888390 0.000308
    4   106    6863     228    18281    18281     17456     17456      0       0     0     0       0     0    248     0         0 0.000308 0.000000
user_io:41038.189MB total_ios: 178429.461MB WriteAmplification: 4.3479
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27471.990 MB data into db.)


2025-01-04 13:40:48 ... thread 0: (100000000,399999999) ops and (97833.9,112616.4) ops/second in (1022.140794,3551.879607) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359     659        0        0     54940     54940      0     139  1064     0       0     0      0   139         0 0.000000 0.000000
    1     0       0     445    54609    54609     18195     18195      0     297   358     0       0     0     12   297        36 0.000000 2.093470
    2     5     201     559    43764    43764     42298     42298      0     278   291     0       0     0    667   278         6 2.093470 65.286239
    3    40    1964    1358   105339   105339    101724    101724      0     126   136     0       0     0   1628   126        44 65.286239 0.000308
    4   153    9775     414    33040    33040     31895     31895      0       0     0     0       0     0    439     0         0 0.000308 0.000000
user_io:54939.910MB total_ios: 249051.062MB WriteAmplification: 4.5332
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41207.983 MB data into db.)


2025-01-04 13:57:53 ... thread 0: (100000000,499999999) ops and (97567.9,109246.5) ops/second in (1024.926789,4576.806396) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     308     828        0        0     68842     68842      0     173  1336     0       0     0      0   173         0 0.000000 0.000000
    1     0       0     559    68571    68571     22702     22702      0     373   447     0       0     0     16   373        45 0.000000 1.736003
    2     6     277     712    55359    55359     53564     53564      0     350   369     0       0     0    847   350         7 1.736003 65.285788
    3    41    1947    1710   132325   132325    127849    127849      0     177   190     0       0     0   2107   177        44 65.285788 0.000308
    4   191   12253     621    49539    49539     47625     47625      0       0     0     0       0     0    666     0         0 0.000308 0.000000
user_io:68841.624MB total_ios: 320581.095MB WriteAmplification: 4.6568
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54943.976 MB data into db.)


2025-01-04 14:14:44 ... thread 0: (100000000,599999999) ops and (98938.5,107381.9) ops/second in (1010.728812,5587.535208) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256     996        0        0     82743     82743      0     207  1608     0       0     0      0   207         0 0.000000 0.000000
    1     0       0     674    82537    82537     27213     27213      0     444   535     0       0     0     23   444        52 0.000000 65.274953
    2     6     319     860    66541    66541     64437     64437      0     416   444     0       0     0   1019   416         8 65.274953 65.285919
    3    42    1876    2051   158145   158145    152669    152669      0     227   248     0       0     0   2554   227        44 65.285919 0.000308
    4   231   14692     833    66270    66270     63573     63573      0       0     0     0       0     0    891     0         0 0.000308 0.000000
user_io:82743.358MB total_ios: 390635.874MB WriteAmplification: 4.7211
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68679.969 MB data into db.)


2025-01-04 14:33:09 ... thread 0: (100000000,699999999) ops and (90476.7,104590.1) ops/second in (1105.256416,6692.791624) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     205    1167        0        0     96645     96645      0     241  1880     0       0     0      0   241         0 0.000000 0.000000
    1     1       2     790    96497    96497     31718     31718      0     515   624     0       0     0     27   515        60 0.000000 65.276253
    2     5     219    1009    77708    77708     75253     75253      0     487   524     0       0     0   1191   487        10 65.276253 65.285784
    3    41    1979    2434   186558   186558    180133    180133      0     282   309     0       0     0   3098   282        44 65.285784 0.000308
    4   267   16984    1088    86376    86376     82778     82778      0       0     0     0       0     0   1173     0         0 0.000308 0.000000
user_io:96645.040MB total_ios: 466527.283MB WriteAmplification: 4.8272
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82415.963 MB data into db.)


2025-01-04 14:51:12 ... thread 0: (100000000,799999999) ops and (92348.4,102885.3) ops/second in (1082.855928,7775.647552) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103    1335        0        0    110495    110495      0     275  2152     0       0     0      0   275         0 0.000000 0.000000
    1     1      65     904   110459   110459     36224     36224      0     589   713     0       0     0     31   589        70 0.000000 1.994128
    2     5     244    1157    88907    88907     86145     86145      0     555   598     0       0     0   1373   555        10 1.994128 65.285784
    3    48    1947    2788   213697   213697    206212    206212      0     333   366     0       0     0   3621   333        44 65.285784 0.000308
    4   313   19782    1355   107447   107447    103575    103575      0       0     0     0       0     0   1465     0         0 0.000308 0.000000
user_io:110495.438MB total_ios: 542651.385MB WriteAmplification: 4.9111
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96151.958 MB data into db.)


2025-01-04 15:10:22 ... thread 0: (100000000,899999999) ops and (86912.7,100826.5) ops/second in (1150.580056,8926.227608) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1500        0        0    124397    124397      0     309  2424     0       0     0      0   309         0 0.000000 0.000000
    1     1      65    1017   124426   124426     40736     40736      0     660   799     0       0     0     37   660        80 0.000000 6.050097
    2     6     234    1305   100144   100144     97115     97115      0     623   669     0       0     0   1553   623        11 6.050097 65.285950
    3    45    1969    3133   239868   239868    231420    231420      0     391   425     0       0     0   4162   391        44 65.285950 0.000308
    4   316   19987    1703   131474   131474    126892    126892      0       0     0     0       0     0   1808     0        37 0.000308 65.283997
    5    37    2343       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.283997 0.000000
user_io:124397.209MB total_ios: 620560.768MB WriteAmplification: 4.9885
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109887.955 MB data into db.)


2025-01-04 15:26:13 ... thread 0: (100000000,999999999) ops and (105148.6,101242.6) ops/second in (951.034861,9877.262469) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     205    1664        0        0    138299    138299      0     343  2692     0       0     0      0   343         0 0.000000 0.000000
    1     1      65    1129   138179   138179     45179     45179      0     737   887     0       0     0     40   737        88 0.000000 1.700414
    2     6     268    1450   111410   111410    108076    108076      0     690   743     0       0     0   1734   690        13 1.700414 0.000308
    3    49    1954    3463   265536   265536    256194    256194      0     421   456     0       0     0   4653   421        69 0.000308 65.255712
    4   265   16415    1874   143776   143776    139091    139091      0       0     0     0       0     0   1983     0       142 65.255712 65.259247
    5   142    9032       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.259247 0.000000
user_io:138298.931MB total_ios: 686839.133MB WriteAmplification: 4.9663
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123623.953 MB data into db.)


1000000000 operations have been finished (137359.952 MB data have been written into db)
fillzipf     :       9.877 micros/op 101242 ops/sec;   13.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 9.8773  StdDev: 102.56
Percentiles: P50: 5.57 P75: 6.47 P99: 10.70 P99.9: 1151.11 P99.99: 1196.25
------------------------------------------------------
[       2,       3 )  322711   0.032%   0.032%
[       3,       4 ) 78567029   7.857%   7.889% ##
[       4,       5 ) 221072712  22.107%  29.996% ####
[       5,       6 ) 349482673  34.948%  64.945% #######
[       6,       7 ) 213668407  21.367%  86.311% ####
[       7,       8 ) 85178620   8.518%  94.829% ##
[       8,       9 ) 29614026   2.961%  97.791% #
[       9,      10 ) 10284256   1.028%  98.819%
[      10,      12 ) 5177250   0.518%  99.337%
[      12,      14 )  995657   0.100%  99.436%
[      14,      16 )  417037   0.042%  99.478%
[      16,      18 )  294601   0.029%  99.507%
[      18,      20 )  257193   0.026%  99.533%
[      20,      25 )  403378   0.040%  99.574%
[      25,      30 )  129780   0.013%  99.587%
[      30,      35 )   41110   0.004%  99.591%
[      35,      40 )   15311   0.002%  99.592%
[      40,      45 )    7749   0.001%  99.593%
[      45,      50 )    4433   0.000%  99.593%
[      50,      60 )   10805   0.001%  99.594%
[      60,      70 )    7101   0.001%  99.595%
[      70,      80 )    3777   0.000%  99.596%
[      80,      90 )    5563   0.001%  99.596%
[      90,     100 )    2519   0.000%  99.596%
[     100,     120 )    4678   0.000%  99.597%
[     120,     140 )    3173   0.000%  99.597%
[     140,     160 )    1688   0.000%  99.597%
[     160,     180 )    1545   0.000%  99.597%
[     180,     200 )    1764   0.000%  99.598%
[     200,     250 )    5769   0.001%  99.598%
[     250,     300 )    1173   0.000%  99.598%
[     300,     350 )     816   0.000%  99.598%
[     350,     400 )     679   0.000%  99.598%
[     400,     450 )     415   0.000%  99.599%
[     450,     500 )     293   0.000%  99.599%
[     500,     600 )     375   0.000%  99.599%
[     600,     700 )     289   0.000%  99.599%
[     700,     800 )     178   0.000%  99.599%
[     800,     900 )     144   0.000%  99.599%
[     900,    1000 )     120   0.000%  99.599%
[    1000,    1200 ) 3988079   0.399%  99.997%
[    1200,    1400 )    3034   0.000%  99.998%
[    1400,    1600 )    1297   0.000%  99.998%
[    1600,    1800 )     779   0.000%  99.998%
[    1800,    2000 )     515   0.000%  99.998%
[    2000,    2500 )     923   0.000%  99.998%
[    2500,    3000 )     664   0.000%  99.998%
[    3000,    3500 )     638   0.000%  99.998%
[    3500,    4000 )     611   0.000%  99.998%
[    4000,    4500 )     540   0.000%  99.998%
[    4500,    5000 )     566   0.000%  99.998%
[    5000,    6000 )    1116   0.000%  99.999%
[    6000,    7000 )     955   0.000%  99.999%
[    7000,    8000 )     876   0.000%  99.999%
[    8000,    9000 )     793   0.000%  99.999%
[    9000,   10000 )     770   0.000%  99.999%
[   10000,   12000 )    1563   0.000%  99.999%
[   12000,   14000 )    1630   0.000%  99.999%
[   14000,   16000 )    1376   0.000%  99.999%
[   16000,   18000 )    1343   0.000%  99.999%
[   18000,   20000 )     988   0.000% 100.000%
[   20000,   25000 )    1706   0.000% 100.000%
[   25000,   30000 )     960   0.000% 100.000%
[   30000,   35000 )     657   0.000% 100.000%
[   35000,   40000 )     385   0.000% 100.000%
[   40000,   45000 )     161   0.000% 100.000%
[   45000,   50000 )     126   0.000% 100.000%
[   50000,   60000 )     121   0.000% 100.000%
[   60000,   70000 )      20   0.000% 100.000%
[   70000,   80000 )      11   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        4      205      1664        0    138299
  1        1       65      1129   138179     45179
  2        6      268      1450   111410    108076
  3       49     1954      3463   265536    256194
  4      265    16415      1874   143776    139091
  5      142     9032         0        0         0
user_io:138298.931MB total_ios: 686839.133MB WriteAmplification: 4.9663

Checking if iostat process with PID 1502281 is still running...
    PID TTY          TIME CMD
1502281 pts/4    00:00:00 iostat
iostat process 1502281 is still running, killing now...
iostat process 1502281 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 1502281 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '1502282':

     12,655,459.93 msec task-clock                       #    1.281 CPUs utilized
         5,151,808      context-switches                 #  407.082 /sec
             3,164      cpu-migrations                   #    0.250 /sec
        19,344,120      page-faults                      #    1.529 K/sec
40,017,585,184,667      cycles                           #    3.162 GHz
85,537,079,542,865      instructions                     #    2.14  insn per cycle
12,104,071,593,004      branches                         #  956.431 M/sec
    30,907,817,982      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      2.5 %  tma_backend_bound
                                                  #     88.9 %  tma_bad_speculation
                                                  #      4.2 %  tma_frontend_bound
                                                  #      4.4 %  tma_retiring

    9877.134039433 seconds time elapsed
