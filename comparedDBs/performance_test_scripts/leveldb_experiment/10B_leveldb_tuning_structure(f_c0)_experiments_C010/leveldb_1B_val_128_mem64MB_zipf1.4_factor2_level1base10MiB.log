LevelDB:    version 1.23
Date:       Sun Jan  5 23:31:41 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f2_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f2_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2279006
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f2_1.4_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.4_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.4_f2_memory_usage_1B_key16_val128_mem64MiB_factor2_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.4_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-05 23:39:14 ... thread 0: (99999999,99999999) ops and (220608.7,220608.7) ops/second in (453.291291,453.291291) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    1     0       0      34        0        0      2731      2731      0      54    54     0       0     0      0    54         0 0.000000 0.000000
    2     0       0     156     3463     3463     11596     11596      0      66    66     0       0     0     54    66       150 0.000000 20.023349
    3     1      29      35     5229     5229      1920      1920      0     148   148     0       0     0     66   148         1 20.023349 50.579709
    4     1      23      95    13268    13268      5830      5830      0       0     0     0       0     0    150     0         1 50.579709 65.282610
    5     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.282610 0.000000
user_io:0.000MB total_ios: 22077.930MB WriteAmplification: inf
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-05 23:46:50 ... thread 0: (100000000,199999999) ops and (219544.9,220075.5) ops/second in (455.487706,908.778997) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      30        0        0      2428      2428      0      12    48     0       0     0      0    12         0 0.000000 0.000000
    1     0       0      91     2481     2481      6470      6470      0     129   129     0       0     0      8   129         1 0.000000 10.954628
    2     1      51     276     8206     8206     20225     20225      0     181   181     0       0     0    129   181       187 10.954628 20.013886
    3     1      35     100    14499    14499      5516      5516      0     185   185     0       0     0    181   185         1 20.013886 50.579709
    4     2      74     134    17579    17579      8418      8418      0       1     1     0       0     0    215     1         1 50.579709 65.282610
    5     2     102       1      131      131       102       102      0       0     0     0       0     0      1     0         0 65.282610 0.000000
user_io:2427.830MB total_ios: 43157.886MB WriteAmplification: 17.7763
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-05 23:54:17 ... thread 0: (100000000,299999999) ops and (223669.0,221260.4) ops/second in (447.089269,1355.868266) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      93        0        0      7283      7283      0      36   144     0       0     0      0    36         0 0.000000 0.000000
    1     0       0     161     7442     7442     11063     11063      0     221   221     0       0     0     24   221         4 0.000000 10.984558
    2     1      18     356    13952    13952     25860     25860      0     254   254     0       0     0    221   254       203 10.984558 50.579189
    3     0       0     143    20616    20616      8005      8005      0     202   202     0       0     0    254   202         1 50.579189 50.579709
    4     2      79     154    19620    19620      9776      9776      0       3     3     0       0     0    247     3         1 50.579709 65.282610
    5     2      99       5      497      497       400       400      0       0     0     0       0     0      6     0         1 65.282610 65.287070
    6     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.287070 0.000000
user_io:7283.495MB total_ios: 62388.586MB WriteAmplification: 8.5657
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-06 00:01:45 ... thread 0: (100000000,399999999) ops and (223179.9,221737.2) ops/second in (448.069002,1803.937268) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     115        0        0      9104      9104      0      45   180     0       0     0      0    45         0 0.000000 0.000000
    1     0       0     198     9302     9302     13614     13614      0     273   273     0       0     0     30   273         4 0.000000 10.984558
    2     0       0     488    17264    17264     35980     35980      0     393   393     0       0     0    273   393       251 10.984558 20.092193
    3     1      21     216    31852    31852     12271     12271      0     249   249     0       0     0    393   249         1 20.092193 50.579709
    4     2      70     200    24887    24887     12819     12819      0       5     5     0       0     0    311     5         1 50.579709 65.282610
    5     3     140      10      886      886       765       765      0       1     1     0       0     0     11     1         1 65.282610 65.287070
    6     2      92       1      131      131        92        92      0       0     0     0       0     0      1     0         0 65.287070 0.000000
user_io:9104.368MB total_ios: 84644.832MB WriteAmplification: 9.2972
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.731 MB data into db.)


2025-01-06 00:09:12 ... thread 0: (100000000,499999999) ops and (223853.0,222157.2) ops/second in (446.721761,2250.659029) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     145        0        0     11532     11532      0      57   228     0       0     0      0    57         0 0.000000 0.000000
    1     0       0     253    11783    11783     17352     17352      0     348   348     0       0     0     38   348         5 0.000000 11.005091
    2     0       0     605    22008    22008     44610     44610      0     521   521     0       0     0    348   521       275 11.005091 20.080077
    3     1      33     285    42139    42139     16182     16182      0     273   273     0       0     0    521   273         1 20.080077 50.579709
    4     2      68     225    27608    27608     14449     14449      0       6     6     0       0     0    345     6         2 50.579709 65.285099
    5     2     103      12      989      989       868       868      0       1     1     0       0     0     13     1         3 65.285099 65.267473
    6     4     222       1      131      131        92        92      0       0     0     0       0     0      1     0         0 65.267473 0.000000
user_io:11532.199MB total_ios: 105084.709MB WriteAmplification: 9.1123
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-06 00:16:38 ... thread 0: (100000000,599999999) ops and (223809.7,222430.9) ops/second in (446.808101,2697.467130) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     208        0        0     16388     16388      0      81   324     0       0     0      0    81         0 0.000000 0.000000
    1     0       0     329    16744    16744     21997     21997      0     441   441     0       0     0     54   441         8 0.000000 10.976259
    2     1      19     690    27823    27823     50264     50264      0     600   600     0       0     0    441   600       285 10.976259 25.386886
    3     0       0     332    48683    48683     18847     18847      0     284   284     0       0     0    600   284         1 25.386886 50.579709
    4     2      70     238    28849    28849     15308     15308      0       8     8     0       0     0    365     8         2 50.579709 65.285099
    5     3     133      15     1286     1286      1101      1101      0       1     1     0       0     0     16     1         4 65.285099 37.592530
    6     5     260       1      131      131        92        92      0       0     0     0       0     0      1     0         0 37.592530 0.000000
user_io:16387.864MB total_ios: 123996.712MB WriteAmplification: 7.5664
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-06 00:24:06 ... thread 0: (100000000,699999999) ops and (223449.5,222575.8) ops/second in (447.528380,3144.995510) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     270        0        0     21294     21294      0     105   421     0       0     0      0   105         0 0.000000 0.000000
    1     1      51     388    21758    21758     25227     25227      0     501   501     0       0     0     70   501        16 0.000000 11.638745
    2     1      15     785    31478    31478     56871     56871      0     697   697     0       0     0    501   697       310 11.638745 50.579845
    3     0       0     386    56504    56504     21886     21886      0     309   309     0       0     0    697   309         1 50.579845 50.579709
    4     2      65     262    31598    31598     16938     16938      0      10    10     0       0     0    392    10         2 50.579709 65.285099
    5     3     160      20     1647     1647      1424      1424      0       2     2     0       0     0     21     2         4 65.285099 37.592530
    6     5     266       3      288      288       190       190      0       0     0     0       0     0      3     0         0 37.592530 0.000000
user_io:21294.106MB total_ios: 143829.984MB WriteAmplification: 6.7545
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-06 00:31:37 ... thread 0: (100000000,799999999) ops and (221559.5,222448.3) ops/second in (451.346023,3596.341533) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     326        0        0     25543     25543      0     126   505     0       0     0      0   126         0 0.000000 0.000000
    1     0       0     452    26098    26098     29037     29037      0     578   578     0       0     0     84   578        18 0.000000 10.945024
    2     0       0     885    36407    36407     63755     63755      0     806   806     0       0     0    578   806       318 10.945024 20.076504
    3     1      36     447    65337    65337     25339     25339      0     316   316     0       0     0    806   316         1 20.076504 50.579709
    4     1      63     271    32372    32372     17476     17476      0      12    12     0       0     0    402    12         2 50.579709 65.285099
    5     2     118      22     1832     1832      1607      1607      0       4     4     0       0     0     23     4         4 65.285099 37.592530
    6     5     297       9      765      765       567       567      0       0     0     0       0     0      9     0         0 37.592530 0.000000
user_io:25542.808MB total_ios: 163323.911MB WriteAmplification: 6.3941
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.372 MB data into db.)


2025-01-06 00:39:16 ... thread 0: (100000000,899999999) ops and (218157.4,221963.2) ops/second in (458.384548,4054.726081) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     421        0        0     32776     32776      0     160   648     0       0     0      0   160         0 0.000000 0.000000
    1     0       0     521    33478    33478     32148     32148      0     641   641     0       0     0    106   641        23 0.000000 50.579364
    2     0       0     954    40257    40257     68370     68370      0     841   841     0       0     0    641   841       360 50.579364 50.580125
    3     1      51     470    68318    68318     26689     26689      0     358   358     0       0     0    841   358         2 50.580125 40.128237
    4     1      53     306    36406    36406     19573     19573      0      14    15     0       0     0    445    14         2 40.128237 65.285099
    5     3     139      28     2166     2166      1938      1938      0       6     6     0       0     0     26     6         4 65.285099 37.592530
    6     6     337      18     1303     1303      1014      1014      0       0     0     0       0     0     16     0         0 37.592530 0.000000
user_io:32775.719MB total_ios: 182507.383MB WriteAmplification: 5.5684
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.282 MB data into db.)


2025-01-06 00:47:06 ... thread 0: (100000000,999999999) ops and (212811.3,221012.7) ops/second in (469.899758,4524.625839) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     202     498        0        0     38390     38390      0     186   759     0       0     0      0   186         0 0.000000 0.000000
    1     0       0     567    38997    38997     34021     34021      0     677   677     0       0     0    122   677        29 0.000000 10.242548
    2     0       0    1057    42313    42313     75276     75276      0     961   961     0       0     0    677   961       373 10.242548 23.516070
    3     1      24     537    77544    77544     29896     29896      0     370   370     0       0     0    961   370         2 23.516070 40.128237
    4     1      20     321    37802    37802     20409     20409      0      15    16     0       0     0    459    15         3 40.128237 65.286336
    5     1      65      32     2340     2340      2111      2111      0       8     9     0       0     0     29     8         4 65.286336 37.592530
    6     8     503      27     1780     1780      1485      1485      0       0     0     0       0     0     22     0         0 37.592530 0.000000
user_io:38390.083MB total_ios: 201588.621MB WriteAmplification: 5.2511
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.192 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :       4.525 micros/op 221012 ops/sec;   30.4 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.5246  StdDev: 49.46
Percentiles: P50: 4.80 P75: 5.65 P99: 8.38 P99.9: 10.68 P99.99: 26.97
------------------------------------------------------
[       2,       3 ) 1363665   0.136%   0.136%
[       3,       4 ) 270743988  27.074%  27.211% #####
[       4,       5 ) 284063262  28.406%  55.617% ######
[       5,       6 ) 298646627  29.865%  85.482% ######
[       6,       7 ) 101333621  10.133%  95.615% ##
[       7,       8 ) 30270085   3.027%  98.642% #
[       8,       9 ) 9297406   0.930%  99.572%
[       9,      10 ) 2901588   0.290%  99.862%
[      10,      12 ) 1109854   0.111%  99.973%
[      12,      14 )  110039   0.011%  99.984%
[      14,      16 )   29328   0.003%  99.987%
[      16,      18 )   10648   0.001%  99.988%
[      18,      20 )    5762   0.001%  99.989%
[      20,      25 )    9800   0.001%  99.990%
[      25,      30 )   10964   0.001%  99.991%
[      30,      35 )   10950   0.001%  99.992%
[      35,      40 )    8094   0.001%  99.993%
[      40,      45 )    5974   0.001%  99.993%
[      45,      50 )    3695   0.000%  99.994%
[      50,      60 )   10612   0.001%  99.995%
[      60,      70 )    5386   0.001%  99.995%
[      70,      80 )    1804   0.000%  99.995%
[      80,      90 )    4766   0.000%  99.996%
[      90,     100 )    2450   0.000%  99.996%
[     100,     120 )    6224   0.001%  99.997%
[     120,     140 )    3110   0.000%  99.997%
[     140,     160 )    1385   0.000%  99.997%
[     160,     180 )    1324   0.000%  99.997%
[     180,     200 )    1373   0.000%  99.997%
[     200,     250 )    5065   0.001%  99.998%
[     250,     300 )     494   0.000%  99.998%
[     300,     350 )     344   0.000%  99.998%
[     350,     400 )     271   0.000%  99.998%
[     400,     450 )     215   0.000%  99.998%
[     450,     500 )     182   0.000%  99.998%
[     500,     600 )     284   0.000%  99.998%
[     600,     700 )     202   0.000%  99.998%
[     700,     800 )     166   0.000%  99.998%
[     800,     900 )     119   0.000%  99.998%
[     900,    1000 )     101   0.000%  99.998%
[    1000,    1200 )    5360   0.001%  99.999%
[    1200,    1400 )     443   0.000%  99.999%
[    1400,    1600 )     277   0.000%  99.999%
[    1600,    1800 )     541   0.000%  99.999%
[    1800,    2000 )     357   0.000%  99.999%
[    2000,    2500 )    1261   0.000%  99.999%
[    2500,    3000 )     688   0.000%  99.999%
[    3000,    3500 )     506   0.000%  99.999%
[    3500,    4000 )     461   0.000%  99.999%
[    4000,    4500 )     416   0.000%  99.999%
[    4500,    5000 )     326   0.000%  99.999%
[    5000,    6000 )     685   0.000%  99.999%
[    6000,    7000 )     622   0.000%  99.999%
[    7000,    8000 )     610   0.000%  99.999%
[    8000,    9000 )     482   0.000%  99.999%
[    9000,   10000 )     508   0.000%  99.999%
[   10000,   12000 )     816   0.000% 100.000%
[   12000,   14000 )    1135   0.000% 100.000%
[   14000,   16000 )     799   0.000% 100.000%
[   16000,   18000 )     473   0.000% 100.000%
[   18000,   20000 )     408   0.000% 100.000%
[   20000,   25000 )     649   0.000% 100.000%
[   25000,   30000 )     431   0.000% 100.000%
[   30000,   35000 )     209   0.000% 100.000%
[   35000,   40000 )     149   0.000% 100.000%
[   40000,   45000 )      59   0.000% 100.000%
[   45000,   50000 )      44   0.000% 100.000%
[   50000,   60000 )      37   0.000% 100.000%
[   60000,   70000 )      15   0.000% 100.000%
[   70000,   80000 )       4   0.000% 100.000%
[   80000,   90000 )       1   0.000% 100.000%
[  100000,  120000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        4      202       498        0     38390
  1        0        0       567    38997     34021
  2        0        0      1057    42313     75276
  3        1       24       537    77544     29896
  4        1       20       321    37802     20409
  5        1       65        32     2340      2111
  6        8      503        27     1780      1485
user_io:38390.083MB total_ios: 201588.621MB WriteAmplification: 5.2511

Checking if iostat process with PID 2279005 is still running...
    PID TTY          TIME CMD
2279005 pts/4    00:00:00 iostat
iostat process 2279005 is still running, killing now...
iostat process 2279005 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 2279005 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2279006':

      6,769,571.46 msec task-clock                       #    1.496 CPUs utilized
           393,740      context-switches                 #   58.163 /sec
               928      cpu-migrations                   #    0.137 /sec
         5,265,174      page-faults                      #  777.771 /sec
22,069,754,636,072      cycles                           #    3.260 GHz
46,173,691,438,399      instructions                     #    2.09  insn per cycle
 6,634,914,965,834      branches                         #  980.109 M/sec
    17,593,304,949      branch-misses                    #    0.27% of all branches
                        TopdownL1                 #     11.6 %  tma_backend_bound
                                                  #     74.1 %  tma_bad_speculation
                                                  #      9.7 %  tma_frontend_bound
                                                  #      4.6 %  tma_retiring

    4524.643200209 seconds time elapsed
