Date:       Tue Jan  7 15:02:40 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.5_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.5_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2816445
../../../leveldb/build_release_f_16_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.5_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.5_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.5_f16_memory_usage_1B_key16_val128_mem64MiB_factor16_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.5_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 15:09:48 ... thread 0: (99999999,99999999) ops and (233786.3,233786.3) ops/second in (427.741059,427.741059) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    1     0       0     160        0        0     13601     13601      0     269   269     0       0     0      0   269         0 0.000000 0.000000
    2     1      42     121    20479    20479      6920      6920      0       0     0     0       0     0    269     0         0 0.000000 0.000000
user_io:0.000MB total_ios: 20521.476MB WriteAmplification: inf
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 15:16:57 ... thread 0: (100000000,199999999) ops and (233367.4,233576.7) ops/second in (428.508811,856.249870) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152      56        0        0      4803      4803      0      23    92     0       0     0      0    23         0 0.000000 0.000000
    1     1       9     283     4773     4773     22651     22651      0     447   447     0       0     0     20   447         0 0.000000 0.000000
    2     1      65     252    38487    38487     16031     16031      0       0     0     0       0     0    447     0         0 0.000000 0.000000
user_io:4803.339MB total_ios: 43485.858MB WriteAmplification: 9.0533
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-07 15:24:03 ... thread 0: (100000000,299999999) ops and (234552.8,233901.2) ops/second in (426.343195,1282.593065) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     217        0        0     18455     18455      0      91   364     0       0     0      0    91         0 0.000000 0.000000
    1     1       5     340    18891    18891     23104     23104      0     456   456     0       0     0     79   456         0 0.000000 0.000000
    2     2      87     260    39254    39254     16729     16729      0       0     0     0       0     0    464     0         0 0.000000 0.000000
user_io:18454.928MB total_ios: 58288.340MB WriteAmplification: 3.1584
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-07 15:31:10 ... thread 0: (100000000,399999999) ops and (234189.5,233973.2) ops/second in (427.004644,1709.597709) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     388        0        0     32157     32157      0     159   636     0       0     0      0   159         0 0.000000 0.000000
    1     1       9     398    33020    33020     23566     23566      0     464   464     0       0     0    139   464         0 0.000000 0.000000
    2     2     105     271    40097    40097     17508     17508      0       0     0     0       0     0    480     0         0 0.000000 0.000000
user_io:32157.085MB total_ios: 73231.502MB WriteAmplification: 2.2773
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-07 15:38:16 ... thread 0: (100000000,499999999) ops and (234630.6,234104.4) ops/second in (426.201859,2135.799568) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     555        0        0     45859     45859      0     226   904     0       0     0      0   226         0 0.000000 0.000000
    1     1       4     455    46932    46932     24015     24015      0     473   473     0       0     0    197   473         0 0.000000 0.000000
    2     2     123     284    41208    41208     18546     18546      0       0     0     0       0     0    498     0         0 0.000000 0.000000
user_io:45859.239MB total_ios: 88419.481MB WriteAmplification: 1.9281
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-07 15:45:23 ... thread 0: (100000000,599999999) ops and (234250.1,234128.6) ops/second in (426.894109,2562.693677) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     720        0        0     59561     59561      0     294  1176     0       0     0      0   294         0 0.000000 0.000000
    1     1       8     512    61057    61057     24473     24473      0     481   481     0       0     0    257   481         0 0.000000 0.000000
    2     3     139     298    42331    42331     19601     19601      0       0     0     0       0     0    518     0         0 0.000000 0.000000
user_io:59561.390MB total_ios: 103635.775MB WriteAmplification: 1.7400
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-07 15:52:27 ... thread 0: (100000000,699999999) ops and (236014.3,234396.2) ops/second in (423.703172,2986.396849) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     878        0        0     73264     73264      0     362  1448     0       0     0      0   362         0 0.000000 0.000000
    1     1       4     569    75179    75179     24930     24930      0     490   490     0       0     0    316   490         0 0.000000 0.000000
    2     3     155     315    43735    43735     20929     20929      0       0     0     0       0     0    545     0         0 0.000000 0.000000
user_io:73263.542MB total_ios: 119122.717MB WriteAmplification: 1.6259
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-07 15:59:31 ... thread 0: (100000000,799999999) ops and (235677.6,234555.6) ops/second in (424.308380,3410.705229) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1032        0        0     86915     86915      0     429  1716     0       0     0      0   429         0 0.000000 0.000000
    1     1       7     624    89094    89094     25379     25379      0     498   498     0       0     0    375   498         0 0.000000 0.000000
    2     2     121     328    44877    44877     22022     22022      0       0     0     0       0     0    565     0         1 0.000000 65.284905
    3     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.284905 0.000000
user_io:86915.128MB total_ios: 134316.381MB WriteAmplification: 1.5454
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-07 16:06:35 ... thread 0: (100000000,899999999) ops and (235702.1,234682.4) ops/second in (424.264306,3834.969535) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101    1192        0        0    100617    100617      0     497  1988     0       0     0      0   497         0 0.000000 0.000000
    1     1       3     681   103221   103221     25841     25841      0     507   507     0       0     0    434   507         0 0.000000 0.000000
    2     3     150     345    46183    46183     23264     23264      0       0     0     0       0     0    589     0         1 0.000000 65.284905
    3     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.284905 0.000000
user_io:100617.278MB total_ios: 149722.017MB WriteAmplification: 1.4880
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-07 16:13:40 ... thread 0: (100000000,999999999) ops and (235697.9,234783.6) ops/second in (424.272004,4259.241539) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1354        0        0    114319    114319      0     565  2260     0       0     0      0   565         0 0.000000 0.000000
    1     1       7     738   117340   117340     26294     26294      0     515   515     0       0     0    494   515         0 0.000000 0.000000
    2     2     120     358    47306    47306     24342     24342      0       1     1     0       0     0    609     1         1 0.000000 65.284905
    3     2      95       1      131      131        95        95      0       0     0     0       0     0      1     0         0 65.284905 0.000000
user_io:114319.423MB total_ios: 165049.919MB WriteAmplification: 1.4438
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :       4.259 micros/op 234783 ops/sec;   32.2 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.2592  StdDev: 21.56
Percentiles: P50: 4.60 P75: 5.51 P99: 8.03 P99.9: 9.98 P99.99: 27.76
------------------------------------------------------
[       2,       3 ) 4716113   0.472%   0.472%
[       3,       4 ) 326858168  32.686%  33.157% #######
[       4,       5 ) 281750219  28.175%  61.332% ######
[       5,       6 ) 267812393  26.781%  88.114% #####
[       6,       7 ) 84334976   8.433%  96.547% ##
[       7,       8 ) 24347609   2.435%  98.982%
[       8,       9 ) 7169401   0.717%  99.699%
[       9,      10 ) 2051695   0.205%  99.904%
[      10,      12 )  717246   0.072%  99.976%
[      12,      14 )   74530   0.007%  99.983%
[      14,      16 )   22000   0.002%  99.985%
[      16,      18 )    6757   0.001%  99.986%
[      18,      20 )    4937   0.000%  99.987%
[      20,      25 )   21274   0.002%  99.989%
[      25,      30 )   22954   0.002%  99.991%
[      30,      35 )   16946   0.002%  99.993%
[      35,      40 )    7720   0.001%  99.993%
[      40,      45 )    4916   0.000%  99.994%
[      45,      50 )    3989   0.000%  99.994%
[      50,      60 )   16979   0.002%  99.996%
[      60,      70 )    4837   0.000%  99.997%
[      70,      80 )    1561   0.000%  99.997%
[      80,      90 )    2577   0.000%  99.997%
[      90,     100 )    1363   0.000%  99.997%
[     100,     120 )    5266   0.001%  99.998%
[     120,     140 )    2840   0.000%  99.998%
[     140,     160 )    1864   0.000%  99.998%
[     160,     180 )    1606   0.000%  99.998%
[     180,     200 )    1769   0.000%  99.998%
[     200,     250 )    8489   0.001%  99.999%
[     250,     300 )     499   0.000%  99.999%
[     300,     350 )     276   0.000%  99.999%
[     350,     400 )     206   0.000%  99.999%
[     400,     450 )     139   0.000%  99.999%
[     450,     500 )     110   0.000%  99.999%
[     500,     600 )     162   0.000%  99.999%
[     600,     700 )      98   0.000%  99.999%
[     700,     800 )      61   0.000%  99.999%
[     800,     900 )      31   0.000%  99.999%
[     900,    1000 )     119   0.000%  99.999%
[    1000,    1200 )     462   0.000% 100.000%
[    1200,    1400 )     155   0.000% 100.000%
[    1400,    1600 )     281   0.000% 100.000%
[    1600,    1800 )     589   0.000% 100.000%
[    1800,    2000 )     171   0.000% 100.000%
[    2000,    2500 )     563   0.000% 100.000%
[    2500,    3000 )     323   0.000% 100.000%
[    3000,    3500 )     224   0.000% 100.000%
[    3500,    4000 )     182   0.000% 100.000%
[    4000,    4500 )     126   0.000% 100.000%
[    4500,    5000 )     118   0.000% 100.000%
[    5000,    6000 )     142   0.000% 100.000%
[    6000,    7000 )     162   0.000% 100.000%
[    7000,    8000 )     367   0.000% 100.000%
[    8000,    9000 )     294   0.000% 100.000%
[    9000,   10000 )     132   0.000% 100.000%
[   10000,   12000 )     167   0.000% 100.000%
[   12000,   14000 )     195   0.000% 100.000%
[   14000,   16000 )     114   0.000% 100.000%
[   16000,   18000 )     126   0.000% 100.000%
[   18000,   20000 )     113   0.000% 100.000%
[   20000,   25000 )     155   0.000% 100.000%
[   25000,   30000 )      75   0.000% 100.000%
[   30000,   35000 )      40   0.000% 100.000%
[   35000,   40000 )      19   0.000% 100.000%
[   40000,   45000 )       4   0.000% 100.000%
[   45000,   50000 )       4   0.000% 100.000%
[   50000,   60000 )       2   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        1       51      1354        0    114319
  1        1        7       738   117340     26294
  2        2      120       358    47306     24342
  3        2       95         1      131        95
user_io:114319.423MB total_ios: 165049.919MB WriteAmplification: 1.4438

Checking if iostat process with PID 2816444 is still running...
    PID TTY          TIME CMD
2816444 pts/11   00:00:00 iostat
iostat process 2816444 is still running, killing now...
iostat process 2816444 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 47: 2816444 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2816445':

      6,274,997.35 msec task-clock                       #    1.474 CPUs utilized
           241,724      context-switches                 #   38.522 /sec
               992      cpu-migrations                   #    0.158 /sec
         6,293,917      page-faults                      #    1.003 K/sec
20,651,525,662,229      cycles                           #    3.291 GHz
43,457,423,355,487      instructions                     #    2.10  insn per cycle
 6,242,381,971,095      branches                         #  994.802 M/sec
    16,596,831,904      branch-misses                    #    0.27% of all branches
                        TopdownL1                 #     12.4 %  tma_backend_bound
                                                  #     72.2 %  tma_bad_speculation
                                                  #      9.4 %  tma_frontend_bound
                                                  #      6.0 %  tma_retiring

    4258.384005232 seconds time elapsed
