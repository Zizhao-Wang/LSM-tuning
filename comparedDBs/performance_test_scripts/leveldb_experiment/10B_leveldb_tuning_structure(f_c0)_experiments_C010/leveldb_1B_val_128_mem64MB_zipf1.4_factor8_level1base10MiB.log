LevelDB:    version 1.23
Date:       Tue Jan  7 10:09:16 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2784982
../../../leveldb/build_release_f_8_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.4_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.4_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.4_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.4_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 10:16:41 ... thread 0: (99999999,99999999) ops and (224974.1,224974.1) ops/second in (444.495671,444.495671) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152      70        0        0      6019      6019      0      29   116     0       0     0      0    29         0 0.000000 0.000000
    1     1       8     112     5991     5991      7817      7817      0     159   159     0       0     0     19   159         0 0.000000 0.000000
    2     1      51      99    14042    14042      6472      6472      0       0     0     0       0     0    167     0         1 0.000000 65.282828
    3     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.282828 0.000000
user_io:6018.999MB total_ios: 20308.723MB WriteAmplification: 3.3741
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 10:24:02 ... thread 0: (100000000,199999999) ops and (226534.4,225751.6) ops/second in (441.433990,885.929661) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     225        0        0     19726     19726      0      97   388     0       0     0      0    97         0 0.000000 0.000000
    1     1       5     167    20047    20047      8364      8364      0     182   182     0       0     0     64   182         0 0.000000 0.000000
    2     1      44     115    15459    15459      7762      7762      0       2     2     0       0     0    196     2         1 0.000000 65.282828
    3     3     140       3      301      301       244       244      0       0     0     0       0     0      3     0         0 65.282828 0.000000
user_io:19726.132MB total_ios: 36096.459MB WriteAmplification: 1.8299
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-07 10:31:24 ... thread 0: (100000000,299999999) ops and (226252.1,225918.2) ops/second in (441.984851,1327.914512) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     385        0        0     33433     33433      0     165   660     0       0     0      0   165         0 0.000000 0.000000
    1     1      11     224    34108    34108      8914      8914      0     205   205     0       0     0    110   205         0 0.000000 0.000000
    2     1      28     131    16911    16911      9087      9087      0       4     4     0       0     0    227     4         1 0.000000 65.282828
    3     4     200       8      741      741       615       615      0       0     0     0       0     0      9     0         0 65.282828 0.000000
user_io:33433.262MB total_ios: 52049.488MB WriteAmplification: 1.5568
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-07 10:38:48 ... thread 0: (100000000,399999999) ops and (225427.5,225795.3) ops/second in (443.601684,1771.516196) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     540        0        0     47090     47090      0     232   928     0       0     0      0   232         0 0.000000 0.000000
    1     1       5     278    47953    47953      9450      9450      0     227   227     0       0     0    154   227         0 0.000000 0.000000
    2     1      16     148    18381    18381     10424     10424      0       6     6     0       0     0    256     6         1 0.000000 65.282828
    3     4     256      13     1301     1301      1100      1100      0       0     0     0       0     0     17     0         0 65.282828 0.000000
user_io:47089.815MB total_ios: 68064.365MB WriteAmplification: 1.4454
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.731 MB data into db.)


2025-01-07 10:46:09 ... thread 0: (100000000,499999999) ops and (226537.1,225943.3) ops/second in (441.428799,2212.944995) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     698        0        0     60797     60797      0     300  1201     0       0     0      0   300         0 0.000000 0.000000
    1     0       0     334    62067    62067     10003     10003      0     250   250     0       0     0    200   250         0 0.000000 0.000000
    2     2      76     163    19765    19765     11681     11681      0       7     7     0       0     0    284     7         1 0.000000 65.282828
    3     5     282      17     1622     1622      1382      1382      0       0     0     0       0     0     21     0         0 65.282828 0.000000
user_io:60796.948MB total_ios: 83862.974MB WriteAmplification: 1.3794
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-07 10:53:31 ... thread 0: (100000000,599999999) ops and (226301.0,226002.8) ops/second in (441.889259,2654.834254) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     859        0        0     74504     74504      0     367  1471     0       0     0      0   367         0 0.000000 0.000000
    1     1       5     391    76017    76017     10543     10543      0     272   272     0       0     0    244   272         0 0.000000 0.000000
    2     1      42     182    21245    21245     13034     13034      0      10    10     0       0     0    316    10         1 0.000000 65.282828
    3     6     341      24     2266     2266      1935      1935      0       0     0     0       0     0     30     0         0 65.282828 0.000000
user_io:74504.077MB total_ios: 100015.937MB WriteAmplification: 1.3424
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-07 11:00:52 ... thread 0: (100000000,699999999) ops and (226698.3,226101.9) ops/second in (441.114976,3095.949230) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1017        0        0     88211     88211      0     434  1743     0       0     0      0   434         0 0.000000 0.000000
    1     1       8     447    90076    90076     11092     11092      0     294   294     0       0     0    289   294         0 0.000000 0.000000
    2     1      29     199    22688    22688     14351     14351      0      12    12     0       0     0    346    12         1 0.000000 65.282828
    3     7     387      33     3022     3022      2607      2607      0       0     0     0       0     0     40     0         0 65.282828 0.000000
user_io:88211.215MB total_ios: 116261.239MB WriteAmplification: 1.3180
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-07 11:08:18 ... thread 0: (100000000,799999999) ops and (224445.3,225893.5) ops/second in (445.542817,3541.492047) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1098        0        0     94989     94989      0     467  1878     0       0     0      0   467         0 0.000000 0.000000
    1     0       0     556    97052    97052     18241     18241      0     441   441     0       0     0    311   441         1 0.000000 10.353330
    2     2      66     296    35833    35833     20604     20604      0      13    14     0       0     0    497    13         1 10.353330 65.282828
    3     7     426      38     3491     3491      3033      3033      0       0     0     0       0     0     47     0         0 65.282828 0.000000
user_io:94988.912MB total_ios: 136867.110MB WriteAmplification: 1.4409
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.372 MB data into db.)


2025-01-07 11:15:41 ... thread 0: (100000000,899999999) ops and (225703.9,225872.4) ops/second in (443.058380,3984.550427) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1255        0        0    108342    108342      0     532  2142     0       0     0      0   532         0 0.000000 0.000000
    1     1      11     615   110691   110691     19122     19122      0     470   470     0       0     0    354   470         1 0.000000 10.353330
    2     1      51     318    37963    37963     22266     22266      0      15    16     0       0     0    541    15         1 10.353330 65.282828
    3     8     461      48     4288     4288      3734      3734      0       0     0     0       0     0     58     0         0 65.282828 0.000000
user_io:108341.982MB total_ios: 153464.411MB WriteAmplification: 1.4165
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.282 MB data into db.)


2025-01-07 11:23:04 ... thread 0: (100000000,999999999) ops and (225628.1,225848.0) ops/second in (443.207133,4427.757560) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101    1417        0        0    122049    122049      0     598  2411     0       0     0      0   598         0 0.000000 0.000000
    1     1       5     671   124585   124585     19656     19656      0     492   492     0       0     0    397   492         1 0.000000 10.353330
    2     1      44     335    39390    39390     23565     23565      0      17    18     0       0     0    569    17         1 10.353330 65.282828
    3     9     503      59     5293     5293      4651      4651      0       0     0     0       0     0     72     0         0 65.282828 0.000000
user_io:122049.115MB total_ios: 169920.830MB WriteAmplification: 1.3922
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.192 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :       4.428 micros/op 225847 ops/sec;   31.0 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.4278  StdDev: 21.13
Percentiles: P50: 4.81 P75: 5.65 P99: 8.31 P99.9: 10.45 P99.99: 29.37
------------------------------------------------------
[       2,       3 ) 1878259   0.188%   0.188%
[       3,       4 ) 266397566  26.640%  26.828% #####
[       4,       5 ) 285868154  28.587%  55.414% ######
[       5,       6 ) 299894313  29.989%  85.404% ######
[       6,       7 ) 103199897  10.320%  95.724% ##
[       7,       8 ) 30020918   3.002%  98.726% #
[       8,       9 ) 8898068   0.890%  99.616%
[       9,      10 ) 2625923   0.263%  99.878%
[      10,      12 )  956849   0.096%  99.974%
[      12,      14 )   90652   0.009%  99.983%
[      14,      16 )   24702   0.002%  99.986%
[      16,      18 )   10063   0.001%  99.987%
[      18,      20 )    6197   0.001%  99.987%
[      20,      25 )   15085   0.002%  99.989%
[      25,      30 )   15265   0.002%  99.990%
[      30,      35 )   17175   0.002%  99.992%
[      35,      40 )    7844   0.001%  99.993%
[      40,      45 )    5626   0.001%  99.993%
[      45,      50 )    4760   0.000%  99.994%
[      50,      60 )   21438   0.002%  99.996%
[      60,      70 )    4605   0.000%  99.996%
[      70,      80 )    1531   0.000%  99.996%
[      80,      90 )    1592   0.000%  99.997%
[      90,     100 )    1276   0.000%  99.997%
[     100,     120 )    6351   0.001%  99.997%
[     120,     140 )    3078   0.000%  99.998%
[     140,     160 )    1810   0.000%  99.998%
[     160,     180 )    1484   0.000%  99.998%
[     180,     200 )    1447   0.000%  99.998%
[     200,     250 )    7507   0.001%  99.999%
[     250,     300 )     405   0.000%  99.999%
[     300,     350 )     224   0.000%  99.999%
[     350,     400 )     177   0.000%  99.999%
[     400,     450 )     150   0.000%  99.999%
[     450,     500 )     117   0.000%  99.999%
[     500,     600 )     182   0.000%  99.999%
[     600,     700 )      97   0.000%  99.999%
[     700,     800 )      66   0.000%  99.999%
[     800,     900 )      43   0.000%  99.999%
[     900,    1000 )     520   0.000%  99.999%
[    1000,    1200 )    3789   0.000% 100.000%
[    1200,    1400 )     336   0.000% 100.000%
[    1400,    1600 )     349   0.000% 100.000%
[    1600,    1800 )     546   0.000% 100.000%
[    1800,    2000 )     160   0.000% 100.000%
[    2000,    2500 )     514   0.000% 100.000%
[    2500,    3000 )     176   0.000% 100.000%
[    3000,    3500 )     130   0.000% 100.000%
[    3500,    4000 )     111   0.000% 100.000%
[    4000,    4500 )      76   0.000% 100.000%
[    4500,    5000 )      85   0.000% 100.000%
[    5000,    6000 )     124   0.000% 100.000%
[    6000,    7000 )     287   0.000% 100.000%
[    7000,    8000 )     358   0.000% 100.000%
[    8000,    9000 )     240   0.000% 100.000%
[    9000,   10000 )     146   0.000% 100.000%
[   10000,   12000 )     206   0.000% 100.000%
[   12000,   14000 )     223   0.000% 100.000%
[   14000,   16000 )     163   0.000% 100.000%
[   16000,   18000 )     153   0.000% 100.000%
[   18000,   20000 )     155   0.000% 100.000%
[   20000,   25000 )     167   0.000% 100.000%
[   25000,   30000 )      57   0.000% 100.000%
[   30000,   35000 )      25   0.000% 100.000%
[   35000,   40000 )       7   0.000% 100.000%
[   40000,   45000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        2      101      1417        0    122049
  1        1        5       671   124585     19656
  2        1       44       335    39390     23565
  3        9      503        59     5293      4651
user_io:122049.115MB total_ios: 169920.830MB WriteAmplification: 1.3922

Checking if iostat process with PID 2784981 is still running...
    PID TTY          TIME CMD
2784981 pts/11   00:00:00 iostat
iostat process 2784981 is still running, killing now...
iostat process 2784981 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 47: 2784981 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2784982':

      6,447,532.53 msec task-clock                       #    1.456 CPUs utilized
           274,133      context-switches                 #   42.518 /sec
             1,022      cpu-migrations                   #    0.159 /sec
         3,875,447      page-faults                      #  601.074 /sec
21,341,948,315,722      cycles                           #    3.310 GHz
44,502,722,052,566      instructions                     #    2.09  insn per cycle
 6,400,458,051,777      branches                         #  992.699 M/sec
    17,351,080,085      branch-misses                    #    0.27% of all branches
                        TopdownL1                 #     12.7 %  tma_backend_bound
                                                  #     71.9 %  tma_bad_speculation
                                                  #     10.2 %  tma_frontend_bound
                                                  #      5.3 %  tma_retiring

    4427.603215546 seconds time elapsed
