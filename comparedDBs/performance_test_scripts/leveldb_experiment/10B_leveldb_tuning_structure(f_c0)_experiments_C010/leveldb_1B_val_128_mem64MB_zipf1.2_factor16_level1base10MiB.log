LevelDB:    version 1.23
Date:       Tue Jan  7 02:54:00 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.2_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.2_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2612334
../../../leveldb/build_release_f_16_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.2_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.2_f16_memory_usage_1B_key16_val128_mem64MiB_factor16_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 03:02:20 ... thread 0: (99999999,99999999) ops and (200027.7,200027.7) ops/second in (499.930631,499.930631) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     147        0        0     12792     12792      0      58   252     0       0     0      0    58         0 0.000000 0.000000
    1     0       0      68    12589    12589      2440      2440      0      74    74     0       0     0      0    74         0 0.000000 0.000000
    2     3     146     120    10562    10562      9413      9413      0      16    16     0       0     0    173    16         2 0.000000 35.751713
    3    12     738      60     5200     5200      4793      4793      0       0     0     0       0     0     71     0         0 35.751713 0.000000
user_io:12791.783MB total_ios: 29437.697MB WriteAmplification: 2.3013
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 03:11:20 ... thread 0: (100000000,199999999) ops and (185362.8,192416.3) ops/second in (539.482592,1039.413223) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     305        0        0     26548     26548      0     112   521     0       0     0      0   112         0 0.000000 0.000000
    1     1      26     137    26447    26447      4133      4133      0     129   129     0       0     0      0   129         0 0.000000 0.000000
    2     3     125     226    19257    19257     17757     17757      0      37    40     0       0     0    341    37         2 0.000000 35.751713
    3    23    1448     184    15708    15708     14674     14674      0       0     0     0       0     0    225     0         0 35.751713 0.000000
user_io:26548.028MB total_ios: 63111.621MB WriteAmplification: 2.3773
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-07 03:20:19 ... thread 0: (100000000,299999999) ops and (185421.7,190026.8) ops/second in (539.311292,1578.724515) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305     460        0        0     40254     40254      0     164   787     0       0     0      0   164         0 0.000000 0.000000
    1     0       0     205    39949    39949      5772      5772      0     181   181     0       0     0      0   181         0 0.000000 0.000000
    2     5     175     331    27894    27894     25985     25985      0      60    66     0       0     0    537    60         2 0.000000 35.751713
    3    32    2027     313    26859    26859     25198     25198      0       0     0     0       0     0    401     0         0 35.751713 0.000000
user_io:40253.506MB total_ios: 97208.189MB WriteAmplification: 2.4149
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-07 03:29:43 ... thread 0: (100000000,399999999) ops and (177528.8,186740.2) ops/second in (563.288949,2142.013464) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     618        0        0     54010     54010      0     215  1062     0       0     0      0   215         0 0.000000 0.000000
    1     0       0     278    53908    53908      7450      7450      0     232   232     0       0     0      0   232         0 0.000000 0.000000
    2     4     162     433    36288    36288     33977     33977      0      83    91     0       0     0    752    83         2 0.000000 35.751713
    3    40    2556     471    40044    40044     37754     37754      0       1     1     0       0     0    596     1         1 35.751713 65.285172
    4     2      91       1      131      131        91        91      0       0     0     0       0     0      1     0         0 65.285172 0.000000
user_io:54009.733MB total_ios: 133281.273MB WriteAmplification: 2.4677
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-07 03:38:56 ... thread 0: (100000000,499999999) ops and (180547.2,185467.8) ops/second in (553.871901,2695.885365) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     775        0        0     67766     67766      0     265  1330     0       0     0      0   265         0 0.000000 0.000000
    1     0       0     348    67512    67512      9088      9088      0     282   282     0       0     0      0   282         0 0.000000 0.000000
    2     4     169     533    44451    44451     41767     41767      0     105   113     0       0     0    970   105         3 0.000000 65.286746
    3    41    2536     610    51625    51625     48904     48904      0       6     6     0       0     0    769     6         9 65.286746 65.285960
    4    13     847      20     1745     1745      1612      1612      0       0     0     0       0     0     24     0         0 65.285960 0.000000
user_io:67765.979MB total_ios: 169138.056MB WriteAmplification: 2.4959
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-07 03:48:16 ... thread 0: (100000000,599999999) ops and (178579.4,184283.1) ops/second in (559.975051,3255.860416) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     932        0        0     81522     81522      0     314  1601     0       0     0      0   314         0 0.000000 0.000000
    1     0       0     420    81268    81268     10736     10736      0     331   331     0       0     0      0   331         0 0.000000 0.000000
    2     5     173     633    52657    52657     49626     49626      0     129   138     0       0     0   1180   129         3 0.000000 65.286746
    3    40    2499     771    65004    65004     61733     61733      0      11    11     0       0     0    971    11        16 65.286746 65.274178
    4    25    1615      38     3235     3235      3087      3087      0       0     0     0       0     0     42     0         0 65.274178 0.000000
user_io:81522.201MB total_ios: 206705.039MB WriteAmplification: 2.5356
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-07 03:57:49 ... thread 0: (100000000,699999999) ops and (174696.7,182849.7) ops/second in (572.420667,3828.281083) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1090        0        0     95278     95278      0     360  1873     0       0     0      0   360         0 0.000000 0.000000
    1     0       0     495    95075    95075     12372     12372      0     377   377     0       0     0      0   377         0 0.000000 0.000000
    2     5     175     731    60493    60493     57129     57129      0     155   164     0       0     0   1382   155         3 0.000000 65.286746
    3    42    2559     948    79832    79832     75908     75908      0      15    15     0       0     0   1198    15        21 65.286746 65.267461
    4    34    2200      55     4667     4667      4517      4517      0       0     0     0       0     0     60     0         0 65.267461 0.000000
user_io:95278.421MB total_ios: 245203.476MB WriteAmplification: 2.5735
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-07 04:07:11 ... thread 0: (100000000,799999999) ops and (177975.1,182225.8) ops/second in (561.876510,4390.157593) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1244        0        0    108984    108984      0     407  2146     0       0     0      0   407         0 0.000000 0.000000
    1     1      26     569   108933   108933     14019     14019      0     424   424     0       0     0      0   424         0 0.000000 0.000000
    2     5     115     826    68307    68307     64547     64547      0     179   190     0       0     0   1592   179         3 0.000000 65.286746
    3    43    2556    1110    93390    93390     88830     88830      0      18    18     0       0     0   1402    18        28 65.286746 65.254923
    4    44    2850      76     6351     6351      6198      6198      0       0     0     0       0     0     83     0         0 65.254923 0.000000
user_io:108983.894MB total_ios: 282578.305MB WriteAmplification: 2.5928
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-07 04:16:37 ... thread 0: (100000000,899999999) ops and (176493.1,181570.5) ops/second in (566.594301,4956.751894) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1399        0        0    122740    122740      0     455  2415     0       0     0      0   455         0 0.000000 0.000000
    1     0       0     641   122588   122588     15651     15651      0     472   472     0       0     0      0   472         0 0.000000 0.000000
    2     5     150     925    76483    76483     72312     72312      0     203   215     0       0     0   1809   203         3 0.000000 65.286746
    3    43    2537    1279   107073   107073    101884    101884      0      21    21     0       0     0   1620    21        35 65.286746 65.239668
    4    54    3453      91     7521     7521      7367      7367      0       0     0     0       0     0     99     0         0 65.239668 0.000000
user_io:122740.131MB total_ios: 319954.880MB WriteAmplification: 2.6068
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-07 04:25:42 ... thread 0: (100000000,999999999) ops and (183715.1,181782.7) ops/second in (544.321056,5501.072950) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1552        0        0    136496    136496      0     504  2686     0       0     0      0   504         0 0.000000 0.000000
    1     0       0     712   136344   136344     17300     17300      0     521   521     0       0     0      0   521         0 0.000000 0.000000
    2     5     159    1020    84635    84635     80056     80056      0     226   240     0       0     0   2021   226         3 0.000000 65.286746
    3    42    2512    1425   119825   119825    113967    113967      0      25    25     0       0     0   1823    25        40 65.286746 65.224115
    4    63    4039     110     9126     9126      8972      8972      0       0     0     0       0     0    123     0         0 65.224115 0.000000
user_io:136496.365MB total_ios: 356791.890MB WriteAmplification: 2.6139
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       5.501 micros/op 181782 ops/sec;   25.0 MB/s
Microseconds per op:
Count: 1000000000  Average: 5.5011  StdDev: 39.00
Percentiles: P50: 5.32 P75: 6.11 P99: 9.37 P99.9: 18.19 P99.99: 1162.23
------------------------------------------------------
[       2,       3 )  564878   0.056%   0.056%
[       3,       4 ) 136764409  13.676%  13.733% ###
[       4,       5 ) 251750300  25.175%  38.908% #####
[       5,       6 ) 342259739  34.226%  73.134% #######
[       6,       7 ) 174020736  17.402%  90.536% ###
[       7,       8 ) 61759481   6.176%  96.712% #
[       8,       9 ) 20308766   2.031%  98.743%
[       9,      10 ) 6925888   0.693%  99.435%
[      10,      12 ) 3500049   0.350%  99.785%
[      12,      14 )  727133   0.073%  99.858%
[      14,      16 )  253731   0.025%  99.884%
[      16,      18 )  152498   0.015%  99.899%
[      18,      20 )  133144   0.013%  99.912%
[      20,      25 )  194008   0.019%  99.931%
[      25,      30 )   72960   0.007%  99.939%
[      30,      35 )   27625   0.003%  99.942%
[      35,      40 )   10694   0.001%  99.943%
[      40,      45 )    5667   0.001%  99.943%
[      45,      50 )    4387   0.000%  99.944%
[      50,      60 )   18648   0.002%  99.945%
[      60,      70 )   13444   0.001%  99.947%
[      70,      80 )    5099   0.001%  99.947%
[      80,      90 )    6909   0.001%  99.948%
[      90,     100 )    2609   0.000%  99.948%
[     100,     120 )    5324   0.001%  99.949%
[     120,     140 )    2867   0.000%  99.949%
[     140,     160 )    1574   0.000%  99.949%
[     160,     180 )    1234   0.000%  99.949%
[     180,     200 )    1234   0.000%  99.950%
[     200,     250 )    4197   0.000%  99.950%
[     250,     300 )     482   0.000%  99.950%
[     300,     350 )     383   0.000%  99.950%
[     350,     400 )     290   0.000%  99.950%
[     400,     450 )     196   0.000%  99.950%
[     450,     500 )     182   0.000%  99.950%
[     500,     600 )     310   0.000%  99.950%
[     600,     700 )     188   0.000%  99.950%
[     700,     800 )     161   0.000%  99.950%
[     800,     900 )      81   0.000%  99.950%
[     900,    1000 )      60   0.000%  99.950%
[    1000,    1200 )  491191   0.049%  99.999%
[    1200,    1400 )     901   0.000%  99.999%
[    1400,    1600 )     431   0.000%  99.999%
[    1600,    1800 )     262   0.000%  99.999%
[    1800,    2000 )     221   0.000%  99.999%
[    2000,    2500 )     603   0.000% 100.000%
[    2500,    3000 )     436   0.000% 100.000%
[    3000,    3500 )     343   0.000% 100.000%
[    3500,    4000 )     128   0.000% 100.000%
[    4000,    4500 )     113   0.000% 100.000%
[    4500,    5000 )     126   0.000% 100.000%
[    5000,    6000 )     292   0.000% 100.000%
[    6000,    7000 )     323   0.000% 100.000%
[    7000,    8000 )     334   0.000% 100.000%
[    8000,    9000 )     271   0.000% 100.000%
[    9000,   10000 )     203   0.000% 100.000%
[   10000,   12000 )     421   0.000% 100.000%
[   12000,   14000 )     403   0.000% 100.000%
[   14000,   16000 )     334   0.000% 100.000%
[   16000,   18000 )     298   0.000% 100.000%
[   18000,   20000 )     190   0.000% 100.000%
[   20000,   25000 )     317   0.000% 100.000%
[   25000,   30000 )     142   0.000% 100.000%
[   30000,   35000 )      80   0.000% 100.000%
[   35000,   40000 )      34   0.000% 100.000%
[   40000,   45000 )      14   0.000% 100.000%
[   45000,   50000 )      12   0.000% 100.000%
[   50000,   60000 )      11   0.000% 100.000%
[   60000,   70000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        3      152      1552        0    136496
  1        0        0       712   136344     17300
  2        5      159      1020    84635     80056
  3       42     2512      1425   119825    113967
  4       63     4039       110     9126      8972
user_io:136496.365MB total_ios: 356791.890MB WriteAmplification: 2.6139

Checking if iostat process with PID 2612333 is still running...
    PID TTY          TIME CMD
2612333 pts/11   00:00:00 iostat
iostat process 2612333 is still running, killing now...
iostat process 2612333 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 47: 2612333 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2612334':

      8,831,902.93 msec task-clock                       #    1.606 CPUs utilized
         1,187,993      context-switches                 #  134.512 /sec
             1,958      cpu-migrations                   #    0.222 /sec
         9,459,138      page-faults                      #    1.071 K/sec
28,971,453,408,261      cycles                           #    3.280 GHz
60,368,448,177,283      instructions                     #    2.08  insn per cycle
 8,623,218,063,071      branches                         #  976.371 M/sec
    22,364,536,976      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      3.5 %  tma_backend_bound
                                                  #     85.1 %  tma_bad_speculation
                                                  #      5.8 %  tma_frontend_bound
                                                  #      5.6 %  tma_retiring

    5500.656596546 seconds time elapsed
