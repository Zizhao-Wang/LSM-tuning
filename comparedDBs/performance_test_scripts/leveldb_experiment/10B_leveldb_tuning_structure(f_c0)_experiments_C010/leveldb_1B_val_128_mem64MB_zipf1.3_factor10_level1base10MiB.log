LevelDB:    version 1.23
Date:       Sat Jan  4 16:57:37 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.3_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.3_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 1599161
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.3_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.3_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.3_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.3_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-04 17:05:20 ... thread 0: (99999999,99999999) ops and (215997.9,215997.9) ops/second in (462.967459,462.967459) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     133        0        0     11289     11289      0      55   220     0       0     0      0    55         0 0.000000 0.000000
    1     0       0      72    11138    11138      2919      2919      0     101   101     0       0     0      0   101         0 0.000000 0.000000
    2     2      80      82     8749     8749      6236      6236      0       4     4     0       0     0    141     4         1 0.000000 65.281628
    3     4     215       8      760      760       649       649      0       0     0     0       0     0      9     0         0 65.281628 0.000000
user_io:11289.413MB total_ios: 21093.372MB WriteAmplification: 1.8684
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-04 17:13:18 ... thread 0: (100000000,199999999) ops and (209173.2,212530.8) ops/second in (478.072712,941.040171) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     295        0        0     24351     24351      0     118   479     0       0     0      0   118         0 0.000000 0.000000
    1     0       0     132    24249    24249      4268      4268      0     177   177     0       0     0      0   177         0 0.000000 0.000000
    2     1      48     161    15488    15488     12052     12052      0      11    11     0       0     0    266    11         1 0.000000 65.281628
    3     7     428      39     3384     3384      3029      3029      0       0     0     0       0     0     46     0         0 65.281628 0.000000
user_io:24350.721MB total_ios: 43698.823MB WriteAmplification: 1.7946
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.913 MB data into db.)


2025-01-04 17:21:30 ... thread 0: (100000000,299999999) ops and (203257.5,209347.1) ops/second in (491.986793,1433.026964) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     445        0        0     36298     36298      0     174   717     0       0     0      0   174         0 0.000000 0.000000
    1     1      11     205    36298    36298      6617      6617      0     267   267     0       0     0      0   267         0 0.000000 0.000000
    2     2      84     253    24099    24099     18726     18726      0      17    17     0       0     0    411    17         1 0.000000 65.281628
    3    10     585      69     5898     5898      5335      5335      0       0     0     0       0     0     81     0         0 65.281628 0.000000
user_io:36298.263MB total_ios: 66975.901MB WriteAmplification: 1.8452
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.826 MB data into db.)


2025-01-04 17:29:55 ... thread 0: (100000000,399999999) ops and (198060.1,206406.4) ops/second in (504.897193,1937.924157) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     586        0        0     47638     47638      0     224   938     0       0     0      0   224         0 0.000000 0.000000
    1     0       0     283    47486    47486      9573      9573      0     364   364     0       0     0      0   364         0 0.000000 0.000000
    2     3      92     354    33738    33738     25815     25815      0      23    24     0       0     0    585    23         1 0.000000 65.281628
    3    12     748     116     9564     9564      8755      8755      0       0     0     0       0     0    134     0         0 65.281628 0.000000
user_io:47638.315MB total_ios: 91780.956MB WriteAmplification: 1.9266
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.739 MB data into db.)


2025-01-04 17:38:07 ... thread 0: (100000000,499999999) ops and (203365.5,205791.0) ops/second in (491.725597,2429.649754) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     741        0        0     60041     60041      0     282  1186     0       0     0      0   282         0 0.000000 0.000000
    1     1      11     351    60041    60041     11542     11542      0     448   448     0       0     0      0   448         0 0.000000 0.000000
    2     3      86     444    41679    41679     32191     32191      0      30    31     0       0     0    777    30         1 0.000000 65.281628
    3    15     916     156    12842    12842     11800     11800      0       0     0     0       0     0    182     0         0 65.281628 0.000000
user_io:60041.474MB total_ios: 115574.660MB WriteAmplification: 1.9249
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.652 MB data into db.)


2025-01-04 17:46:09 ... thread 0: (100000000,599999999) ops and (207293.2,206039.8) ops/second in (482.408504,2912.058258) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     878        0        0     71483     71483      0     334  1409     0       0     0      0   334         0 0.000000 0.000000
    1     0       0     423    71331    71331     14407     14407      0     545   545     0       0     0      0   545         0 0.000000 0.000000
    2     3     104     548    51551    51551     39582     39582      0      37    39     0       0     0    991    37         1 0.000000 65.281628
    3    15     945     192    15846    15846     14588     14588      0       1     1     0       0     0    232     1         1 65.281628 65.285183
    4     2      90       1      131      131        90        90      0       0     0     0       0     0      1     0         0 65.285183 0.000000
user_io:71482.756MB total_ios: 140149.596MB WriteAmplification: 1.9606
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.565 MB data into db.)


2025-01-04 17:54:12 ... thread 0: (100000000,699999999) ops and (207092.4,206189.5) ops/second in (482.876220,3394.934478) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1040        0        0     85101     85101      0     397  1678     0       0     0      0   397         0 0.000000 0.000000
    1     0       0     478    84949    84949     15217     15217      0     610   610     0       0     0      0   610         0 0.000000 0.000000
    2     2      73     614    57038    57038     44668     44668      0      43    46     0       0     0   1138    43         1 0.000000 65.281628
    3    16     999     235    19240    19240     17856     17856      0       4     4     0       0     0    273     4         2 65.281628 65.286154
    4     4     260       7      600      600       469       469      0       0     0     0       0     0      7     0         0 65.286154 0.000000
user_io:85100.937MB total_ios: 163310.508MB WriteAmplification: 1.9190
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.478 MB data into db.)


2025-01-04 18:02:09 ... thread 0: (100000000,799999999) ops and (209756.6,206628.8) ops/second in (476.743025,3871.677503) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1205        0        0     98668     98668      0     460  1946     0       0     0      0   460         0 0.000000 0.000000
    1     0       0     534    98517    98517     16025     16025      0     675   675     0       0     0      0   675         0 0.000000 0.000000
    2     3      93     686    62677    62677     49896     49896      0      49    54     0       0     0   1285    49         1 0.000000 65.281628
    3    16     940     269    22029    22029     20472     20472      0       7     7     0       0     0    312     7         3 65.281628 65.285123
    4     7     429      19     1575     1575      1352      1352      0       0     0     0       0     0     20     0         0 65.285123 0.000000
user_io:98668.485MB total_ios: 186413.056MB WriteAmplification: 1.8893
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.391 MB data into db.)


2025-01-04 18:10:18 ... thread 0: (100000000,899999999) ops and (204400.1,206378.8) ops/second in (489.236536,4360.914039) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1356        0        0    110970    110970      0     515  2191     0       0     0      0   515         0 0.000000 0.000000
    1     0       0     603   110920   110920     18080     18080      0     758   758     0       0     0      0   758         0 0.000000 0.000000
    2     2      61     772    70599    70599     56172     56172      0      56    63     0       0     0   1467    56         1 0.000000 65.281628
    3    16     988     310    25338    25338     23582     23582      0      10    10     0       0     0    359    10         3 65.281628 65.285123
    4     9     540      36     2987     2987      2678      2678      0       0     0     0       0     0     40     0         0 65.285123 0.000000
user_io:110970.407MB total_ios: 211482.537MB WriteAmplification: 1.9058
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.304 MB data into db.)


2025-01-04 18:18:19 ... thread 0: (100000000,999999999) ops and (207957.5,206535.5) ops/second in (480.867455,4841.781494) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1514        0        0    123981    123981      0     575  2448     0       0     0      0   575         0 0.000000 0.000000
    1     1      11     664   123930   123930     19465     19465      0     832   832     0       0     0      0   832         0 0.000000 0.000000
    2     3      86     850    77207    77207     61801     61801      0      62    70     0       0     0   1634    62         1 0.000000 65.281628
    3    16     997     343    27991    27991     26071     26071      0      12    12     0       0     0    397    12         4 65.281628 65.281636
    4    11     675      50     4102     4102      3733      3733      0       0     0     0       0     0     56     0         0 65.281636 0.000000
user_io:123981.073MB total_ios: 235050.626MB WriteAmplification: 1.8959
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.217 MB data into db.)


1000000000 operations have been finished (137329.130 MB data have been written into db)
fillzipf     :       4.842 micros/op 206535 ops/sec;   28.4 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.8418  StdDev: 36.08
Percentiles: P50: 5.08 P75: 5.89 P99: 8.98 P99.9: 11.97 P99.99: 1002.58
------------------------------------------------------
[       2,       3 ) 1695152   0.170%   0.170%
[       3,       4 ) 202265189  20.227%  20.396% ####
[       4,       5 ) 270590297  27.059%  47.455% #####
[       5,       6 ) 310908063  31.091%  78.546% ######
[       6,       7 ) 138343857  13.834%  92.380% ###
[       7,       8 ) 49725077   4.973%  97.353% #
[       8,       9 ) 16851958   1.685%  99.038%
[       9,      10 ) 5811465   0.581%  99.619%
[      10,      12 ) 2845949   0.285%  99.904%
[      12,      14 )  463756   0.046%  99.950%
[      14,      16 )  118792   0.012%  99.962%
[      16,      18 )   54176   0.005%  99.967%
[      18,      20 )   37796   0.004%  99.971%
[      20,      25 )   60039   0.006%  99.977%
[      25,      30 )   29426   0.003%  99.980%
[      30,      35 )   17476   0.002%  99.982%
[      35,      40 )    9705   0.001%  99.983%
[      40,      45 )    6052   0.001%  99.983%
[      45,      50 )    4696   0.000%  99.984%
[      50,      60 )   14943   0.001%  99.985%
[      60,      70 )   12185   0.001%  99.987%
[      70,      80 )    3790   0.000%  99.987%
[      80,      90 )    3393   0.000%  99.987%
[      90,     100 )    1871   0.000%  99.988%
[     100,     120 )    6119   0.001%  99.988%
[     120,     140 )    3205   0.000%  99.988%
[     140,     160 )    1742   0.000%  99.989%
[     160,     180 )    1461   0.000%  99.989%
[     180,     200 )    1532   0.000%  99.989%
[     200,     250 )    7065   0.001%  99.990%
[     250,     300 )     660   0.000%  99.990%
[     300,     350 )     409   0.000%  99.990%
[     350,     400 )     316   0.000%  99.990%
[     400,     450 )     226   0.000%  99.990%
[     450,     500 )     184   0.000%  99.990%
[     500,     600 )     291   0.000%  99.990%
[     600,     700 )     213   0.000%  99.990%
[     700,     800 )     132   0.000%  99.990%
[     800,     900 )      93   0.000%  99.990%
[     900,    1000 )      63   0.000%  99.990%
[    1000,    1200 )   91826   0.009%  99.999%
[    1200,    1400 )     431   0.000%  99.999%
[    1400,    1600 )     268   0.000%  99.999%
[    1600,    1800 )     318   0.000%  99.999%
[    1800,    2000 )     368   0.000%  99.999%
[    2000,    2500 )     747   0.000%  99.999%
[    2500,    3000 )     424   0.000%  99.999%
[    3000,    3500 )     402   0.000%  99.999%
[    3500,    4000 )     340   0.000%  99.999%
[    4000,    4500 )     345   0.000%  99.999%
[    4500,    5000 )     338   0.000%  99.999%
[    5000,    6000 )     607   0.000% 100.000%
[    6000,    7000 )     474   0.000% 100.000%
[    7000,    8000 )     467   0.000% 100.000%
[    8000,    9000 )     472   0.000% 100.000%
[    9000,   10000 )     330   0.000% 100.000%
[   10000,   12000 )     585   0.000% 100.000%
[   12000,   14000 )     700   0.000% 100.000%
[   14000,   16000 )     497   0.000% 100.000%
[   16000,   18000 )     327   0.000% 100.000%
[   18000,   20000 )     227   0.000% 100.000%
[   20000,   25000 )     327   0.000% 100.000%
[   25000,   30000 )     197   0.000% 100.000%
[   30000,   35000 )      86   0.000% 100.000%
[   35000,   40000 )      40   0.000% 100.000%
[   40000,   45000 )      23   0.000% 100.000%
[   45000,   50000 )      11   0.000% 100.000%
[   50000,   60000 )       7   0.000% 100.000%
[   60000,   70000 )       1   0.000% 100.000%
[  100000,  120000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        1       51      1514        0    123981
  1        1       11       664   123930     19465
  2        3       86       850    77207     61801
  3       16      997       343    27991     26071
  4       11      675        50     4102      3733
user_io:123981.073MB total_ios: 235050.626MB WriteAmplification: 1.8959

Checking if iostat process with PID 1599160 is still running...
    PID TTY          TIME CMD
1599160 pts/4    00:00:00 iostat
iostat process 1599160 is still running, killing now...
iostat process 1599160 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 1599160 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '1599161':

      7,455,449.92 msec task-clock                       #    1.540 CPUs utilized
           521,389      context-switches                 #   69.934 /sec
             1,806      cpu-migrations                   #    0.242 /sec
         7,363,013      page-faults                      #  987.601 /sec
24,429,830,987,003      cycles                           #    3.277 GHz
49,967,719,125,245      instructions                     #    2.05  insn per cycle
 7,171,222,994,139      branches                         #  961.877 M/sec
    19,189,531,734      branch-misses                    #    0.27% of all branches
                        TopdownL1                 #      4.8 %  tma_backend_bound
                                                  #     85.1 %  tma_bad_speculation
                                                  #      5.6 %  tma_frontend_bound
                                                  #      4.5 %  tma_retiring

    4840.994726444 seconds time elapsed
