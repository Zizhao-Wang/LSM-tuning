LevelDB:    version 1.23
Date:       Sun Jan  5 22:12:11 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f2_1.3_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f2_1.3_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2250896
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f2_1.3_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.3_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.3_f2_memory_usage_1B_key16_val128_mem64MiB_factor2_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.3_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-05 22:20:05 ... thread 0: (99999999,99999999) ops and (211330.9,211330.9) ops/second in (473.191497,473.191497) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0       8        0        0       607       607      0       3    12     0       0     0      0     3         0 0.000000 0.000000
    1     0       0      44      607      607      3222      3222      0      66    66     0       0     0      0    66         0 0.000000 0.000000
    2     0       0     150     4412     4412     10792     10792      0     116   116     0       0     0     66   116        79 0.000000 20.034797
    3     1      30      64     9382     9382      3685      3685      0      77    77     0       0     0    116    77         1 20.034797 50.624468
    4     2      78      70     7934     7934      4435      4435      0       4     4     0       0     0    108     4         1 50.624468 65.282533
    5     2     116       6      485      485       435       435      0       1     1     0       0     0      5     1         1 65.282533 65.285007
    6     2      96       1      131      131        96        96      0       0     0     0       0     0      1     0         0 65.285007 0.000000
user_io:607.500MB total_ios: 23271.392MB WriteAmplification: 38.3068
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-05 22:27:58 ... thread 0: (100000000,199999999) ops and (211479.3,211405.1) ops/second in (472.859451,946.050948) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      59        0        0      4354      4354      0      21    86     0       0     0      0    21         0 0.000000 0.000000
    1     0       0     100     4354     4354      6659      6659      0     141   141     0       0     0      0   141         7 0.000000 50.625512
    2     1      51     260     9030     9030     18664     18664      0     186   186     0       0     0    141   186       149 50.625512 21.695807
    3     1      28     105    14909    14909      6033      6033      0     146   146     0       0     0    186   146         2 21.695807 41.183746
    4     2      76     145    15702    15702      9151      9151      0      10    11     0       0     0    211    10         1 41.183746 65.282533
    5     3     136      19     1402     1402      1348      1348      0       7     7     0       0     0     13     7         1 65.282533 65.285007
    6     5     281      18     1559     1559      1318      1318      0       0     0     0       0     0     19     0         0 65.285007 0.000000
user_io:4353.770MB total_ios: 47527.033MB WriteAmplification: 10.9163
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.913 MB data into db.)


2025-01-05 22:35:49 ... thread 0: (100000000,299999999) ops and (212070.5,211626.4) ops/second in (471.541265,1417.592213) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      76        0        0      5771      5771      0      28   114     0       0     0      0    28         0 0.000000 0.000000
    1     0       0     136     5771     5771      9215      9215      0     197   197     0       0     0      0   197         7 0.000000 50.625512
    2     0       0     401    12651    12651     29232     29232      0     314   314     0       0     0    197   314       214 50.625512 50.625403
    3     1      51     178    25413    25413     10201     10201      0     212   212     0       0     0    314   212         2 50.625403 41.183746
    4     2      78     217    23301    23301     13960     13960      0      16    17     0       0     0    326    16         2 41.183746 65.284170
    5     3     152      30     2308     2308      2171      2171      0      10    10     0       0     0     24    10         3 65.284170 42.273568
    6    10     465      25     2102     2102      1741      1741      0       0     0     0       0     0     25     0         0 42.273568 0.000000
user_io:5771.276MB total_ios: 72292.612MB WriteAmplification: 12.5263
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.826 MB data into db.)


2025-01-05 22:43:45 ... thread 0: (100000000,399999999) ops and (210333.7,211301.8) ops/second in (475.435052,1893.027265) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     111        0        0      8606      8606      0      41   170     0       0     0      0    41         0 0.000000 0.000000
    1     0       0     176     8606     8606     11590     11590      0     253   253     0       0     0      0   253         8 0.000000 10.808600
    2     0       0     531    16077    16077     38717     38717      0     413   413     0       0     0    253   413       287 10.808600 25.080827
    3     1      40     238    33536    33536     13502     13502      0     283   283     0       0     0    413   283         3 25.080827 50.624701
    4     1      20     294    31412    31412     18820     18820      0      21    23     0       0     0    431    21         3 50.624701 65.281759
    5     3     150      43     3240     3240      3053      3053      0      16    16     0       0     0     34    16         3 65.281759 42.273568
    6    11     701      45     3640     3640      3134      3134      0       0     0     0       0     0     48     0         0 42.273568 0.000000
user_io:8606.297MB total_ios: 97421.414MB WriteAmplification: 11.3198
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.739 MB data into db.)


2025-01-05 22:51:42 ... thread 0: (100000000,499999999) ops and (209332.8,210905.0) ops/second in (477.708230,2370.735495) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     150        0        0     11644     11644      0      54   230     0       0     0      0    54         0 0.000000 0.000000
    1     0       0     219    11644    11644     14124     14124      0     309   309     0       0     0      0   309        12 0.000000 10.731079
    2     0       0     654    19571    19571     47869     47869      0     465   465     0       0     0    309   465       403 10.731079 50.624054
    3     1      51     268    37689    37689     15270     15270      0     398   398     0       0     0    465   398         5 50.624054 41.184291
    4     1      54     412    44400    44400     26449     26449      0      26    30     0       0     0    608    26         3 41.184291 65.281759
    5     3     127      57     4320     4320      4098      4098      0      22    22     0       0     0     47    22         3 65.281759 42.273568
    6    13     803      68     5511     5511      4716      4716      0       0     0     0       0     0     74     0         0 42.273568 0.000000
user_io:11643.806MB total_ios: 124170.212MB WriteAmplification: 10.6641
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.652 MB data into db.)


2025-01-05 22:59:38 ... thread 0: (100000000,599999999) ops and (210336.4,210810.0) ops/second in (475.428943,2846.164438) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     181        0        0     14023     14023      0      65   277     0       0     0      0    65         0 0.000000 0.000000
    1     0       0     268    14023    14023     17336     17336      0     378   378     0       0     0      0   378        15 0.000000 10.667390
    2     1      51     783    24004    24004     57142     57142      0     564   564     0       0     0    378   564       470 10.667390 20.004923
    3     1      38     324    45532    45532     18425     18425      0     464   464     0       0     0    564   464         5 20.004923 41.184291
    4     2      66     486    52130    52130     31202     31202      0      31    35     0       0     0    713    31         4 41.184291 65.286428
    5     3     152      67     5085     5085      4783      4783      0      26    26     0       0     0     59    26         3 65.286428 42.273568
    6    16     965      80     6480     6480      5615      5615      0       0     0     0       0     0     87     0         0 42.273568 0.000000
user_io:14023.186MB total_ios: 148526.817MB WriteAmplification: 10.5915
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.565 MB data into db.)


2025-01-05 23:07:37 ... thread 0: (100000000,699999999) ops and (208793.1,210519.5) ops/second in (478.942967,3325.107405) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     217        0        0     17010     17010      0      76   336     0       0     0      0    76         0 0.000000 0.000000
    1     0       0     320    17010    17010     20470     20470      0     445   445     0       0     0      0   445        18 0.000000 10.731863
    2     1      51     903    28285    28285     65850     65850      0     644   644     0       0     0    445   644       546 10.731863 26.595657
    3     1      31     370    51998    51998     21088     21088      0     539   539     0       0     0    644   539         6 26.595657 42.627802
    4     1      40     566    60569    60569     36278     36278      0      37    42     0       0     0    827    37         4 42.627802 65.286428
    5     3      94      80     5972     5972      5661      5661      0      33    34     0       0     0     71    33         3 65.286428 42.273568
    6    17    1089     121     9805     9805      8588      8588      0       0     0     0       0     0    136     0         0 42.273568 0.000000
user_io:17010.076MB total_ios: 174944.086MB WriteAmplification: 10.2847
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.478 MB data into db.)


2025-01-05 23:15:35 ... thread 0: (100000000,799999999) ops and (209022.0,210331.2) ops/second in (478.418545,3803.525950) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     243        0        0     19086     19086      0      85   377     0       0     0      0    85         0 0.000000 0.000000
    1     0       0     367    19086    19086     23614     23614      0     511   511     0       0     0      0   511        21 0.000000 10.708399
    2     0       0    1038    32559    32559     75368     75368      0     744   744     0       0     0    511   744       618 10.708399 24.978228
    3     1      31     430    60174    60174     24387     24387      0     610   610     0       0     0    744   610         7 24.978228 41.335235
    4     1      26     641    68582    68582     41117     41117      0      43    49     0       0     0    934    43         4 41.335235 65.286428
    5     3     131      92     6934     6934      6544      6544      0      38    39     0       0     0     84    38         3 65.286428 42.273568
    6    21    1246     136    10972    10972      9623      9623      0       0     0     0       0     0    151     0         0 42.273568 0.000000
user_io:19085.709MB total_ios: 199739.326MB WriteAmplification: 10.4654
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.391 MB data into db.)


2025-01-05 23:23:44 ... thread 0: (100000000,899999999) ops and (204354.7,209649.9) ops/second in (489.345190,4292.871140) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     271        0        0     21313     21313      0      91   421     0       0     0      0    91         0 0.000000 0.000000
    1     0       0     403    21313    21313     25640     25640      0     555   555     0       0     0      0   555        21 0.000000 10.708399
    2     0       0    1170    35446    35446     85539     85539      0     845   845     0       0     0    555   845       706 10.708399 50.625149
    3     1      51     488    68454    68454     27748     27748      0     697   697     0       0     0    845   697         9 50.625149 41.276356
    4     2      74     729    78179    78179     46775     46775      0      48    56     0       0     0   1062    48         4 41.276356 65.286428
    5     3     127     107     7908     7908      7513      7513      0      44    45     0       0     0     97    44         3 65.286428 42.273568
    6    23    1393     174    13623    13623     12040     12040      0       0     0     0       0     0    190     0         0 42.273568 0.000000
user_io:21313.213MB total_ios: 226567.100MB WriteAmplification: 10.6304
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.304 MB data into db.)


2025-01-05 23:31:38 ... thread 0: (100000000,999999999) ops and (211203.6,209804.2) ops/second in (473.476886,4766.348026) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     298        0        0     23591     23591      0     101   466     0       0     0      0   101         0 0.000000 0.000000
    1     0       0     443    23591    23591     28237     28237      0     612   612     0       0     0      0   612        23 0.000000 10.750539
    2     1      11    1300    39082    39082     95308     95308      0     932   932     0       0     0    612   932       797 10.750539 50.624779
    3     0       0     537    75544    75544     30649     30649      0     787   787     0       0     0    932   787        10 50.624779 41.273410
    4     2      77     828    88722    88722     53123     53123      0      54    63     0       0     0   1209    54         4 41.273410 65.286428
    5     4     125     118     8771     8771      8322      8322      0      50    51     0       0     0    110    50         3 65.286428 42.273568
    6    24    1479     197    15499    15499     13670     13670      0       0     0     0       0     0    219     0         0 42.273568 0.000000
user_io:23591.345MB total_ios: 252901.214MB WriteAmplification: 10.7201
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.217 MB data into db.)


1000000000 operations have been finished (137329.130 MB data have been written into db)
fillzipf     :       4.766 micros/op 209804 ops/sec;   28.8 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.7663  StdDev: 53.84
Percentiles: P50: 5.03 P75: 5.80 P99: 8.66 P99.9: 11.24 P99.99: 50.66
------------------------------------------------------
[       2,       3 )  981085   0.098%   0.098%
[       3,       4 ) 211329812  21.133%  21.231% ####
[       4,       5 ) 277492336  27.749%  48.980% ######
[       5,       6 ) 324085164  32.409%  81.389% ######
[       6,       7 ) 128182293  12.818%  94.207% ###
[       7,       8 ) 39763910   3.976%  98.183% #
[       8,       9 ) 12342822   1.234%  99.418%
[       9,      10 ) 3873413   0.387%  99.805%
[      10,      12 ) 1533746   0.153%  99.958%
[      12,      14 )  159419   0.016%  99.974%
[      14,      16 )   44261   0.004%  99.979%
[      16,      18 )   20548   0.002%  99.981%
[      18,      20 )   13456   0.001%  99.982%
[      20,      25 )   21591   0.002%  99.984%
[      25,      30 )   16048   0.002%  99.986%
[      30,      35 )   14845   0.001%  99.987%
[      35,      40 )   10875   0.001%  99.989%
[      40,      45 )    8223   0.001%  99.989%
[      45,      50 )    5093   0.001%  99.990%
[      50,      60 )   15987   0.002%  99.991%
[      60,      70 )    8768   0.001%  99.992%
[      70,      80 )    1994   0.000%  99.993%
[      80,      90 )    4467   0.000%  99.993%
[      90,     100 )    2627   0.000%  99.993%
[     100,     120 )    6202   0.001%  99.994%
[     120,     140 )    3685   0.000%  99.994%
[     140,     160 )    1476   0.000%  99.994%
[     160,     180 )    1454   0.000%  99.995%
[     180,     200 )    1567   0.000%  99.995%
[     200,     250 )    5698   0.001%  99.995%
[     250,     300 )     617   0.000%  99.995%
[     300,     350 )     428   0.000%  99.995%
[     350,     400 )     333   0.000%  99.995%
[     400,     450 )     261   0.000%  99.995%
[     450,     500 )     193   0.000%  99.995%
[     500,     600 )     291   0.000%  99.995%
[     600,     700 )     228   0.000%  99.996%
[     700,     800 )     194   0.000%  99.996%
[     800,     900 )     148   0.000%  99.996%
[     900,    1000 )     101   0.000%  99.996%
[    1000,    1200 )   28654   0.003%  99.998%
[    1200,    1400 )     490   0.000%  99.998%
[    1400,    1600 )     252   0.000%  99.999%
[    1600,    1800 )     409   0.000%  99.999%
[    1800,    2000 )     521   0.000%  99.999%
[    2000,    2500 )    1268   0.000%  99.999%
[    2500,    3000 )     673   0.000%  99.999%
[    3000,    3500 )     603   0.000%  99.999%
[    3500,    4000 )     580   0.000%  99.999%
[    4000,    4500 )     527   0.000%  99.999%
[    4500,    5000 )     456   0.000%  99.999%
[    5000,    6000 )     862   0.000%  99.999%
[    6000,    7000 )     784   0.000%  99.999%
[    7000,    8000 )     730   0.000%  99.999%
[    8000,    9000 )     604   0.000%  99.999%
[    9000,   10000 )     618   0.000%  99.999%
[   10000,   12000 )    1012   0.000%  99.999%
[   12000,   14000 )    1322   0.000% 100.000%
[   14000,   16000 )     995   0.000% 100.000%
[   16000,   18000 )     633   0.000% 100.000%
[   18000,   20000 )     461   0.000% 100.000%
[   20000,   25000 )     732   0.000% 100.000%
[   25000,   30000 )     520   0.000% 100.000%
[   30000,   35000 )     282   0.000% 100.000%
[   35000,   40000 )     195   0.000% 100.000%
[   40000,   45000 )      65   0.000% 100.000%
[   45000,   50000 )      38   0.000% 100.000%
[   50000,   60000 )      44   0.000% 100.000%
[   60000,   70000 )       7   0.000% 100.000%
[   70000,   80000 )       4   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0       298        0     23591
  1        0        0       443    23591     28237
  2        1       11      1300    39082     95308
  3        0        0       537    75544     30649
  4        2       77       828    88722     53123
  5        4      125       118     8771      8322
  6       24     1479       197    15499     13670
user_io:23591.345MB total_ios: 252901.214MB WriteAmplification: 10.7201

Checking if iostat process with PID 2250895 is still running...
    PID TTY          TIME CMD
2250895 pts/4    00:00:00 iostat
iostat process 2250895 is still running, killing now...
iostat process 2250895 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 2250895 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2250896':

      7,462,965.88 msec task-clock                       #    1.566 CPUs utilized
           472,177      context-switches                 #   63.269 /sec
             1,142      cpu-migrations                   #    0.153 /sec
         7,178,236      page-faults                      #  961.848 /sec
24,274,851,459,129      cycles                           #    3.253 GHz
50,659,174,528,965      instructions                     #    2.09  insn per cycle
 7,272,132,789,913      branches                         #  974.429 M/sec
    19,189,315,588      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      5.7 %  tma_backend_bound
                                                  #     84.5 %  tma_bad_speculation
                                                  #      5.6 %  tma_frontend_bound
                                                  #      4.2 %  tma_retiring

    4765.882881885 seconds time elapsed
