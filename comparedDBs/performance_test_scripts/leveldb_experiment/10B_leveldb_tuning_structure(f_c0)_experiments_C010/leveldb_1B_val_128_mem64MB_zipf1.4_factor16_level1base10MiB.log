LevelDB:    version 1.23
Date:       Tue Jan  7 11:23:09 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2812103
../../../leveldb/build_release_f_16_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f16_1.4_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.4_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.4_f16_memory_usage_1B_key16_val128_mem64MiB_factor16_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.4_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 11:30:34 ... thread 0: (99999999,99999999) ops and (224548.8,224548.8) ops/second in (445.337513,445.337513) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     202      68        0        0      5867      5867      0      29   116     0       0     0      0    29         0 0.000000 0.000000
    1     1       5     112     5784     5784      7961      7961      0     162   162     0       0     0     19   162         0 0.000000 0.000000
    2     2      99     104    14681    14681      6943      6943      0       0     0     0       0     0    178     0         0 0.000000 0.000000
user_io:5867.258MB total_ios: 20771.561MB WriteAmplification: 3.5402
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 11:37:56 ... thread 0: (100000000,199999999) ops and (226388.4,225464.9) ops/second in (441.718653,887.056166) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     227        0        0     19574     19574      0      96   384     0       0     0      0    96         0 0.000000 0.000000
    1     0       0     169    19845    19845      8511      8511      0     185   185     0       0     0     64   185         0 0.000000 0.000000
    2     2     113     142    17851    17851      9940      9940      0       0     0     0       0     0    234     0         1 0.000000 65.286151
    3     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.286151 0.000000
user_io:19574.392MB total_ios: 38025.800MB WriteAmplification: 1.9426
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-07 11:45:17 ... thread 0: (100000000,299999999) ops and (226602.3,225842.7) ops/second in (441.301789,1328.357955) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     381        0        0     33231     33231      0     164   656     0       0     0      0   164         0 0.000000 0.000000
    1     1       8     224    33898    33898      9056      9056      0     207   207     0       0     0    109   207         0 0.000000 0.000000
    2     3     155     179    21001    21001     12957     12957      0       1     1     0       0     0    290     1         1 0.000000 65.286151
    3     2      98       1      131      131        98        98      0       0     0     0       0     0      1     0         0 65.286151 0.000000
user_io:33230.942MB total_ios: 55342.061MB WriteAmplification: 1.6654
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-07 11:52:42 ... thread 0: (100000000,399999999) ops and (224861.7,225596.7) ops/second in (444.717820,1773.075775) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     540        0        0     46938     46938      0     232   928     0       0     0      0   232         0 0.000000 0.000000
    1     1       5     280    47954    47954      9602      9602      0     230   230     0       0     0    154   230         0 0.000000 0.000000
    2     3     149     219    24269    24269     16097     16097      0       3     3     0       0     0    349     3         1 0.000000 65.286151
    3     3     156       5      487      487       382       382      0       0     0     0       0     0      5     0         0 65.286151 0.000000
user_io:46938.074MB total_ios: 73019.413MB WriteAmplification: 1.5557
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.731 MB data into db.)


2025-01-07 12:00:05 ... thread 0: (100000000,499999999) ops and (225522.1,225581.7) ops/second in (443.415583,2216.491358) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     699        0        0     60645     60645      0     299  1198     0       0     0      0   299         0 0.000000 0.000000
    1     1       8     336    61908    61908     10146     10146      0     252   252     0       0     0    199   252         0 0.000000 0.000000
    2     3     139     255    27358    27358     19064     19064      0       5     5     0       0     0    403     5         1 0.000000 65.286151
    3     4     209      11      957      957       774       774      0       0     0     0       0     0     11     0         0 65.286151 0.000000
user_io:60645.208MB total_ios: 90629.604MB WriteAmplification: 1.4944
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-07 12:07:28 ... thread 0: (100000000,599999999) ops and (225935.6,225640.6) ops/second in (442.604009,2659.095367) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     861        0        0     74352     74352      0     366  1469     0       0     0      0   366         0 0.000000 0.000000
    1     1      11     393    75919    75919     10694     10694      0     275   275     0       0     0    244   275         0 0.000000 0.000000
    2     2     128     294    30543    30543     22126     22126      0       7     7     0       0     0    462     7         1 0.000000 65.286151
    3     4     257      17     1529     1529      1264      1264      0       0     0     0       0     0     19     0         0 65.286151 0.000000
user_io:74352.337MB total_ios: 108436.657MB WriteAmplification: 1.4584
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-07 12:14:50 ... thread 0: (100000000,699999999) ops and (226104.0,225706.7) ops/second in (442.274367,3101.369734) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     202    1025        0        0     88059     88059      0     433  1741     0       0     0      0   433         0 0.000000 0.000000
    1     0       0     449    89770    89770     11235     11235      0     297   297     0       0     0    288   297         0 0.000000 0.000000
    2     2     122     336    33867    33867     25321     25321      0       9     9     0       0     0    520     9         1 0.000000 65.286151
    3     5     304      25     2197     2197      1848      1848      0       0     0     0       0     0     28     0         0 65.286151 0.000000
user_io:88059.475MB total_ios: 126463.435MB WriteAmplification: 1.4361
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-07 12:22:17 ... thread 0: (100000000,799999999) ops and (223778.6,225463.9) ops/second in (446.870221,3548.239955) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1191        0        0    101716    101716      0     498  2008     0       0     0      0   498         0 0.000000 0.000000
    1     1       8     506   103762   103762     11767     11767      0     319   319     0       0     0    331   319         0 0.000000 0.000000
    2     2     107     375    37055    37055     28384     28384      0      11    11     0       0     0    578    11         1 0.000000 65.286151
    3     6     348      34     2958     2958      2523      2523      0       0     0     0       0     0     38     0         0 65.286151 0.000000
user_io:101716.026MB total_ios: 144389.990MB WriteAmplification: 1.4195
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.372 MB data into db.)


2025-01-07 12:29:42 ... thread 0: (100000000,899999999) ops and (224685.5,225377.1) ops/second in (445.066509,3993.306464) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1357        0        0    115423    115423      0     565  2279     0       0     0      0   565         0 0.000000 0.000000
    1     1       5     564   117762   117762     12308     12308      0     342   342     0       0     0    375   342         0 0.000000 0.000000
    2     3     159     418    40336    40336     31532     31532      0      12    12     0       0     0    637    12         1 0.000000 65.286151
    3     6     370      39     3371     3371      2893      2893      0       0     0     0       0     0     44     0         0 65.286151 0.000000
user_io:115423.157MB total_ios: 162156.154MB WriteAmplification: 1.4049
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.282 MB data into db.)


2025-01-07 12:37:09 ... thread 0: (100000000,999999999) ops and (223486.0,225186.6) ops/second in (447.455250,4440.761714) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1523        0        0    129130    129130      0     631  2550     0       0     0      0   631         0 0.000000 0.000000
    1     0       0     621   131762   131762     12847     12847      0     365   365     0       0     0    419   365         0 0.000000 0.000000
    2     3     154     458    43605    43605     34674     34674      0      14    14     0       0     0    696    14         1 0.000000 65.286151
    3     7     411      50     4262     4262      3695      3695      0       0     0     0       0     0     56     0         0 65.286151 0.000000
user_io:129130.290MB total_ios: 180346.508MB WriteAmplification: 1.3966
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.192 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :       4.441 micros/op 225186 ops/sec;   30.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.4408  StdDev: 22.11
Percentiles: P50: 4.82 P75: 5.66 P99: 8.32 P99.9: 10.50 P99.99: 31.36
------------------------------------------------------
[       2,       3 ) 1678657   0.168%   0.168%
[       3,       4 ) 264808502  26.481%  26.649% #####
[       4,       5 ) 285847475  28.585%  55.233% ######
[       5,       6 ) 300547758  30.055%  85.288% ######
[       6,       7 ) 103928711  10.393%  95.681% ##
[       7,       8 ) 30333235   3.033%  98.714% #
[       8,       9 ) 8966487   0.897%  99.611%
[       9,      10 ) 2649649   0.265%  99.876%
[      10,      12 )  963247   0.096%  99.972%
[      12,      14 )   92777   0.009%  99.982%
[      14,      16 )   24238   0.002%  99.984%
[      16,      18 )    9382   0.001%  99.985%
[      18,      20 )    7256   0.001%  99.986%
[      20,      25 )   19212   0.002%  99.988%
[      25,      30 )   18505   0.002%  99.990%
[      30,      35 )   18010   0.002%  99.991%
[      35,      40 )    8335   0.001%  99.992%
[      40,      45 )    5693   0.001%  99.993%
[      45,      50 )    4221   0.000%  99.993%
[      50,      60 )   21311   0.002%  99.995%
[      60,      70 )    5131   0.001%  99.996%
[      70,      80 )    1630   0.000%  99.996%
[      80,      90 )    1586   0.000%  99.996%
[      90,     100 )    1316   0.000%  99.996%
[     100,     120 )    5929   0.001%  99.997%
[     120,     140 )    3198   0.000%  99.997%
[     140,     160 )    1833   0.000%  99.997%
[     160,     180 )    1768   0.000%  99.998%
[     180,     200 )    1805   0.000%  99.998%
[     200,     250 )    7632   0.001%  99.998%
[     250,     300 )     462   0.000%  99.998%
[     300,     350 )     251   0.000%  99.999%
[     350,     400 )     157   0.000%  99.999%
[     400,     450 )     157   0.000%  99.999%
[     450,     500 )     135   0.000%  99.999%
[     500,     600 )     159   0.000%  99.999%
[     600,     700 )     110   0.000%  99.999%
[     700,     800 )      59   0.000%  99.999%
[     800,     900 )      43   0.000%  99.999%
[     900,    1000 )     238   0.000%  99.999%
[    1000,    1200 )    8756   0.001% 100.000%
[    1200,    1400 )     292   0.000% 100.000%
[    1400,    1600 )     344   0.000% 100.000%
[    1600,    1800 )     574   0.000% 100.000%
[    1800,    2000 )     190   0.000% 100.000%
[    2000,    2500 )     607   0.000% 100.000%
[    2500,    3000 )     170   0.000% 100.000%
[    3000,    3500 )     100   0.000% 100.000%
[    3500,    4000 )      82   0.000% 100.000%
[    4000,    4500 )      70   0.000% 100.000%
[    4500,    5000 )      77   0.000% 100.000%
[    5000,    6000 )     152   0.000% 100.000%
[    6000,    7000 )     229   0.000% 100.000%
[    7000,    8000 )     387   0.000% 100.000%
[    8000,    9000 )     339   0.000% 100.000%
[    9000,   10000 )     155   0.000% 100.000%
[   10000,   12000 )     218   0.000% 100.000%
[   12000,   14000 )     258   0.000% 100.000%
[   14000,   16000 )     176   0.000% 100.000%
[   16000,   18000 )     151   0.000% 100.000%
[   18000,   20000 )     132   0.000% 100.000%
[   20000,   25000 )     162   0.000% 100.000%
[   25000,   30000 )      74   0.000% 100.000%
[   30000,   35000 )      30   0.000% 100.000%
[   35000,   40000 )      11   0.000% 100.000%
[   40000,   45000 )       2   0.000% 100.000%
[   45000,   50000 )       2   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        3      152      1523        0    129130
  1        0        0       621   131762     12847
  2        3      154       458    43605     34674
  3        7      411        50     4262      3695
user_io:129130.290MB total_ios: 180346.508MB WriteAmplification: 1.3966

Checking if iostat process with PID 2812102 is still running...
    PID TTY          TIME CMD
2812102 pts/11   00:00:00 iostat
iostat process 2812102 is still running, killing now...
iostat process 2812102 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 47: 2812102 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2812103':

      6,594,560.46 msec task-clock                       #    1.485 CPUs utilized
           263,563      context-switches                 #   39.967 /sec
             1,241      cpu-migrations                   #    0.188 /sec
         4,638,444      page-faults                      #  703.374 /sec
21,709,721,234,125      cycles                           #    3.292 GHz
45,307,318,506,502      instructions                     #    2.09  insn per cycle
 6,509,783,556,949      branches                         #  987.144 M/sec
    17,626,058,750      branch-misses                    #    0.27% of all branches
                        TopdownL1                 #     12.6 %  tma_backend_bound
                                                  #     71.5 %  tma_bad_speculation
                                                  #      9.9 %  tma_frontend_bound
                                                  #      6.0 %  tma_retiring

    4440.545395406 seconds time elapsed
