LevelDB:    version 1.23
Date:       Tue Jan  7 01:23:14 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.2_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.2_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2579116
../../../leveldb/build_release_f_8_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.2_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.2_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 01:31:38 ... thread 0: (99999999,99999999) ops and (198378.8,198378.8) ops/second in (504.086164,504.086164) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     153        0        0     12893     12893      0      58   254     0       0     0      0    58         0 0.000000 0.000000
    1     0       0      70    12690    12690      2349      2349      0      70    70     0       0     0      0    70         2 0.000000 41.204946
    2     2      68      61     5583     5583      4622      4622      0      21    23     0       0     0     83    21         1 41.204946 65.272199
    3    10     605      87     7413     7413      7024      7024      0       4     4     0       0     0    104     4         1 65.272199 65.286693
    4     4     209       9      761      761       644       644      0       0     0     0       0     0      9     0         0 65.286693 0.000000
user_io:12893.304MB total_ios: 27532.740MB WriteAmplification: 2.1354
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 01:40:33 ... thread 0: (100000000,199999999) ops and (186915.5,192476.6) ops/second in (535.001148,1039.087312) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     311        0        0     26243     26243      0     109   517     0       0     0      0   109         0 0.000000 0.000000
    1     0       0     142    26040    26040      4377      4377      0     129   129     0       0     0      0   129         2 0.000000 41.204946
    2     1      54     120    10586    10586      9019      9019      0      44    46     0       0     0    173    44         2 41.204946 65.278497
    3    12     620     204    16701    16701     16132     16132      0      18    18     0       0     0    234    18         6 65.278497 65.246080
    4    16    1023      82     6651     6651      6107      6107      0       0     0     0       0     0     92     0         0 65.246080 0.000000
user_io:26243.460MB total_ios: 61878.772MB WriteAmplification: 2.3579
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-07 01:49:33 ... thread 0: (100000000,299999999) ops and (185196.1,189987.0) ops/second in (539.968316,1579.055628) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     466        0        0     39289     39289      0     156   771     0       0     0      0   156         0 0.000000 0.000000
    1     0       0     218    39137    39137      6615      6615      0     190   190     0       0     0      0   190         2 0.000000 41.204946
    2     1      58     178    15793    15793     13413     13413      0      68    71     0       0     0    254    68         3 41.204946 0.000306
    3    13     663     354    28371    28371     27314     27314      0      30    30     0       0     0    417    30         9 0.000306 42.832196
    4    25    1569     121    10027    10027      9138      9138      0       0     0     0       0     0    143     0         0 42.832196 0.000000
user_io:39289.048MB total_ios: 95769.777MB WriteAmplification: 2.4376
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-07 01:58:32 ... thread 0: (100000000,399999999) ops and (185468.6,188836.9) ops/second in (539.174746,2118.230374) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     622        0        0     52741     52741      0     205  1036     0       0     0      0   205         0 0.000000 0.000000
    1     0       0     291    52588    52588      8540      8540      0     245   245     0       0     0      0   245         2 0.000000 41.204946
    2     1      56     231    20403    20403     17519     17519      0      91    95     0       0     0    327    91         5 41.204946 0.000596
    3    16     666     480    38658    38658     37226     37226      0      46    47     0       0     0    581    46         9 0.000596 42.832196
    4    36    2280     200    16610    16610     15389     15389      0       0     0     0       0     0    232     0         0 42.832196 0.000000
user_io:52740.705MB total_ios: 131414.407MB WriteAmplification: 2.4917
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-07 02:07:53 ... thread 0: (100000000,499999999) ops and (178396.7,186652.2) ops/second in (560.548595,2678.778969) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     780        0        0     65989     65989      0     251  1298     0       0     0      0   251         0 0.000000 0.000000
    1     0       0     368    65888    65888     10636     10636      0     301   301     0       0     0      0   301         2 0.000000 41.204946
    2     2      71     292    25529    25529     21965     21965      0     115   119     0       0     0    418   115         5 41.204946 0.000596
    3    11     596     629    50254    50254     48475     48475      0      62    65     0       0     0    778    62         9 0.000596 42.832196
    4    43    2725     269    22418    22418     20517     20517      0       0     0     0       0     0    312     0         0 42.832196 0.000000
user_io:65989.339MB total_ios: 167582.593MB WriteAmplification: 2.5395
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-07 02:16:58 ... thread 0: (100000000,599999999) ops and (183515.6,186122.0) ops/second in (544.912815,3223.691784) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     933        0        0     79187     79187      0     297  1557     0       0     0      0   297         0 0.000000 0.000000
    1     0       0     444    79035    79035     12768     12768      0     358   358     0       0     0      0   358         2 0.000000 41.204946
    2     2      82     349    30538    30538     26227     26227      0     141   145     0       0     0    496   141         5 41.204946 0.000596
    3    12     636     757    60431    60431     58156     58156      0      75    79     0       0     0    965    75         9 0.000596 42.832196
    4    55    3513     349    28800    28800     26849     26849      0       0     0     0       0     0    401     0         0 42.832196 0.000000
user_io:79187.185MB total_ios: 203186.967MB WriteAmplification: 2.5659
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-07 02:26:19 ... thread 0: (100000000,699999999) ops and (177959.0,184910.3) ops/second in (561.927292,3785.619076) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1086        0        0     92182     92182      0     342  1815     0       0     0      0   342         0 0.000000 0.000000
    1     0       0     522    92131    92131     15090     15090      0     418   418     0       0     0      0   418         2 0.000000 41.204946
    2     1      55     409    35969    35969     30746     30746      0     165   170     0       0     0    585   165         7 41.204946 0.000306
    3    13     632     898    71439    71439     68894     68894      0      93    99     0       0     0   1153    93         9 0.000306 42.832196
    4    60    3870     434    36189    36189     33423     33423      0       0     0     0       0     0    508     0         0 42.832196 0.000000
user_io:92181.994MB total_ios: 240335.520MB WriteAmplification: 2.6072
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-07 02:35:39 ... thread 0: (100000000,799999999) ops and (178611.9,184098.8) ops/second in (559.873173,4345.492249) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1238        0        0    105126    105126      0     387  2067     0       0     0      0   387         0 0.000000 0.000000
    1     0       0     598   104923   104923     17383     17383      0     478   478     0       0     0      0   478         2 0.000000 41.204946
    2     2      82     470    41408    41408     35276     35276      0     189   195     0       0     0    672   189         7 41.204946 0.000306
    3    13     636    1025    81636    81636     78507     78507      0     106   114     0       0     0   1345   106         9 0.000306 42.832196
    4    70    4558     511    42207    42207     39362     39362      0       0     0     0       0     0    595     0         0 42.832196 0.000000
user_io:105126.053MB total_ios: 275652.816MB WriteAmplification: 2.6221
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-07 02:44:53 ... thread 0: (100000000,899999999) ops and (180696.7,183714.5) ops/second in (553.413653,4898.905902) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102    1381        0        0    117664    117664      0     432  2316     0       0     0      0   432         0 0.000000 0.000000
    1     0       0     678   117562   117562     20117     20117      0     547   547     0       0     0      0   547         2 0.000000 41.204946
    2     2      85     535    47795    47795     40346     40346      0     213   219     0       0     0    775   213         8 41.204946 0.000306
    3    15     621    1148    91587    91587     88151     88151      0     123   134     0       0     0   1534   123         9 0.000306 42.832196
    4    77    4994     608    50484    50484     46953     46953      0       0     0     0       0     0    714     0         0 42.832196 0.000000
user_io:117664.019MB total_ios: 313230.780MB WriteAmplification: 2.6621
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-07 02:53:51 ... thread 0: (100000000,999999999) ops and (185695.4,183910.7) ops/second in (538.516238,5437.422140) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355    1528        0        0    130659    130659      0     478  2567     0       0     0      0   478         0 0.000000 0.000000
    1     0       0     753   130304   130304     22410     22410      0     608   608     0       0     0      0   608         2 0.000000 41.204946
    2     2      85     595    53318    53318     44950     44950      0     237   244     0       0     0    862   237         8 41.204946 0.000306
    3    14     615    1284   102621   102621     98749     98749      0     137   149     0       0     0   1738   137        10 0.000306 65.285464
    4    78    5056     671    55744    55744     51985     51985      0       0     0     0       0     0    789     0        10 65.285464 65.287657
    5    10     653       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.287657 0.000000
user_io:130658.836MB total_ios: 348751.800MB WriteAmplification: 2.6692
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       5.437 micros/op 183910 ops/sec;   25.3 MB/s
Microseconds per op:
Count: 1000000000  Average: 5.4374  StdDev: 44.83
Percentiles: P50: 5.38 P75: 6.20 P99: 9.35 P99.9: 15.60 P99.99: 1147.94
------------------------------------------------------
[       2,       3 )  291711   0.029%   0.029%
[       3,       4 ) 124036196  12.404%  12.433% ##
[       4,       5 ) 245688875  24.569%  37.002% #####
[       5,       6 ) 342564165  34.256%  71.258% #######
[       6,       7 ) 184785716  18.479%  89.737% ####
[       7,       8 ) 67754814   6.775%  96.512% #
[       8,       9 ) 22322590   2.232%  98.744%
[       9,      10 ) 7360461   0.736%  99.480%
[      10,      12 ) 3438689   0.344%  99.824%
[      12,      14 )  587690   0.059%  99.883%
[      14,      16 )  211455   0.021%  99.904%
[      16,      18 )  123861   0.012%  99.917%
[      18,      20 )  112679   0.011%  99.928%
[      20,      25 )  175256   0.018%  99.945%
[      25,      30 )   70961   0.007%  99.953%
[      30,      35 )   27609   0.003%  99.955%
[      35,      40 )   13202   0.001%  99.957%
[      40,      45 )    7992   0.001%  99.957%
[      45,      50 )    4869   0.000%  99.958%
[      50,      60 )   17594   0.002%  99.960%
[      60,      70 )   16160   0.002%  99.961%
[      70,      80 )    4056   0.000%  99.962%
[      80,      90 )    6701   0.001%  99.962%
[      90,     100 )    2221   0.000%  99.963%
[     100,     120 )    5680   0.001%  99.963%
[     120,     140 )    2798   0.000%  99.963%
[     140,     160 )    1552   0.000%  99.964%
[     160,     180 )    1257   0.000%  99.964%
[     180,     200 )    1366   0.000%  99.964%
[     200,     250 )    4676   0.000%  99.964%
[     250,     300 )     620   0.000%  99.964%
[     300,     350 )     411   0.000%  99.964%
[     350,     400 )     298   0.000%  99.964%
[     400,     450 )     252   0.000%  99.964%
[     450,     500 )     200   0.000%  99.964%
[     500,     600 )     315   0.000%  99.964%
[     600,     700 )     192   0.000%  99.965%
[     700,     800 )     146   0.000%  99.965%
[     800,     900 )     116   0.000%  99.965%
[     900,    1000 )      72   0.000%  99.965%
[    1000,    1200 )  344082   0.034%  99.999%
[    1200,    1400 )     794   0.000%  99.999%
[    1400,    1600 )     377   0.000%  99.999%
[    1600,    1800 )     283   0.000%  99.999%
[    1800,    2000 )     231   0.000%  99.999%
[    2000,    2500 )     771   0.000%  99.999%
[    2500,    3000 )     651   0.000%  99.999%
[    3000,    3500 )     459   0.000%  99.999%
[    3500,    4000 )     334   0.000%  99.999%
[    4000,    4500 )     288   0.000%  99.999%
[    4500,    5000 )     200   0.000%  99.999%
[    5000,    6000 )     485   0.000%  99.999%
[    6000,    7000 )     489   0.000%  99.999%
[    7000,    8000 )     386   0.000% 100.000%
[    8000,    9000 )     395   0.000% 100.000%
[    9000,   10000 )     343   0.000% 100.000%
[   10000,   12000 )     677   0.000% 100.000%
[   12000,   14000 )     785   0.000% 100.000%
[   14000,   16000 )     622   0.000% 100.000%
[   16000,   18000 )     488   0.000% 100.000%
[   18000,   20000 )     348   0.000% 100.000%
[   20000,   25000 )     517   0.000% 100.000%
[   25000,   30000 )     253   0.000% 100.000%
[   30000,   35000 )     146   0.000% 100.000%
[   35000,   40000 )      56   0.000% 100.000%
[   40000,   45000 )      27   0.000% 100.000%
[   45000,   50000 )      25   0.000% 100.000%
[   50000,   60000 )      13   0.000% 100.000%
[   60000,   70000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        7      355      1528        0    130659
  1        0        0       753   130304     22410
  2        2       85       595    53318     44950
  3       14      615      1284   102621     98749
  4       78     5056       671    55744     51985
  5       10      653         0        0         0
user_io:130658.836MB total_ios: 348751.800MB WriteAmplification: 2.6692

Checking if iostat process with PID 2579115 is still running...
    PID TTY          TIME CMD
2579115 pts/11   00:00:00 iostat
iostat process 2579115 is still running, killing now...
iostat process 2579115 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 47: 2579115 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2579116':

      8,868,861.34 msec task-clock                       #    1.631 CPUs utilized
           979,706      context-switches                 #  110.466 /sec
             2,194      cpu-migrations                   #    0.247 /sec
         9,425,197      page-faults                      #    1.063 K/sec
29,026,214,988,488      cycles                           #    3.273 GHz
59,786,235,506,393      instructions                     #    2.06  insn per cycle
 8,546,912,112,981      branches                         #  963.699 M/sec
    23,917,779,592      branch-misses                    #    0.28% of all branches
                        TopdownL1                 #      3.6 %  tma_backend_bound
                                                  #     85.0 %  tma_bad_speculation
                                                  #      6.6 %  tma_frontend_bound
                                                  #      4.7 %  tma_retiring

    5436.598952859 seconds time elapsed
