LevelDB:    version 1.23
Date:       Mon Jan  6 14:10:58 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.2_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.2_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2381408
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.2_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.2_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 14:19:57 ... thread 0: (99999999,99999999) ops and (185797.5,185797.5) ops/second in (538.220420,538.220420) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355     127        0        0      9695      9695      0      40   184     0       0     0      0    40         0 0.000000 0.000000
    1     0       0      86     9340     9340      4356      4356      0      48    48     0       0     0      0    48        55 0.000000 50.761219
    2     0       0      40     3620     3620      2717      2717      0      70    70     0       0     0     48    70         1 50.761219 50.760338
    3     3     188     127    11363    11363      9128      9128      0      16    16     0       0     0    155    16         1 50.760338 65.285664
    4    10     633      53     4313     4313      3981      3981      0       0     0     0       0     0     66     0         1 65.285664 65.285990
    5     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.285990 0.000000
user_io:9695.350MB total_ios: 29876.704MB WriteAmplification: 3.0815
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 14:29:22 ... thread 0: (100000000,199999999) ops and (176782.8,181178.1) ops/second in (565.665935,1103.886355) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     270        0        0     20710     20710      0      84   408     0       0     0      0    84         0 0.000000 0.000000
    1     0       0     176    20507    20507      8454      8454      0      87    87     0       0     0      0    87       113 0.000000 41.130479
    2     0       0      65     6509     6509      4338      4338      0     128   128     0       0     0     87   128         1 41.130479 50.760338
    3     3     143     253    21945    21945     18189     18189      0      35    36     0       0     0    315    35         2 50.760338 65.284297
    4    10     582     148    11648    11648     10954     10954      0       5     5     0       0     0    161     5        12 65.284297 65.228808
    5    16    1020      12      951      951       862       862      0       0     0     0       0     0     11     0         0 65.228808 0.000000
user_io:20710.492MB total_ios: 63508.050MB WriteAmplification: 3.0665
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-06 14:39:02 ... thread 0: (100000000,299999999) ops and (172373.4,178144.9) ops/second in (580.135762,1684.022117) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     421        0        0     32487     32487      0     125   638     0       0     0      0   125         0 0.000000 0.000000
    1     0       0     262    32386    32386     11755     11755      0     111   111     0       0     0      0   111       168 0.000000 36.216333
    2     1      55      82     8179     8179      5437      5437      0     184   184     0       0     0    111   184         1 36.216333 50.760338
    3     2     131     376    32122    32122     26884     26884      0      52    54     0       0     0    463    52         3 50.760338 65.286055
    4    10     590     238    18102    18102     17139     17139      0      17    17     0       0     0    252    17        15 65.286055 30.939812
    5    26    1638      55     4301     4301      3903      3903      0       0     0     0       0     0     58     0         0 30.939812 0.000000
user_io:32487.053MB total_ios: 97604.944MB WriteAmplification: 3.0044
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-06 14:48:54 ... thread 0: (100000000,399999999) ops and (168937.1,175750.1) ops/second in (591.936244,2275.958361) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     561        0        0     43198     43198      0     160   851     0       0     0      0   160         0 0.000000 0.000000
    1     0       0     357    43198    43198     16075     16075      0     136   136     0       0     0      0   136       238 0.000000 25.807569
    2     1      36      97    10095    10095      6410      6410      0     253   253     0       0     0    136   253         1 25.807569 50.760338
    3     3     138     518    44433    44433     36822     36822      0      67    70     0       0     0    645    67         3 50.760338 65.286055
    4    11     608     327    24770    24770     23508     23508      0      27    30     0       0     0    356    27        15 65.286055 30.939812
    5    37    2329     112     8573     8573      8167      8167      0       0     0     0       0     0    116     0         0 30.939812 0.000000
user_io:43197.621MB total_ios: 134179.694MB WriteAmplification: 3.1062
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-06 14:58:22 ... thread 0: (100000000,499999999) ops and (176208.0,175841.5) ops/second in (567.511029,2843.469390) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     700        0        0     54873     54873      0     195  1080     0       0     0      0   195         0 0.000000 0.000000
    1     1      26     445    54822    54822     19514     19514      0     159   159     0       0     0      0   159       291 0.000000 41.377399
    2     1       8     113    11825    11825      7446      7446      0     310   311     0       0     0    159   310         1 41.377399 50.760338
    3     2     119     647    55425    55425     46269     46269      0      85    89     0       0     0    807    85         5 50.760338 0.000306
    4    12     592     428    32610    32610     31000     31000      0      41    44     0       0     0    475    41        15 0.000306 30.939812
    5    39    2503     172    13220    13220     12360     12360      0       0     0     0       0     0    182     0         4 30.939812 65.288010
    6     4     261       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.288010 0.000000
user_io:54872.659MB total_ios: 171461.564MB WriteAmplification: 3.1247
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-06 15:07:17 ... thread 0: (100000000,599999999) ops and (186755.6,177571.1) ops/second in (535.459160,3378.928550) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     844        0        0     67055     67055      0     236  1321     0       0     0      0   236         0 0.000000 0.000000
    1     0       0     527    67055    67055     22541     22541      0     185   185     0       0     0      0   185       337 0.000000 25.837425
    2     1      31     131    13797    13797      8695      8695      0     357   359     0       0     0    185   357         1 25.837425 50.760338
    3     2     126     750    64214    64214     54104     54104      0     105   110     0       0     0    935   105         5 50.760338 0.000306
    4    12     613     518    39866    39866     37718     37718      0      53    57     0       0     0    589    53        16 0.000306 65.285228
    5    41    2558     226    17037    17037     16165     16165      0       0     0     0       0     0    235     0        15 65.285228 65.284381
    6    15     979       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.284381 0.000000
user_io:67055.289MB total_ios: 206277.272MB WriteAmplification: 3.0762
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-06 15:15:58 ... thread 0: (100000000,699999999) ops and (192101.1,179510.8) ops/second in (520.559151,3899.487701) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     983        0        0     78629     78629      0     280  1549     0       0     0      0   280         0 0.000000 0.000000
    1     1      51     610    78629    78629     26127     26127      0     223   223     0       0     0      0   223       385 0.000000 50.760105
    2     1      51     155    16604    16604     10318     10318      0     407   409     0       0     0    223   407         1 50.760105 50.760338
    3     4     147     854    73097    73097     61979     61979      0     124   130     0       0     0   1074   124         6 50.760338 65.284701
    4    14     700     601    46505    46505     43925     43925      0      59    63     0       0     0    690    59        22 65.284701 65.269009
    5    41    2538     244    18511    18511     17553     17553      0       1     1     0       0     0    254     1        25 65.269009 65.274181
    6    26    1696       2      196      196       195       195      0       0     0     0       0     0      2     0         0 65.274181 0.000000
user_io:78628.794MB total_ios: 238724.238MB WriteAmplification: 3.0361
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-06 15:24:44 ... thread 0: (100000000,799999999) ops and (189903.8,180747.2) ops/second in (526.582406,4426.070107) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1119        0        0     90405     90405      0     321  1778     0       0     0      0   321         0 0.000000 0.000000
    1     0       0     690    90253    90253     29398     29398      0     255   255     0       0     0      0   255       432 0.000000 50.760984
    2     0       0     175    18905    18905     11683     11683      0     456   458     0       0     0    255   456         1 50.760984 50.760338
    3     4     158     956    82020    82020     69675     69675      0     140   148     0       0     0   1198   140         7 50.760338 65.284622
    4    12     681     675    52410    52410     49515     49515      0      75    79     0       0     0    779    75        22 65.284622 65.269009
    5    42    2533     300    23036    23036     21757     21757      0       2     2     0       0     0    321     2        33 65.269009 65.265076
    6    35    2283       5      456      456       454       454      0       0     0     0       0     0      5     0         0 65.265076 0.000000
user_io:90405.347MB total_ios: 272886.656MB WriteAmplification: 3.0185
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-06 15:33:52 ... thread 0: (100000000,899999999) ops and (182508.8,180941.3) ops/second in (547.918686,4973.988793) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1259        0        0    102030    102030      0     360  2007     0       0     0      0   360         0 0.000000 0.000000
    1     0       0     775   101877   101877     32909     32909      0     279   279     0       0     0      0   279       489 0.000000 50.761264
    2     0       0     190    20660    20660     12697     12697      0     513   515     0       0     0    279   513         1 50.761264 50.760338
    3     3     176    1082    93100    93100     79094     79094      0     158   166     0       0     0   1362   158         7 50.760338 65.284622
    4    13     603     754    58690    58690     55540     55540      0      86    92     0       0     0    892    86        22 65.284622 65.269009
    5    43    2625     355    27194    27194     25835     25835      0       2     2     0       0     0    374     2        45 65.269009 65.244771
    6    47    3025       5      456      456       454       454      0       0     0     0       0     0      5     0         0 65.244771 0.000000
user_io:102029.616MB total_ios: 308558.523MB WriteAmplification: 3.0242
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-06 15:42:52 ... thread 0: (100000000,999999999) ops and (185385.8,181376.1) ops/second in (539.415642,5513.404435) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1401        0        0    114314    114314      0     402  2252     0       0     0      0   402         0 0.000000 0.000000
    1     1      51     855   114314   114314     35862     35862      0     305   305     0       0     0      0   305       533 0.000000 45.993579
    2     1      46     207    22559    22559     13920     13920      0     560   562     0       0     0    305   560         1 45.993579 50.760338
    3     2      97    1184   101703   101703     86691     86691      0     176   185     0       0     0   1493   176         8 50.760338 65.284708
    4    11     571     832    64949    64949     61387     61387      0     100   109     0       0     0    979   100        22 65.284708 65.269009
    5    41    2598     418    31934    31934     30197     30197      0       4     4     0       0     0    444     4        51 65.269009 65.237460
    6    55    3546      14     1108     1108      1106      1106      0       0     0     0       0     0     13     0         0 65.237460 0.000000
user_io:114313.784MB total_ios: 343475.621MB WriteAmplification: 3.0047
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       5.513 micros/op 181376 ops/sec;   24.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 5.5134  StdDev: 57.06
Percentiles: P50: 5.32 P75: 6.17 P99: 9.83 P99.9: 16.35 P99.99: 1155.05
------------------------------------------------------
[       2,       3 )  470229   0.047%   0.047%
[       3,       4 ) 141943596  14.194%  14.241% ###
[       4,       5 ) 250654433  25.065%  39.307% #####
[       5,       6 ) 329476482  32.948%  72.254% #######
[       6,       7 ) 165643426  16.564%  88.819% ###
[       7,       8 ) 66514054   6.651%  95.470% #
[       8,       9 ) 26530952   2.653%  98.123% #
[       9,      10 ) 10571928   1.057%  99.181%
[      10,      12 ) 5849519   0.585%  99.765%
[      12,      14 ) 1036391   0.104%  99.869%
[      14,      16 )  282634   0.028%  99.897%
[      16,      18 )  151732   0.015%  99.913%
[      18,      20 )  129712   0.013%  99.926%
[      20,      25 )  176062   0.018%  99.943%
[      25,      30 )   53693   0.005%  99.948%
[      30,      35 )   22092   0.002%  99.951%
[      35,      40 )   13228   0.001%  99.952%
[      40,      45 )    8697   0.001%  99.953%
[      45,      50 )    5146   0.001%  99.953%
[      50,      60 )   17083   0.002%  99.955%
[      60,      70 )   13088   0.001%  99.956%
[      70,      80 )    6610   0.001%  99.957%
[      80,      90 )    5452   0.001%  99.958%
[      90,     100 )    2931   0.000%  99.958%
[     100,     120 )    4609   0.000%  99.958%
[     120,     140 )    4614   0.000%  99.959%
[     140,     160 )    2282   0.000%  99.959%
[     160,     180 )    1574   0.000%  99.959%
[     180,     200 )    1492   0.000%  99.959%
[     200,     250 )    6001   0.001%  99.960%
[     250,     300 )     798   0.000%  99.960%
[     300,     350 )     531   0.000%  99.960%
[     350,     400 )     417   0.000%  99.960%
[     400,     450 )     350   0.000%  99.960%
[     450,     500 )     273   0.000%  99.960%
[     500,     600 )     439   0.000%  99.960%
[     600,     700 )     277   0.000%  99.960%
[     700,     800 )     220   0.000%  99.960%
[     800,     900 )     185   0.000%  99.960%
[     900,    1000 )     116   0.000%  99.960%
[    1000,    1200 )  382662   0.038%  99.999%
[    1200,    1400 )     662   0.000%  99.999%
[    1400,    1600 )     493   0.000%  99.999%
[    1600,    1800 )     324   0.000%  99.999%
[    1800,    2000 )     260   0.000%  99.999%
[    2000,    2500 )     742   0.000%  99.999%
[    2500,    3000 )     731   0.000%  99.999%
[    3000,    3500 )     646   0.000%  99.999%
[    3500,    4000 )     398   0.000%  99.999%
[    4000,    4500 )     377   0.000%  99.999%
[    4500,    5000 )     321   0.000%  99.999%
[    5000,    6000 )     658   0.000%  99.999%
[    6000,    7000 )     665   0.000%  99.999%
[    7000,    8000 )     615   0.000%  99.999%
[    8000,    9000 )     523   0.000%  99.999%
[    9000,   10000 )     482   0.000%  99.999%
[   10000,   12000 )    1004   0.000%  99.999%
[   12000,   14000 )    1141   0.000% 100.000%
[   14000,   16000 )     851   0.000% 100.000%
[   16000,   18000 )     692   0.000% 100.000%
[   18000,   20000 )     494   0.000% 100.000%
[   20000,   25000 )     800   0.000% 100.000%
[   25000,   30000 )     495   0.000% 100.000%
[   30000,   35000 )     279   0.000% 100.000%
[   35000,   40000 )     158   0.000% 100.000%
[   40000,   45000 )      83   0.000% 100.000%
[   45000,   50000 )      49   0.000% 100.000%
[   50000,   60000 )      32   0.000% 100.000%
[   60000,   70000 )      10   0.000% 100.000%
[   70000,   80000 )       2   0.000% 100.000%
[   80000,   90000 )       2   0.000% 100.000%
[   90000,  100000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0      1401        0    114314
  1        1       51       855   114314     35862
  2        1       46       207    22559     13920
  3        2       97      1184   101703     86691
  4       11      571       832    64949     61387
  5       41     2598       418    31934     30197
  6       55     3546        14     1108      1106
user_io:114313.784MB total_ios: 343475.621MB WriteAmplification: 3.0047

Checking if iostat process with PID 2381407 is still running...
    PID TTY          TIME CMD
2381407 pts/4    00:00:00 iostat
iostat process 2381407 is still running, killing now...
iostat process 2381407 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 2381407 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2381408':

      8,809,579.18 msec task-clock                       #    1.598 CPUs utilized
           941,657      context-switches                 #  106.890 /sec
             1,616      cpu-migrations                   #    0.183 /sec
        10,099,925      page-faults                      #    1.146 K/sec
28,675,234,734,165      cycles                           #    3.255 GHz
59,094,721,263,018      instructions                     #    2.06  insn per cycle
 8,446,116,781,071      branches                         #  958.742 M/sec
    22,248,447,044      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      3.9 %  tma_backend_bound
                                                  #     85.8 %  tma_bad_speculation
                                                  #      6.3 %  tma_frontend_bound
                                                  #      4.0 %  tma_retiring

    5512.711188418 seconds time elapsed
