LevelDB:    version 1.23
Date:       Tue Jan  7 04:25:44 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f32_1.2_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f32_1.2_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2645987
../../../leveldb/build_release_f_32_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f32_1.2_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.2_f32_memory_usage_1B_key16_val128_mem64MiB_factor32_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 04:34:26 ... thread 0: (99999999,99999999) ops and (191506.9,191506.9) ops/second in (522.174469,522.174469) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     143        0        0     12792     12792      0      52   252     0       0     0      0    52         0 0.000000 0.000000
    1     0       0      72    12589    12589      2406      2406      0      68    68     0       0     0      0    68         0 0.000000 0.000000
    2     5     318     189    16569    16569     15460     15460      0      14    14     0       0     0    246    14         1 0.000000 65.284283
    3     9     563      60     5208     5208      4792      4792      0       0     0     0       0     0     73     0         0 65.284283 0.000000
user_io:12791.783MB total_ios: 35449.158MB WriteAmplification: 2.7712
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 04:43:34 ... thread 0: (100000000,199999999) ops and (182676.5,186987.5) ops/second in (547.415839,1069.590308) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     298        0        0     26548     26548      0     102   519     0       0     0      0   102         0 0.000000 0.000000
    1     1      26     142    26345    26345      4068      4068      0     119   119     0       0     0      0   119         0 0.000000 0.000000
    2     6     319     399    33530    33530     31997     31997      0      33    33     0       0     0    536    33         1 0.000000 65.284283
    3    20    1238     149    12867    12867     11916     11916      0       0     0     0       0     0    184     0         0 65.284283 0.000000
user_io:26548.028MB total_ios: 74527.994MB WriteAmplification: 2.8073
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-07 04:52:42 ... thread 0: (100000000,299999999) ops and (182220.9,185371.2) ops/second in (548.784386,1618.374694) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     452        0        0     40254     40254      0     152   792     0       0     0      0   152         0 0.000000 0.000000
    1     1      26     213    40203    40203      5734      5734      0     169   169     0       0     0      0   169         0 0.000000 0.000000
    2     7     317     608    50317    50317     48253     48253      0      51    52     0       0     0    839    51         1 0.000000 65.284283
    3    31    1949     243    20902    20902     19524     19524      0       0     0     0       0     0    300     0         0 65.284283 0.000000
user_io:40253.506MB total_ios: 113764.468MB WriteAmplification: 2.8262
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-07 05:01:56 ... thread 0: (100000000,399999999) ops and (180590.4,184152.4) ops/second in (553.739189,2172.113883) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     606        0        0     54010     54010      0     203  1064     0       0     0      0   203         0 0.000000 0.000000
    1     1      26     284    54010    54010      7398      7398      0     220   220     0       0     0      0   220         0 0.000000 0.000000
    2     8     293     810    67166    67166     64498     64498      0      69    71     0       0     0   1182    69         1 0.000000 65.284283
    3    41    2632     345    29643    29643     27864     27864      0       0     0     0       0     0    430     0         0 65.284283 0.000000
user_io:54009.733MB total_ios: 153770.004MB WriteAmplification: 2.8471
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-07 05:11:00 ... thread 0: (100000000,499999999) ops and (183993.9,184120.7) ops/second in (543.496186,2715.610069) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355     761        0        0     67766     67766      0     252  1334     0       0     0      0   252         0 0.000000 0.000000
    1     0       0     353    67411    67411      9009      9009      0     268   268     0       0     0      0   268         0 0.000000 0.000000
    2     9     452    1034    85311    85311     81957     81957      0      82    84     0       0     0   1563    82         1 0.000000 65.284283
    3    48    3083     419    36050    36050     33932     33932      0       0     0     0       0     0    523     0         0 65.284283 0.000000
user_io:67765.979MB total_ios: 192663.155MB WriteAmplification: 2.8431
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-07 05:21:03 ... thread 0: (100000000,599999999) ops and (165682.4,180767.8) ops/second in (603.564242,3319.174311) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     922        0        0     81522     81522      0     299  1606     0       0     0      0   299         0 0.000000 0.000000
    1     0       0     428    81319    81319     10661     10661      0     315   315     0       0     0      0   315         0 0.000000 0.000000
    2     7     291    1241   101712   101712     97877     97877      0     105   108     0       0     0   1939   105         1 0.000000 65.284283
    3    57    3636     552    47342    47342     44444     44444      0       0     0     0       0     0    690     0         0 65.284283 0.000000
user_io:81522.201MB total_ios: 234503.797MB WriteAmplification: 2.8766
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-07 05:31:09 ... thread 0: (100000000,699999999) ops and (164965.9,178327.6) ops/second in (606.186055,3925.360366) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254    1080        0        0     95278     95278      0     348  1872     0       0     0      0   348         0 0.000000 0.000000
    1     0       0     499    95025    95025     12308     12308      0     365   365     0       0     0      0   365         0 0.000000 0.000000
    2    10     330    1441   117968   117968    113549    113549      0     125   133     0       0     0   2351   125         1 0.000000 65.284283
    3    66    4231     689    58707    58707     55379     55379      0       0     0     0       0     0    871     0         0 65.284283 0.000000
user_io:95278.421MB total_ios: 276514.745MB WriteAmplification: 2.9022
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-07 05:41:00 ... thread 0: (100000000,799999999) ops and (169177.2,177130.0) ops/second in (591.096089,4516.456455) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1238        0        0    108984    108984      0     401  2146     0       0     0      0   401         0 0.000000 0.000000
    1     1      26     570   108933   108933     13993     13993      0     418   418     0       0     0      0   418         0 0.000000 0.000000
    2     9     317    1648   134782   134782    129834    129834      0     144   153     0       0     0   2799   144         1 0.000000 65.284283
    3    73    4695     806    68845    68845     64837     64837      0       0     0     0       0     0   1010     0         0 65.284283 0.000000
user_io:108983.894MB total_ios: 317649.007MB WriteAmplification: 2.9146
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-07 05:51:21 ... thread 0: (100000000,899999999) ops and (161061.3,175188.0) ops/second in (620.881580,5137.338035) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1396        0        0    122740    122740      0     449  2415     0       0     0      0   449         0 0.000000 0.000000
    1     0       0     642   122588   122588     15624     15624      0     466   466     0       0     0      0   466         0 0.000000 0.000000
    2    10     307    1848   150900   150900    145438    145438      0     165   174     0       0     0   3220   165         1 0.000000 65.284283
    3    81    5251     960    81791    81791     77187     77187      0       0     0     0       0     0   1203     0         0 65.284283 0.000000
user_io:122740.131MB total_ios: 360989.224MB WriteAmplification: 2.9411
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-07 06:01:28 ... thread 0: (100000000,999999999) ops and (164904.4,174102.3) ops/second in (606.412023,5743.750058) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305    1557        0        0    136496    136496      0     499  2683     0       0     0      0   499         0 0.000000 0.000000
    1     0       0     713   136192   136192     17263     17263      0     516   516     0       0     0      0   516         0 0.000000 0.000000
    2    10     325    2053   167190   167190    161169    161169      0     186   196     0       0     0   3721   186         1 0.000000 65.284283
    3    90    5754    1093    92882    92882     87720     87720      0       0     0     0       0     0   1372     0         0 65.284283 0.000000
user_io:136496.365MB total_ios: 402647.940MB WriteAmplification: 2.9499
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       5.744 micros/op 174102 ops/sec;   23.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 5.7438  StdDev: 42.92
Percentiles: P50: 5.40 P75: 6.31 P99: 10.00 P99.9: 19.01 P99.99: 1168.16
------------------------------------------------------
[       2,       3 )  453148   0.045%   0.045%
[       3,       4 ) 127954634  12.795%  12.841% ###
[       4,       5 ) 240549811  24.055%  36.896% #####
[       5,       6 ) 325945915  32.595%  69.490% #######
[       6,       7 ) 177450915  17.745%  87.235% ####
[       7,       8 ) 74437847   7.444%  94.679% #
[       8,       9 ) 30685804   3.069%  97.748% #
[       9,      10 ) 12570047   1.257%  99.005%
[      10,      12 ) 7165041   0.717%  99.721%
[      12,      14 ) 1277132   0.128%  99.849%
[      14,      16 )  303936   0.030%  99.879%
[      16,      18 )  144534   0.014%  99.894%
[      18,      20 )  121289   0.012%  99.906%
[      20,      25 )  172367   0.017%  99.923%
[      25,      30 )   62845   0.006%  99.930%
[      30,      35 )   26482   0.003%  99.932%
[      35,      40 )   14651   0.001%  99.934%
[      40,      45 )   11099   0.001%  99.935%
[      45,      50 )    7596   0.001%  99.936%
[      50,      60 )    9069   0.001%  99.936%
[      60,      70 )    7564   0.001%  99.937%
[      70,      80 )    9211   0.001%  99.938%
[      80,      90 )    6687   0.001%  99.939%
[      90,     100 )    2954   0.000%  99.939%
[     100,     120 )    6069   0.001%  99.940%
[     120,     140 )    3376   0.000%  99.940%
[     140,     160 )    1570   0.000%  99.940%
[     160,     180 )    1317   0.000%  99.940%
[     180,     200 )    1257   0.000%  99.940%
[     200,     250 )    5412   0.001%  99.941%
[     250,     300 )     525   0.000%  99.941%
[     300,     350 )     374   0.000%  99.941%
[     350,     400 )     291   0.000%  99.941%
[     400,     450 )     192   0.000%  99.941%
[     450,     500 )     186   0.000%  99.941%
[     500,     600 )     266   0.000%  99.941%
[     600,     700 )     185   0.000%  99.941%
[     700,     800 )     137   0.000%  99.941%
[     800,     900 )      83   0.000%  99.941%
[     900,    1000 )      43   0.000%  99.941%
[    1000,    1200 )  580552   0.058%  99.999%
[    1200,    1400 )     638   0.000%  99.999%
[    1400,    1600 )     373   0.000%  99.999%
[    1600,    1800 )     394   0.000%  99.999%
[    1800,    2000 )     356   0.000%  99.999%
[    2000,    2500 )     493   0.000%  99.999%
[    2500,    3000 )     483   0.000% 100.000%
[    3000,    3500 )     393   0.000% 100.000%
[    3500,    4000 )     176   0.000% 100.000%
[    4000,    4500 )     121   0.000% 100.000%
[    4500,    5000 )      95   0.000% 100.000%
[    5000,    6000 )     206   0.000% 100.000%
[    6000,    7000 )     255   0.000% 100.000%
[    7000,    8000 )     236   0.000% 100.000%
[    8000,    9000 )     233   0.000% 100.000%
[    9000,   10000 )     252   0.000% 100.000%
[   10000,   12000 )     504   0.000% 100.000%
[   12000,   14000 )     548   0.000% 100.000%
[   14000,   16000 )     423   0.000% 100.000%
[   16000,   18000 )     302   0.000% 100.000%
[   18000,   20000 )     256   0.000% 100.000%
[   20000,   25000 )     460   0.000% 100.000%
[   25000,   30000 )     215   0.000% 100.000%
[   30000,   35000 )     112   0.000% 100.000%
[   35000,   40000 )      33   0.000% 100.000%
[   40000,   45000 )      12   0.000% 100.000%
[   45000,   50000 )       6   0.000% 100.000%
[   50000,   60000 )      12   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        6      305      1557        0    136496
  1        0        0       713   136192     17263
  2       10      325      2053   167190    161169
  3       90     5754      1093    92882     87720
user_io:136496.365MB total_ios: 402647.940MB WriteAmplification: 2.9499

Checking if iostat process with PID 2645986 is still running...
    PID TTY          TIME CMD
2645986 pts/11   00:00:00 iostat
iostat process 2645986 is still running, killing now...
iostat process 2645986 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 47: 2645986 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2645987':

      9,457,538.87 msec task-clock                       #    1.647 CPUs utilized
         1,318,063      context-switches                 #  139.366 /sec
             1,808      cpu-migrations                   #    0.191 /sec
        10,726,586      page-faults                      #    1.134 K/sec
30,935,995,075,913      cycles                           #    3.271 GHz
63,853,425,888,987      instructions                     #    2.06  insn per cycle
 9,105,226,316,017      branches                         #  962.748 M/sec
    23,917,599,720      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      3.4 %  tma_backend_bound
                                                  #     85.0 %  tma_bad_speculation
                                                  #      5.8 %  tma_frontend_bound
                                                  #      5.8 %  tma_retiring

    5742.968597244 seconds time elapsed
