LevelDB:    version 1.23
Date:       Sat Jan  4 18:18:25 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.4_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 1628694
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f10_1.4_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.4_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.4_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.4_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-04 18:26:00 ... thread 0: (99999999,99999999) ops and (219557.1,219557.1) ops/second in (455.462303,455.462303) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101      80        0        0      6171      6171      0      30   120     0       0     0      0    30         0 0.000000 0.000000
    1     0       0     118     6202     6202      7677      7677      0     157   157     0       0     0     20   157         0 0.000000 0.000000
    2     1      35     106    14070    14070      6627      6627      0       0     0     0       0     0    168     0         1 0.000000 65.282927
    3     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.282927 0.000000
user_io:6170.739MB total_ios: 20473.994MB WriteAmplification: 3.3179
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-04 18:33:34 ... thread 0: (100000000,199999999) ops and (220395.9,219975.7) ops/second in (453.728862,909.191165) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     258        0        0     19878     19878      0      98   392     0       0     0      0    98         0 0.000000 0.000000
    1     1       8     176    20254    20254      8221      8221      0     179   179     0       0     0     65   179         0 0.000000 0.000000
    2     2      91     129    15847    15847      8283      8283      0       1     1     0       0     0    203     1         1 0.000000 65.282927
    3     2     102       1      131      131       102       102      0       0     0     0       0     0      1     0         0 65.282927 0.000000
user_io:19877.872MB total_ios: 36483.549MB WriteAmplification: 1.8354
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-04 18:41:03 ... thread 0: (100000000,299999999) ops and (222817.8,220915.0) ops/second in (448.797198,1357.988363) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     427        0        0     33534     33534      0     165   660     0       0     0      0   165         0 0.000000 0.000000
    1     0       0     232    34108    34108      8763      8763      0     202   202     0       0     0    110   202         0 0.000000 0.000000
    2     2      85     152    17743    17743     10052     10052      0       3     3     0       0     0    241     3         1 0.000000 65.282927
    3     3     166       5      498      498       402       402      0       0     0     0       0     0      6     0         0 65.282927 0.000000
user_io:33534.423MB total_ios: 52751.132MB WriteAmplification: 1.5730
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-04 18:48:33 ... thread 0: (100000000,399999999) ops and (222131.4,221217.8) ops/second in (450.184014,1808.172377) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     597        0        0     47242     47242      0     233   933     0       0     0      0   233         0 0.000000 0.000000
    1     1       8     288    48214    48214      9310      9310      0     224   224     0       0     0    155   224         0 0.000000 0.000000
    2     2      75     174    19526    19526     11713     11713      0       5     5     0       0     0    275     5         1 0.000000 65.282927
    3     4     223      11      989      989       820       820      0       0     0     0       0     0     12     0         0 65.282927 0.000000
user_io:47241.555MB total_ios: 69084.880MB WriteAmplification: 1.4624
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.731 MB data into db.)


2025-01-04 18:56:02 ... thread 0: (100000000,499999999) ops and (222810.2,221534.5) ops/second in (448.812399,2256.984776) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     768        0        0     60949     60949      0     300  1203     0       0     0      0   300         0 0.000000 0.000000
    1     0       0     345    62172    62172      9856      9856      0     247   247     0       0     0    200   247         0 0.000000 0.000000
    2     2      68     197    21484    21484     13542     13542      0       7     7     0       0     0    313     7         1 0.000000 65.282927
    3     5     273      17     1590     1590      1342      1342      0       0     0     0       0     0     20     0         0 65.282927 0.000000
user_io:60948.688MB total_ios: 85688.612MB WriteAmplification: 1.4059
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-04 19:03:33 ... thread 0: (100000000,599999999) ops and (221635.6,221551.3) ops/second in (451.191062,2708.175838) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     202     934        0        0     74656     74656      0     367  1476     0       0     0      0   367         0 0.000000 0.000000
    1     1       5     402    76064    76064     10389     10389      0     269   269     0       0     0    244   269         0 0.000000 0.000000
    2     1      55     220    23361    23361     15295     15295      0       9     9     0       0     0    351     9         1 0.000000 65.282927
    3     5     322      27     2293     2293      1962      1962      0       0     0     0       0     0     30     0         0 65.282927 0.000000
user_io:74655.818MB total_ios: 102302.200MB WriteAmplification: 1.3703
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-04 19:11:04 ... thread 0: (100000000,699999999) ops and (221930.8,221605.5) ops/second in (450.590860,3158.766698) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101    1104        0        0     88363     88363      0     433  1745     0       0     0      0   433         0 0.000000 0.000000
    1     0       0     459    90174    90174     10938     10938      0     292   292     0       0     0    288   292         0 0.000000 0.000000
    2     1      47     244    25299    25299     17103     17103      0      11    11     0       0     0    390    11         1 0.000000 65.282927
    3     6     369      37     3091     3091      2677      2677      0       0     0     0       0     0     41     0         0 65.282927 0.000000
user_io:88362.955MB total_ios: 119080.629MB WriteAmplification: 1.3476
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-04 19:18:35 ... thread 0: (100000000,799999999) ops and (221465.1,221587.9) ops/second in (451.538504,3610.305202) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1276        0        0    102020    102020      0     500  2016     0       0     0      0   500         0 0.000000 0.000000
    1     1       8     516   104170   104170     11476     11476      0     314   314     0       0     0    332   314         0 0.000000 0.000000
    2     2      96     267    27101    27101     18779     18779      0      12    12     0       0     0    426    12         1 0.000000 65.282927
    3     6     391      42     3525     3525      3068      3068      0       0     0     0       0     0     47     0         0 65.282927 0.000000
user_io:102019.506MB total_ios: 135342.356MB WriteAmplification: 1.3266
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.372 MB data into db.)


2025-01-04 19:26:14 ... thread 0: (100000000,899999999) ops and (217993.4,221182.7) ops/second in (458.729393,4069.034595) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1454        0        0    115727    115727      0     567  2285     0       0     0      0   567         0 0.000000 0.000000
    1     0       0     574   118076   118076     12020     12020      0     337   337     0       0     0    377   337         0 0.000000 0.000000
    2     2      94     293    29139    29139     20666     20666      0      14    14     0       0     0    467    14         1 0.000000 65.282927
    3     8     436      46     3890     3890      3374      3374      0       0     0     0       0     0     51     0         0 65.282927 0.000000
user_io:115726.637MB total_ios: 151786.462MB WriteAmplification: 1.3116
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.282 MB data into db.)


2025-01-04 19:33:54 ... thread 0: (100000000,999999999) ops and (217233.4,220781.3) ops/second in (460.334334,4529.368929) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     202    1626        0        0    129434    129434      0     635  2559     0       0     0      0   635         0 0.000000 0.000000
    1     1       5     632   132026   132026     12560     12560      0     359   359     0       0     0    422   359         0 0.000000 0.000000
    2     2      85     316    30929    30929     22336     22336      0      16    16     0       0     0    503    16         1 0.000000 65.282927
    3     8     475      54     4639     4639      4032      4032      0       0     0     0       0     0     62     0         0 65.282927 0.000000
user_io:129433.771MB total_ios: 168361.434MB WriteAmplification: 1.3008
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.192 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :       4.529 micros/op 220781 ops/sec;   30.3 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.5294  StdDev: 35.04
Percentiles: P50: 4.86 P75: 5.71 P99: 8.65 P99.9: 11.34 P99.99: 33.23
------------------------------------------------------
[       2,       3 ) 1650375   0.165%   0.165%
[       3,       4 ) 257357813  25.736%  25.901% #####
[       4,       5 ) 280680228  28.068%  53.969% ######
[       5,       6 ) 296544882  29.654%  83.623% ######
[       6,       7 ) 110728341  11.073%  94.696% ##
[       7,       8 ) 35627173   3.563%  98.259% #
[       8,       9 ) 11468714   1.147%  99.406%
[       9,      10 ) 3826735   0.383%  99.788%
[      10,      12 ) 1661472   0.166%  99.955%
[      12,      14 )  177836   0.018%  99.972%
[      14,      16 )   37685   0.004%  99.976%
[      16,      18 )   15707   0.002%  99.978%
[      18,      20 )   11515   0.001%  99.979%
[      20,      25 )   52725   0.005%  99.984%
[      25,      30 )   42106   0.004%  99.988%
[      30,      35 )   25830   0.003%  99.991%
[      35,      40 )   13028   0.001%  99.992%
[      40,      45 )    7093   0.001%  99.993%
[      45,      50 )    4401   0.000%  99.993%
[      50,      60 )   13512   0.001%  99.995%
[      60,      70 )   10274   0.001%  99.996%
[      70,      80 )    5702   0.001%  99.996%
[      80,      90 )    4757   0.000%  99.997%
[      90,     100 )    2450   0.000%  99.997%
[     100,     120 )    4435   0.000%  99.997%
[     120,     140 )    2535   0.000%  99.998%
[     140,     160 )    1623   0.000%  99.998%
[     160,     180 )    1553   0.000%  99.998%
[     180,     200 )    1527   0.000%  99.998%
[     200,     250 )    3435   0.000%  99.999%
[     250,     300 )     575   0.000%  99.999%
[     300,     350 )     352   0.000%  99.999%
[     350,     400 )     264   0.000%  99.999%
[     400,     450 )     223   0.000%  99.999%
[     450,     500 )     165   0.000%  99.999%
[     500,     600 )     263   0.000%  99.999%
[     600,     700 )     180   0.000%  99.999%
[     700,     800 )      95   0.000%  99.999%
[     800,     900 )      71   0.000%  99.999%
[     900,    1000 )      52   0.000%  99.999%
[    1000,    1200 )    4236   0.000%  99.999%
[    1200,    1400 )     258   0.000%  99.999%
[    1400,    1600 )     190   0.000%  99.999%
[    1600,    1800 )     308   0.000%  99.999%
[    1800,    2000 )     314   0.000%  99.999%
[    2000,    2500 )     734   0.000%  99.999%
[    2500,    3000 )     347   0.000%  99.999%
[    3000,    3500 )     365   0.000%  99.999%
[    3500,    4000 )     289   0.000%  99.999%
[    4000,    4500 )     272   0.000% 100.000%
[    4500,    5000 )     228   0.000% 100.000%
[    5000,    6000 )     527   0.000% 100.000%
[    6000,    7000 )     497   0.000% 100.000%
[    7000,    8000 )     365   0.000% 100.000%
[    8000,    9000 )     300   0.000% 100.000%
[    9000,   10000 )     269   0.000% 100.000%
[   10000,   12000 )     454   0.000% 100.000%
[   12000,   14000 )     502   0.000% 100.000%
[   14000,   16000 )     410   0.000% 100.000%
[   16000,   18000 )     312   0.000% 100.000%
[   18000,   20000 )     312   0.000% 100.000%
[   20000,   25000 )     387   0.000% 100.000%
[   25000,   30000 )     197   0.000% 100.000%
[   30000,   35000 )     105   0.000% 100.000%
[   35000,   40000 )      64   0.000% 100.000%
[   40000,   45000 )      26   0.000% 100.000%
[   45000,   50000 )      15   0.000% 100.000%
[   50000,   60000 )      14   0.000% 100.000%
[   60000,   70000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        4      202      1626        0    129434
  1        1        5       632   132026     12560
  2        2       85       316    30929     22336
  3        8      475        54     4639      4032
user_io:129433.771MB total_ios: 168361.434MB WriteAmplification: 1.3008

Checking if iostat process with PID 1628693 is still running...
    PID TTY          TIME CMD
1628693 pts/4    00:00:00 iostat
iostat process 1628693 is still running, killing now...
iostat process 1628693 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 1628693 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '1628694':

      6,597,977.90 msec task-clock                       #    1.457 CPUs utilized
           392,074      context-switches                 #   59.423 /sec
             1,107      cpu-migrations                   #    0.168 /sec
         6,650,572      page-faults                      #    1.008 K/sec
21,692,792,493,856      cycles                           #    3.288 GHz
44,443,933,282,447      instructions                     #    2.05  insn per cycle
 6,391,666,644,911      branches                         #  968.731 M/sec
    18,517,969,850      branch-misses                    #    0.29% of all branches
                        TopdownL1                 #     13.3 %  tma_backend_bound
                                                  #     73.4 %  tma_bad_speculation
                                                  #      9.0 %  tma_frontend_bound
                                                  #      4.3 %  tma_retiring

    4528.650287657 seconds time elapsed
