LevelDB:    version 1.23
Date:       Tue Jan  7 06:01:35 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.3_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.3_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2681077
../../../leveldb/build_release_f_8_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f8_1.3_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.3_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.3_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.3_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 06:09:45 ... thread 0: (99999999,99999999) ops and (203967.4,203967.4) ops/second in (490.274445,490.274445) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      33        0        0      2835      2835      0      14    56     0       0     0      0    14         0 0.000000 0.000000
    1     0       0     140     2835     2835     10933     10933      0     227   227     0       0     0      0   227         0 0.000000 0.000000
    2     1      29     181    22851    22851     12339     12339      0       5     5     0       0     0    291     5         1 0.000000 65.279711
    3     4     255      12     1053     1053       916       916      0       0     0     0       0     0     13     0         0 65.279711 0.000000
user_io:2835.002MB total_ios: 27023.310MB WriteAmplification: 9.5320
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 06:17:57 ... thread 0: (100000000,199999999) ops and (203436.0,203701.4) ops/second in (491.555012,981.829457) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      86        0        0      7290      7290      0      35   144     0       0     0      0    35         0 0.000000 0.000000
    1     1      51     266     7290     7290     20431     20431      0     431   431     0       0     0      0   431         0 0.000000 0.000000
    2     1      59     344    43149    43149     23611     23611      0      11    11     0       0     0    552    11         1 0.000000 65.279711
    3     7     435      41     3435     3435      3087      3087      0       0     0     0       0     0     46     0         0 65.279711 0.000000
user_io:7290.028MB total_ios: 54419.109MB WriteAmplification: 7.4649
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.913 MB data into db.)


2025-01-07 06:26:11 ... thread 0: (100000000,299999999) ops and (202385.1,203260.7) ops/second in (494.107602,1475.937059) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     130        0        0     11036     11036      0      52   218     0       0     0      0    52         0 0.000000 0.000000
    1     0       0     401    11036    11036     30548     30548      0     644   644     0       0     0      0   644         0 0.000000 0.000000
    2     1      64     525    65415    65415     36124     36124      0      18    18     0       0     0    837    18         1 0.000000 65.279711
    3    11     607      77     6598     6598      6011      6011      0       0     0     0       0     0     91     0         0 65.279711 0.000000
user_io:11036.287MB total_ios: 83719.932MB WriteAmplification: 7.5859
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.826 MB data into db.)


2025-01-07 06:34:32 ... thread 0: (100000000,399999999) ops and (199342.5,202266.8) ops/second in (501.649200,1977.586259) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     304     195        0        0     16656     16656      0      73   323     0       0     0      0    73         0 0.000000 0.000000
    1     0       0     522    16352    16352     38914     38914      0     825   825     0       0     0      0   825         0 0.000000 0.000000
    2     2      82     678    84003    84003     46756     46756      0      25    25     0       0     0   1079    25         1 0.000000 65.279711
    3    11     605     124    10493    10493      9774      9774      0       3     3     0       0     0    157     3         1 65.279711 65.285445
    4     3     149       5      481      481       369       369      0       0     0     0       0     0      5     0         0 65.285445 0.000000
user_io:16655.691MB total_ios: 112468.157MB WriteAmplification: 6.7525
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.739 MB data into db.)


2025-01-07 06:42:55 ... thread 0: (100000000,499999999) ops and (199116.5,201628.8) ops/second in (502.218607,2479.804866) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     354     305        0        0     25869     25869      0     115   511     0       0     0      0   115         0 0.000000 0.000000
    1     0       0     614    25515    25515     43892     43892      0     955   955     0       0     0      0   955         0 0.000000 0.000000
    2     1      19     787    96254    96254     54442     54442      0      32    32     0       0     0   1253    32         1 0.000000 65.279711
    3    11     668     172    14384    14384     13643     13643      0       9     9     0       0     0    203     9         1 65.279711 65.285445
    4     5     299      23     2159     2159      1805      1805      0       0     0     0       0     0     28     0         0 65.285445 0.000000
user_io:25869.469MB total_ios: 139651.075MB WriteAmplification: 5.3983
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.652 MB data into db.)


2025-01-07 06:51:09 ... thread 0: (100000000,599999999) ops and (202387.6,201754.8) ops/second in (494.101445,2973.906311) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     253     436        0        0     37058     37058      0     164   727     0       0     0      0   164         0 0.000000 0.000000
    1     0       0     690    36804    36804     47004     47004      0    1055  1055     0       0     0      0  1055         0 0.000000 0.000000
    2     2      33     871   105077   105077     60577     60577      0      39    39     0       0     0   1395    39         1 0.000000 65.279711
    3    11     679     208    17331    17331     16583     16583      0      16    16     0       0     0    243    16         1 65.279711 65.285445
    4     7     430      51     4672     4672      4057      4057      0       0     0     0       0     0     70     0         0 65.285445 0.000000
user_io:37057.623MB total_ios: 165279.018MB WriteAmplification: 4.4601
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.565 MB data into db.)


2025-01-07 06:59:33 ... thread 0: (100000000,699999999) ops and (198103.4,201225.0) ops/second in (504.786773,3478.693084) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     535        0        0     45461     45461      0     199   896     0       0     0      0   199         0 0.000000 0.000000
    1     0       0     791    45360    45360     52751     52751      0    1195  1195     0       0     0      0  1195         0 0.000000 0.000000
    2     1      44     991   118800   118800     68975     68975      0      46    46     0       0     0   1589    46         1 0.000000 65.279711
    3    10     629     246    20366    20366     19613     19613      0      22    22     0       0     0    284    22         1 65.279711 65.285445
    4     9     575      96     8571     8571      7645      7645      0       0     0     0       0     0    119     0         0 65.285445 0.000000
user_io:45461.410MB total_ios: 194445.465MB WriteAmplification: 4.2772
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.478 MB data into db.)


2025-01-07 07:08:00 ... thread 0: (100000000,799999999) ops and (197334.3,200730.3) ops/second in (506.754177,3985.447261) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     658        0        0     55738     55738      0     242  1101     0       0     0      0   242         0 0.000000 0.000000
    1     0       0     876    55738    55738     56667     56667      0    1305  1305     0       0     0      0  1305         0 0.000000 0.000000
    2     2      72    1080   128759   128759     75438     75438      0      52    52     0       0     0   1734    52         1 0.000000 65.279711
    3    12     607     293    24182    24182     23408     23408      0      28    28     0       0     0    337    28         1 65.279711 65.285445
    4    13     789     130    11468    11468     10364     10364      0       0     0     0       0     0    161     0         0 65.285445 0.000000
user_io:55738.319MB total_ios: 221615.942MB WriteAmplification: 3.9760
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.391 MB data into db.)


2025-01-07 07:16:14 ... thread 0: (100000000,899999999) ops and (202620.5,200938.6) ops/second in (493.533386,4478.980647) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     752        0        0     63686     63686      0     278  1257     0       0     0      0   278         0 0.000000 0.000000
    1     0       0     976    63636    63636     62848     62848      0    1455  1455     0       0     0      0  1455         0 0.000000 0.000000
    2     2      74    1208   143344   143344     84255     84255      0      59    59     0       0     0   1933    59         1 0.000000 65.279711
    3    11     635     326    26938    26938     25977     25977      0      31    31     0       0     0    381    31         1 65.279711 65.285445
    4    16     983     140    12267    12267     11161     11161      0       0     0     0       0     0    173     0         0 65.285445 0.000000
user_io:63686.472MB total_ios: 247928.764MB WriteAmplification: 3.8930
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.304 MB data into db.)


2025-01-07 07:24:26 ... thread 0: (100000000,999999999) ops and (202975.4,201140.4) ops/second in (492.670521,4971.651168) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     859        0        0     72698     72698      0     318  1436     0       0     0      0   318         0 0.000000 0.000000
    1     1      51    1068    72698    72698     68023     68023      0    1588  1588     0       0     0      0  1588         0 0.000000 0.000000
    2     2      79    1318   156010   156010     92212     92212      0      66    66     0       0     0   2115    66         1 0.000000 65.279711
    3    10     623     367    30439    30439     29252     29252      0      34    34     0       0     0    434    34         1 65.279711 65.285445
    4    19    1177     157    13648    13648     12540     12540      0       0     0     0       0     0    194     0         0 65.285445 0.000000
user_io:72697.754MB total_ios: 274724.972MB WriteAmplification: 3.7790
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.217 MB data into db.)


1000000000 operations have been finished (137329.130 MB data have been written into db)
fillzipf     :       4.972 micros/op 201140 ops/sec;   27.6 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.9717  StdDev: 27.07
Percentiles: P50: 5.23 P75: 6.08 P99: 9.82 P99.9: 13.00 P99.99: 74.67
------------------------------------------------------
[       2,       3 )  273950   0.027%   0.027%
[       3,       4 ) 170982397  17.098%  17.126% ###
[       4,       5 ) 256151928  25.615%  42.741% #####
[       5,       6 ) 310518344  31.052%  73.793% ######
[       6,       7 ) 151671909  15.167%  88.960% ###
[       7,       8 ) 63348687   6.335%  95.295% #
[       8,       9 ) 27621055   2.762%  98.057% #
[       9,      10 ) 11541075   1.154%  99.211%
[      10,      12 ) 6409807   0.641%  99.852%
[      12,      14 )  957586   0.096%  99.948%
[      14,      16 )  157493   0.016%  99.963%
[      16,      18 )   53258   0.005%  99.969%
[      18,      20 )   40704   0.004%  99.973%
[      20,      25 )   45457   0.005%  99.977%
[      25,      30 )   21772   0.002%  99.980%
[      30,      35 )   25710   0.003%  99.982%
[      35,      40 )   21631   0.002%  99.984%
[      40,      45 )   18892   0.002%  99.986%
[      45,      50 )   10074   0.001%  99.987%
[      50,      60 )    8008   0.001%  99.988%
[      60,      70 )   12914   0.001%  99.989%
[      70,      80 )   15729   0.002%  99.991%
[      80,      90 )    5481   0.001%  99.991%
[      90,     100 )    3511   0.000%  99.992%
[     100,     120 )    3779   0.000%  99.992%
[     120,     140 )    3648   0.000%  99.992%
[     140,     160 )    1464   0.000%  99.993%
[     160,     180 )    1118   0.000%  99.993%
[     180,     200 )    1356   0.000%  99.993%
[     200,     250 )    8360   0.001%  99.994%
[     250,     300 )     631   0.000%  99.994%
[     300,     350 )     325   0.000%  99.994%
[     350,     400 )     258   0.000%  99.994%
[     400,     450 )     192   0.000%  99.994%
[     450,     500 )     175   0.000%  99.994%
[     500,     600 )     239   0.000%  99.994%
[     600,     700 )     166   0.000%  99.994%
[     700,     800 )     112   0.000%  99.994%
[     800,     900 )      78   0.000%  99.994%
[     900,    1000 )      48   0.000%  99.994%
[    1000,    1200 )   53433   0.005%  99.999%
[    1200,    1400 )     474   0.000%  99.999%
[    1400,    1600 )     331   0.000%  99.999%
[    1600,    1800 )     227   0.000%  99.999%
[    1800,    2000 )     462   0.000%  99.999%
[    2000,    2500 )     788   0.000% 100.000%
[    2500,    3000 )     447   0.000% 100.000%
[    3000,    3500 )     311   0.000% 100.000%
[    3500,    4000 )     306   0.000% 100.000%
[    4000,    4500 )     320   0.000% 100.000%
[    4500,    5000 )     283   0.000% 100.000%
[    5000,    6000 )     348   0.000% 100.000%
[    6000,    7000 )     376   0.000% 100.000%
[    7000,    8000 )     405   0.000% 100.000%
[    8000,    9000 )     272   0.000% 100.000%
[    9000,   10000 )     249   0.000% 100.000%
[   10000,   12000 )     294   0.000% 100.000%
[   12000,   14000 )     293   0.000% 100.000%
[   14000,   16000 )     273   0.000% 100.000%
[   16000,   18000 )     216   0.000% 100.000%
[   18000,   20000 )     162   0.000% 100.000%
[   20000,   25000 )     241   0.000% 100.000%
[   25000,   30000 )      89   0.000% 100.000%
[   30000,   35000 )      57   0.000% 100.000%
[   35000,   40000 )      14   0.000% 100.000%
[   40000,   45000 )       5   0.000% 100.000%
[   45000,   50000 )       3   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0       859        0     72698
  1        1       51      1068    72698     68023
  2        2       79      1318   156010     92212
  3       10      623       367    30439     29252
  4       19     1177       157    13648     12540
user_io:72697.754MB total_ios: 274724.972MB WriteAmplification: 3.7790

Checking if iostat process with PID 2681076 is still running...
    PID TTY          TIME CMD
2681076 pts/11   00:00:00 iostat
iostat process 2681076 is still running, killing now...
iostat process 2681076 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 47: 2681076 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2681077':

      7,975,778.14 msec task-clock                       #    1.604 CPUs utilized
           551,581      context-switches                 #   69.157 /sec
             1,322      cpu-migrations                   #    0.166 /sec
         8,768,541      page-faults                      #    1.099 K/sec
26,157,543,313,975      cycles                           #    3.280 GHz
52,680,278,369,144      instructions                     #    2.01  insn per cycle
 7,547,005,739,527      branches                         #  946.241 M/sec
    19,700,900,908      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      9.6 %  tma_backend_bound
                                                  #     76.7 %  tma_bad_speculation
                                                  #      9.0 %  tma_frontend_bound
                                                  #      4.6 %  tma_retiring

    4971.089360134 seconds time elapsed
