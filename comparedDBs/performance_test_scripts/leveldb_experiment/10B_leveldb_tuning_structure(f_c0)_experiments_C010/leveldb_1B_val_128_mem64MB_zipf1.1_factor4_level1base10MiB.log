base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Mon Jan  6 11:37:21 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.1_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.1_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2323446
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.1_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.1_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.1_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.1_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 11:47:45 ... thread 0: (99999999,99999999) ops and (160415.0,160415.0) ops/second in (623.383007,623.383007) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     154     143        0        0     12927     12927      0      38   249     0       0     0      0    38         0 0.000000 0.000000
    1     1       2     103    12795    12795      4770      4770      0      22    32     0       0     0      6    22        64 0.000000 65.209193
    2     2     114      34     2626     2626      2669      2669      0      70    83     0       0     0     25    70        10 65.209193 65.274905
    3     7     308     147    12591    12591     11860     11860      0      46    47     0       0     0    164    46        11 65.274905 65.287941
    4    20    1220     150    12412    12412     11958     11958      0       9     9     0       0     0    164     9        22 65.287941 4.525607
    5    29    1807      21     1642     1642      1487      1487      0       0     0     0       0     0     20     0         0 4.525607 0.000000
user_io:12927.030MB total_ios: 45671.834MB WriteAmplification: 3.5330
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 12:01:01 ... thread 0: (100000000,199999999) ops and (125639.3,140913.3) ops/second in (795.929082,1419.312089) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103     306        0        0     26777     26777      0      72   520     0       0     0      0    72         0 0.000000 0.000000
    1     1      51     218    26736    26736      9344      9344      0      57    86     0       0     0     25    57        94 0.000000 65.273791
    2     3     118      95     7673     7673      7471      7471      0     124   145     0       0     0     62   124        26 65.273791 65.238851
    3     6     341     266    22199    22199     21047     21047      0      99   103     0       0     0    289    99        16 65.238851 65.285927
    4    21    1218     318    25819    25819     24830     24830      0      59    62     0       0     0    347    59        22 65.285927 4.525607
    5    73    4691     166    12714    12714     12193     12193      0       0     0     0       0     0    160     0         0 4.525607 0.000000
user_io:26777.441MB total_ios: 101662.420MB WriteAmplification: 3.7966
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13735.996 MB data into db.)


2025-01-06 12:14:22 ... thread 0: (100000000,299999999) ops and (124868.3,135125.6) ops/second in (800.844016,2220.156105) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     308     466        0        0     40371     40371      0     105   781     0       0     0      0   105         0 0.000000 0.000000
    1     0       0     333    40147    40147     13942     13942      0      92   139     0       0     0     37    92       131 0.000000 65.274367
    2     1      65     153    12515    12515     11895     11895      0     183   216     0       0     0    103   183        37 65.274367 65.286042
    3     8     327     407    33486    33486     31894     31894      0     154   161     0       0     0    438   154        21 65.286042 65.264822
    4    22    1294     493    39463    39463     38028     38028      0      94    98     0       0     0    553    94        40 65.264822 65.240938
    5    80    4893     292    22542    22542     21887     21887      0       1     1     0       0     0    281     1        45 65.240938 65.247088
    6    46    2978       1      130      130       130       130      0       0     0     0       0     0      1     0         0 65.247088 0.000000
user_io:40371.314MB total_ios: 158147.086MB WriteAmplification: 3.9173
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27471.990 MB data into db.)


2025-01-06 12:29:02 ... thread 0: (100000000,399999999) ops and (113531.8,128992.0) ops/second in (880.810253,3100.966358) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103     636        0        0     54068     54068      0     139  1052     0       0     0      0   139         0 0.000000 0.000000
    1     0       0     452    54069    54069     18651     18651      0     133   202     0       0     0     48   133       162 0.000000 65.272676
    2     4     183     223    18172    18172     17158     17158      0     240   285     0       0     0    151   240        47 65.272676 65.282033
    3     6     291     548    44115    44115     42086     42086      0     206   217     0       0     0    586   206        29 65.282033 65.283874
    4    22    1221     676    53053    53053     51168     51168      0     138   144     0       0     0    754   138        49 65.283874 65.198633
    5    82    5079     456    33294    33294     32072     32072      0       2     2     0       0     0    427     2        86 65.198633 65.182078
    6    88    5622       6      483      483       483       483      0       0     0     0       0     0      6     0         0 65.182078 0.000000
user_io:54067.847MB total_ios: 215685.790MB WriteAmplification: 3.9892
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41207.983 MB data into db.)


2025-01-06 12:45:25 ... thread 0: (100000000,499999999) ops and (101726.7,122429.2) ops/second in (983.026199,4083.992557) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     825        0        0     67918     67918      0     173  1324     0       0     0      0   173         0 0.000000 0.000000
    1     3     134     578    68046    68046     23225     23225      0     173   263     0       0     0     61   173       189 0.000000 65.275343
    2     1      49     295    23445    23445     22121     22121      0     297   350     0       0     0    195   297        58 65.275343 65.282598
    3     6     288     701    54690    54690     52338     52338      0     262   277     0       0     0    724   262        32 65.282598 65.284801
    4    25    1241     855    65921    65921     63508     63508      0     181   191     0       0     0    936   181        56 65.284801 46.971054
    5    81    5099     641    45854    45854     44130     44130      0      22    22     0       0     0    596    22       111 46.971054 24.724288
    6   123    7785      53     3777     3777      3088      3088      0       0     0     0       0     0     47     0         0 24.724288 0.000000
user_io:67918.264MB total_ios: 276327.297MB WriteAmplification: 4.0685
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54943.976 MB data into db.)


2025-01-06 13:02:35 ... thread 0: (100000000,599999999) ops and (97118.6,117332.8) ops/second in (1029.668358,5113.660915) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103    1007        0        0     81563     81563      0     206  1588     0       0     0      0   206         0 0.000000 0.000000
    1     0       0     698    81616    81616     27876     27876      0     211   323     0       0     0     74   211       222 0.000000 65.276051
    2     4     183     369    28963    28963     27257     27257      0     359   419     0       0     0    238   359        70 65.276051 2.547482
    3     7     276     856    65904    65904     63128     63128      0     316   335     0       0     0    879   316        38 2.547482 65.266172
    4    23    1279    1048    79991    79991     76922     76922      0     216   228     0       0     0   1154   216        70 65.266172 65.259828
    5    83    5108     781    55906    55906     54170     54170      0      70    70     0       0     0    727    70       111 65.259828 24.724288
    6   169   10785     181    12073    12073     11271     11271      0       0     0     0       0     0    150     0         0 24.724288 0.000000
user_io:81563.500MB total_ios: 342187.413MB WriteAmplification: 4.1953
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68679.969 MB data into db.)


2025-01-06 13:19:18 ... thread 0: (100000000,699999999) ops and (99747.5,114450.3) ops/second in (1002.531710,6116.192625) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359    1186        0        0     95363     95363      0     239  1852     0       0     0      0   239         0 0.000000 0.000000
    1     0       0     818    95191    95191     32375     32375      0     248   377     0       0     0     89   248       254 0.000000 65.209279
    2     1      65     434    33901    33901     31888     31888      0     417   486     0       0     0    279   417        82 65.209279 65.282408
    3     7     326    1003    76726    76726     73572     73572      0     369   390     0       0     0   1025   369        45 65.282408 65.284822
    4    25    1287    1224    92832    92832     89347     89347      0     260   275     0       0     0   1348   260        79 65.284822 65.222717
    5    81    5066     930    67206    67206     64758     64758      0     115   115     0       0     0    882   115       111 65.222717 24.724288
    6   211   13531     312    20038    20038     19226     19226      0       0     0     0       0     0    266     0         0 24.724288 0.000000
user_io:95362.584MB total_ios: 406528.772MB WriteAmplification: 4.2630
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82415.963 MB data into db.)


2025-01-06 13:36:49 ... thread 0: (100000000,799999999) ops and (95141.9,111618.8) ops/second in (1051.061923,7167.254548) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256    1365        0        0    109213    109213      0     273  2124     0       0     0      0   273         0 0.000000 0.000000
    1     0       0     940   109176   109176     36904     36904      0     283   431     0       0     0    105   283       286 0.000000 65.275977
    2     2      69     498    38731    38731     36502     36502      0     480   558     0       0     0    315   480        91 65.275977 65.283178
    3     6     300    1145    87215    87215     83625     83625      0     423   449     0       0     0   1162   423        50 65.283178 65.284254
    4    22    1297    1426   106846   106846    102801    102801      0     305   329     0       0     0   1551   305        82 65.284254 65.202106
    5    84    4942    1106    78533    78533     75554     75554      0     160   160     0       0     0   1032   160       111 65.202106 24.724288
    6   246   15963     446    28469    28469     27196     27196      0       0     0     0       0     0    381     0         0 24.724288 0.000000
user_io:109212.982MB total_ios: 471795.712MB WriteAmplification: 4.3200
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96151.958 MB data into db.)


2025-01-06 13:53:50 ... thread 0: (100000000,899999999) ops and (97943.9,109913.6) ops/second in (1020.992459,8188.247007) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1531        0        0    122961    122961      0     307  2396     0       0     0      0   307         0 0.000000 0.000000
    1     0       0    1063   123166   123166     41593     41593      0     321   488     0       0     0    121   321       318 0.000000 65.207920
    2     3     179     563    43867    43867     41300     41300      0     541   627     0       0     0    354   541       103 65.207920 44.304181
    3     6     319    1286    98045    98045     93992     93992      0     475   504     0       0     0   1311   475        55 44.304181 65.277705
    4    21    1238    1593   119636   119636    115206    115206      0     346   374     0       0     0   1742   346        93 65.277705 65.277601
    5    93    5103    1267    89905    89905     86878     86878      0     210   211     0       0     0   1199   210       111 65.277601 24.724288
    6   282   18289     614    39565    39565     37432     37432      0       0     0     0       0     0    525     0         0 24.724288 0.000000
user_io:122960.855MB total_ios: 539361.596MB WriteAmplification: 4.3864
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109887.955 MB data into db.)


2025-01-06 14:10:48 ... thread 0: (100000000,999999999) ops and (98161.8,108613.3) ops/second in (1018.725991,9206.972998) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     308    1706        0        0    136760    136760      0     340  2660     0       0     0      0   340         0 0.000000 0.000000
    1     1       4    1178   136730   136730     46083     46083      0     355   541     0       0     0    133   355       353 0.000000 65.210108
    2     2     130     624    48696    48696     45852     45852      0     598   697     0       0     0    392   598       114 65.210108 65.282707
    3     7     321    1420   108428   108428    103917    103917      0     527   562     0       0     0   1449   527        60 65.282707 35.546920
    4    23    1250    1774   133331   133331    128367    128367      0     395   429     0       0     0   1945   395        93 35.546920 65.277601
    5    93    5109    1416   101501   101501     98004     98004      0     254   257     0       0     0   1369   254       111 65.277601 24.724288
    6   325   21021     782    49914    49914     47760     47760      0       0     0     0       0     0    664     0         0 24.724288 0.000000
user_io:136759.977MB total_ios: 606743.330MB WriteAmplification: 4.4366
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123623.953 MB data into db.)


1000000000 operations have been finished (137359.952 MB data have been written into db)
fillzipf     :       9.207 micros/op 108613 ops/sec;   14.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 9.2070  StdDev: 107.79
Percentiles: P50: 5.62 P75: 6.57 P99: 11.19 P99.9: 1140.09 P99.99: 1195.65
------------------------------------------------------
[       2,       3 )  234664   0.023%   0.023%
[       3,       4 ) 78211906   7.821%   7.845% ##
[       4,       5 ) 211588336  21.159%  29.003% ####
[       5,       6 ) 339545901  33.955%  62.958% #######
[       6,       7 ) 213077094  21.308%  84.266% ####
[       7,       8 ) 92216267   9.222%  93.487% ##
[       8,       9 ) 36191965   3.619%  97.107% #
[       9,      10 ) 14140814   1.414%  98.521%
[      10,      12 ) 8073002   0.807%  99.328%
[      12,      14 ) 1655002   0.166%  99.493%
[      14,      16 )  549999   0.055%  99.548%
[      16,      18 )  303525   0.030%  99.579%
[      18,      20 )  249528   0.025%  99.604%
[      20,      25 )  387108   0.039%  99.643%
[      25,      30 )  133593   0.013%  99.656%
[      30,      35 )   43466   0.004%  99.660%
[      35,      40 )   19926   0.002%  99.662%
[      40,      45 )   11905   0.001%  99.663%
[      45,      50 )    7140   0.001%  99.664%
[      50,      60 )   22341   0.002%  99.666%
[      60,      70 )   24122   0.002%  99.669%
[      70,      80 )    6904   0.001%  99.669%
[      80,      90 )    6394   0.001%  99.670%
[      90,     100 )    3299   0.000%  99.670%
[     100,     120 )    6116   0.001%  99.671%
[     120,     140 )    3890   0.000%  99.671%
[     140,     160 )    1726   0.000%  99.672%
[     160,     180 )    1485   0.000%  99.672%
[     180,     200 )    1670   0.000%  99.672%
[     200,     250 )    6151   0.001%  99.673%
[     250,     300 )    1296   0.000%  99.673%
[     300,     350 )    1023   0.000%  99.673%
[     350,     400 )     773   0.000%  99.673%
[     400,     450 )     498   0.000%  99.673%
[     450,     500 )     392   0.000%  99.673%
[     500,     600 )     521   0.000%  99.673%
[     600,     700 )     327   0.000%  99.673%
[     700,     800 )     278   0.000%  99.673%
[     800,     900 )     189   0.000%  99.673%
[     900,    1000 )     147   0.000%  99.673%
[    1000,    1200 ) 3239754   0.324%  99.997%
[    1200,    1400 )    2958   0.000%  99.997%
[    1400,    1600 )    1280   0.000%  99.997%
[    1600,    1800 )     738   0.000%  99.998%
[    1800,    2000 )     585   0.000%  99.998%
[    2000,    2500 )    1007   0.000%  99.998%
[    2500,    3000 )     802   0.000%  99.998%
[    3000,    3500 )     664   0.000%  99.998%
[    3500,    4000 )     641   0.000%  99.998%
[    4000,    4500 )     597   0.000%  99.998%
[    4500,    5000 )     647   0.000%  99.998%
[    5000,    6000 )    1235   0.000%  99.998%
[    6000,    7000 )    1191   0.000%  99.998%
[    7000,    8000 )    1096   0.000%  99.998%
[    8000,    9000 )    1073   0.000%  99.998%
[    9000,   10000 )    1036   0.000%  99.999%
[   10000,   12000 )    1939   0.000%  99.999%
[   12000,   14000 )    2096   0.000%  99.999%
[   14000,   16000 )    1816   0.000%  99.999%
[   16000,   18000 )    1578   0.000%  99.999%
[   18000,   20000 )    1210   0.000%  99.999%
[   20000,   25000 )    2081   0.000% 100.000%
[   25000,   30000 )    1281   0.000% 100.000%
[   30000,   35000 )     811   0.000% 100.000%
[   35000,   40000 )     489   0.000% 100.000%
[   40000,   45000 )     274   0.000% 100.000%
[   45000,   50000 )     172   0.000% 100.000%
[   50000,   60000 )     164   0.000% 100.000%
[   60000,   70000 )      58   0.000% 100.000%
[   70000,   80000 )      25   0.000% 100.000%
[   80000,   90000 )      11   0.000% 100.000%
[   90000,  100000 )       5   0.000% 100.000%
[  100000,  120000 )       2   0.000% 100.000%
[  140000,  160000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        6      308      1706        0    136760
  1        1        4      1178   136730     46083
  2        2      130       624    48696     45852
  3        7      321      1420   108428    103917
  4       23     1250      1774   133331    128367
  5       93     5109      1416   101501     98004
  6      325    21021       782    49914     47760
user_io:136759.977MB total_ios: 606743.330MB WriteAmplification: 4.4366

Checking if iostat process with PID 2323445 is still running...
    PID TTY          TIME CMD
2323445 pts/4    00:00:00 iostat
iostat process 2323445 is still running, killing now...
iostat process 2323445 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 2323445 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2323446':

     12,035,481.22 msec task-clock                       #    1.307 CPUs utilized
         4,261,914      context-switches                 #  354.112 /sec
             4,419      cpu-migrations                   #    0.367 /sec
        19,406,655      page-faults                      #    1.612 K/sec
37,999,767,803,744      cycles                           #    3.157 GHz
79,734,599,927,893      instructions                     #    2.10  insn per cycle
11,310,852,349,813      branches                         #  939.792 M/sec
    29,946,764,724      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      1.8 %  tma_backend_bound
                                                  #     90.9 %  tma_bad_speculation
                                                  #      3.4 %  tma_frontend_bound
                                                  #      3.9 %  tma_retiring

    9206.444300258 seconds time elapsed
