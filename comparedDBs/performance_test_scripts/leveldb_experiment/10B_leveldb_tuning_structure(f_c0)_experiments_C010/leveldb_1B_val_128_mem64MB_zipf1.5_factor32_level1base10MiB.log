LevelDB:    version 1.23
Date:       Tue Jan  7 16:13:42 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f32_1.5_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f32_1.5_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2817903
../../../leveldb/build_release_f_32_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f32_1.5_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.5_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.5_f32_memory_usage_1B_key16_val128_mem64MiB_factor32_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.5_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 16:20:49 ... thread 0: (99999999,99999999) ops and (234114.6,234114.6) ops/second in (427.141279,427.141279) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    1     0       0     156        0        0     13601     13601      0     269   269     0       0     0      0   269         0 0.000000 0.000000
    2     1      42     119    20479    20479      6920      6920      0       0     0     0       0     0    269     0         0 0.000000 0.000000
user_io:0.000MB total_ios: 20521.476MB WriteAmplification: inf
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 16:28:00 ... thread 0: (100000000,199999999) ops and (231967.2,233035.9) ops/second in (431.095486,858.236765) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51      14        0        0      1264      1264      0       6    24     0       0     0      0     6         0 0.000000 0.000000
    1     1       8     305     1239     1239     26074     26074      0     515   515     0       0     0      5   515         0 0.000000 0.000000
    2     2      65     309    46241    46241     20267     20267      0       0     0     0       0     0    515     0         0 0.000000 0.000000
user_io:1264.036MB total_ios: 47604.566MB WriteAmplification: 37.6608
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-07 16:35:05 ... thread 0: (100000000,299999999) ops and (235154.6,233737.9) ops/second in (425.252128,1283.488893) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     172        0        0     14916     14916      0      73   292     0       0     0      0    73         0 0.000000 0.000000
    1     1       3     360    15157    15157     26527     26527      0     524   524     0       0     0     63   524         0 0.000000 0.000000
    2     2      88     318    47013    47013     20969     20969      0       0     0     0       0     0    533     0         0 0.000000 0.000000
user_io:14915.626MB total_ios: 62411.346MB WriteAmplification: 4.1843
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-07 16:42:09 ... thread 0: (100000000,399999999) ops and (235686.6,234222.0) ops/second in (424.292326,1707.781219) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     101     335        0        0     28618     28618      0     141   564     0       0     0      0   141         0 0.000000 0.000000
    1     1       8     417    29277    29277     26980     26980      0     532   532     0       0     0    123   532         0 0.000000 0.000000
    2     2     105     328    47859    47859     21751     21751      0       0     0     0       0     0    549     0         0 0.000000 0.000000
user_io:28617.782MB total_ios: 77349.591MB WriteAmplification: 2.7029
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-07 16:49:15 ... thread 0: (100000000,499999999) ops and (234944.5,234366.2) ops/second in (425.632421,2133.413640) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     498        0        0     42320     42320      0     209   836     0       0     0      0   209         0 0.000000 0.000000
    1     1       3     474    43404    43404     27442     27442      0     541   541     0       0     0    182   541         0 0.000000 0.000000
    2     2     124     341    48974    48974     22792     22792      0       0     0     0       0     0    567     0         0 0.000000 0.000000
user_io:42319.936MB total_ios: 92554.350MB WriteAmplification: 2.1870
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-07 16:56:20 ... thread 0: (100000000,599999999) ops and (235092.7,234486.9) ops/second in (425.364211,2558.777851) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     202     659        0        0     56022     56022      0     277  1108     0       0     0      0   277         0 0.000000 0.000000
    1     1       6     530    57315    57315     27888     27888      0     549   549     0       0     0    242   549         0 0.000000 0.000000
    2     3     139     355    50099    50099     23851     23851      0       0     0     0       0     0    587     0         0 0.000000 0.000000
user_io:56022.087MB total_ios: 107761.211MB WriteAmplification: 1.9235
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-07 17:03:26 ... thread 0: (100000000,699999999) ops and (235072.0,234570.3) ops/second in (425.401633,2984.179484) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     819        0        0     69724     69724      0     344  1376     0       0     0      0   344         0 0.000000 0.000000
    1     0       0     587    71448    71448     28354     28354      0     558   558     0       0     0    301   558         0 0.000000 0.000000
    2     3     155     371    51506    51506     25182     25182      0       0     0     0       0     0    614     0         0 0.000000 0.000000
user_io:69724.240MB total_ios: 123260.433MB WriteAmplification: 1.7678
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-07 17:10:29 ... thread 0: (100000000,799999999) ops and (236162.5,234768.2) ops/second in (423.437226,3407.616710) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     971        0        0     83376     83376      0     412  1648     0       0     0      0   412         0 0.000000 0.000000
    1     1       6     644    85561    85561     28803     28803      0     566   566     0       0     0    360   566         0 0.000000 0.000000
    2     3     169     387    52876    52876     26484     26484      0       0     0     0       0     0    638     0         0 0.000000 0.000000
user_io:83375.825MB total_ios: 138662.813MB WriteAmplification: 1.6631
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-07 17:17:33 ... thread 0: (100000000,899999999) ops and (236278.8,234935.1) ops/second in (423.228778,3830.845488) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1122        0        0     97078     97078      0     480  1920     0       0     0      0   480         0 0.000000 0.000000
    1     1      10     700    99695    99695     29269     29269      0     575   575     0       0     0    420   575         0 0.000000 0.000000
    2     3     182     404    54354    54354     27894     27894      0       0     0     0       0     0    665     0         0 0.000000 0.000000
user_io:97077.975MB total_ios: 154240.650MB WriteAmplification: 1.5888
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-07 17:24:36 ... thread 0: (100000000,999999999) ops and (236177.4,235058.7) ops/second in (423.410489,4254.255977) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1274        0        0    110780    110780      0     547  2188     0       0     0      0   547         0 0.000000 0.000000
    1     1       5     755   113600   113600     29711     29711      0     583   583     0       0     0    478   583         0 0.000000 0.000000
    2     4     196     425    56140    56140     29602     29602      0       0     0     0       0     0    689     0         0 0.000000 0.000000
user_io:110780.120MB total_ios: 170093.376MB WriteAmplification: 1.5354
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :       4.254 micros/op 235058 ops/sec;   32.3 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.2543  StdDev: 18.08
Percentiles: P50: 4.60 P75: 5.51 P99: 8.00 P99.9: 9.94 P99.99: 23.94
------------------------------------------------------
[       2,       3 ) 3415668   0.342%   0.342%
[       3,       4 ) 325581484  32.558%  32.900% #######
[       4,       5 ) 283087672  28.309%  61.208% ######
[       5,       6 ) 270081737  27.008%  88.217% #####
[       6,       7 ) 83852698   8.385%  96.602% ##
[       7,       8 ) 24016120   2.402%  99.004%
[       8,       9 ) 7071864   0.707%  99.711%
[       9,      10 ) 2015312   0.202%  99.912%
[      10,      12 )  676921   0.068%  99.980%
[      12,      14 )   59924   0.006%  99.986%
[      14,      16 )   17261   0.002%  99.988%
[      16,      18 )    5441   0.001%  99.988%
[      18,      20 )    3879   0.000%  99.989%
[      20,      25 )   17776   0.002%  99.990%
[      25,      30 )   18302   0.002%  99.992%
[      30,      35 )   14396   0.001%  99.994%
[      35,      40 )    6879   0.001%  99.994%
[      40,      45 )    4937   0.000%  99.995%
[      45,      50 )    4283   0.000%  99.995%
[      50,      60 )   11863   0.001%  99.996%
[      60,      70 )    2758   0.000%  99.997%
[      70,      80 )    1641   0.000%  99.997%
[      80,      90 )    1653   0.000%  99.997%
[      90,     100 )    1110   0.000%  99.997%
[     100,     120 )    4961   0.000%  99.998%
[     120,     140 )    2848   0.000%  99.998%
[     140,     160 )    2239   0.000%  99.998%
[     160,     180 )    1943   0.000%  99.998%
[     180,     200 )    1904   0.000%  99.999%
[     200,     250 )    8434   0.001%  99.999%
[     250,     300 )     318   0.000%  99.999%
[     300,     350 )     195   0.000%  99.999%
[     350,     400 )     146   0.000%  99.999%
[     400,     450 )     105   0.000%  99.999%
[     450,     500 )      94   0.000%  99.999%
[     500,     600 )     149   0.000%  99.999%
[     600,     700 )      67   0.000%  99.999%
[     700,     800 )      41   0.000% 100.000%
[     800,     900 )      26   0.000% 100.000%
[     900,    1000 )     282   0.000% 100.000%
[    1000,    1200 )     384   0.000% 100.000%
[    1200,    1400 )     183   0.000% 100.000%
[    1400,    1600 )     393   0.000% 100.000%
[    1600,    1800 )     540   0.000% 100.000%
[    1800,    2000 )     209   0.000% 100.000%
[    2000,    2500 )     493   0.000% 100.000%
[    2500,    3000 )     308   0.000% 100.000%
[    3000,    3500 )     160   0.000% 100.000%
[    3500,    4000 )     141   0.000% 100.000%
[    4000,    4500 )      92   0.000% 100.000%
[    4500,    5000 )      84   0.000% 100.000%
[    5000,    6000 )     112   0.000% 100.000%
[    6000,    7000 )      99   0.000% 100.000%
[    7000,    8000 )     366   0.000% 100.000%
[    8000,    9000 )     312   0.000% 100.000%
[    9000,   10000 )      82   0.000% 100.000%
[   10000,   12000 )     112   0.000% 100.000%
[   12000,   14000 )     148   0.000% 100.000%
[   14000,   16000 )     102   0.000% 100.000%
[   16000,   18000 )      80   0.000% 100.000%
[   18000,   20000 )      77   0.000% 100.000%
[   20000,   25000 )     108   0.000% 100.000%
[   25000,   30000 )      46   0.000% 100.000%
[   30000,   35000 )      20   0.000% 100.000%
[   35000,   40000 )      12   0.000% 100.000%
[   40000,   45000 )       1   0.000% 100.000%
[   45000,   50000 )       3   0.000% 100.000%
[   50000,   60000 )       2   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        3      152      1274        0    110780
  1        1        5       755   113600     29711
  2        4      196       425    56140     29602
user_io:110780.120MB total_ios: 170093.376MB WriteAmplification: 1.5354

Checking if iostat process with PID 2817902 is still running...
    PID TTY          TIME CMD
2817902 pts/11   00:00:00 iostat
iostat process 2817902 is still running, killing now...
iostat process 2817902 has been successfully killed.
./leveldb_script_zipf_C010.sh: line 132: 2817902 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log
root@jeffwang-NF5280M6:/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment#
 Performance counter stats for process id '2817903':

      6,298,626.30 msec task-clock                       #    1.481 CPUs utilized
           243,961      context-switches                 #   38.732 /sec
             1,016      cpu-migrations                   #    0.161 /sec
         5,671,843      page-faults                      #  900.489 /sec
20,768,221,193,547      cycles                           #    3.297 GHz
43,784,472,539,263      instructions                     #    2.11  insn per cycle
 6,287,466,665,642      branches                         #  998.228 M/sec
    16,768,085,317      branch-misses                    #    0.27% of all branches
                        TopdownL1                 #     13.1 %  tma_backend_bound
                                                  #     69.3 %  tma_bad_speculation
                                                  #     11.0 %  tma_frontend_bound
                                                  #      6.6 %  tma_retiring

    4253.412886999 seconds time elapsed
