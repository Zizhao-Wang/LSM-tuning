LevelDB:    version 1.23
Date:       Mon Jan  6 15:42:54 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.3_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.3_mem64MiB_level1base_10
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2414997
../../../leveldb/build_release_f_10_C0_10/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_10/leveldb_f4_1.3_mem64MiB_level1base_10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.3_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C010/leveldb_zipf1.3_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base10MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.3_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 15:50:43 ... thread 0: (99999999,99999999) ops and (213292.7,213292.7) ops/second in (468.839315,468.839315) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0      29        0        0      2430      2430      0      12    48     0       0     0      0    12         0 0.000000 0.000000
    1     0       0     116     2430     2430      8988      8988      0     158   158     0       0     0      0   158        29 0.000000 10.761705
    2     1      36     107    12065    12065      6834      6834      0      74    74     0       0     0    158    74         1 10.761705 50.624468
    3     3     138      77     8695     8695      5307      5307      0       2     2     0       0     0    117     2         1 50.624468 65.286660
    4     3     144       3      297      297       246       246      0       0     0     0       0     0      3     0         0 65.286660 0.000000
user_io:2430.007MB total_ios: 23805.023MB WriteAmplification: 9.7963
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 15:58:38 ... thread 0: (100000000,199999999) ops and (210510.2,211892.3) ops/second in (475.036462,943.875777) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152      86        0        0      7088      7088      0      30   137     0       0     0      0    30         0 0.000000 0.000000
    1     0       0     245     6936     6936     18276     18276      0     333   333     0       0     0      0   333        51 0.000000 50.624928
    2     1      51     196    25520    25520     12017     12017      0      97    97     0       0     0    333    97         1 50.624928 50.624468
    3     3     179     124    12868    12868      8911      8911      0       8     8     0       0     0    180     8         1 50.624468 65.286660
    4     5     326      23     2008     2008      1747      1747      0       0     0     0       0     0     26     0         0 65.286660 0.000000
user_io:7087.527MB total_ios: 48039.249MB WriteAmplification: 6.7780
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.913 MB data into db.)


2025-01-06 16:06:47 ... thread 0: (100000000,299999999) ops and (204505.9,209371.6) ops/second in (488.983430,1432.859207) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     131        0        0     10935     10935      0      43   216     0       0     0      0    43         0 0.000000 0.000000
    1     1      51     383    10935    10935     28339     28339      0     518   518     0       0     0      0   518        74 0.000000 10.724135
    2     1      20     290    39898    39898     17414     17414      0     119   119     0       0     0    518   119         1 10.724135 50.624468
    3     3     140     173    17265    17265     12666     12666      0      15    15     0       0     0    239    15         1 50.624468 65.286660
    4     8     521      62     5316     5316      4792      4792      0       0     0     0       0     0     73     0         0 65.286660 0.000000
user_io:10935.042MB total_ios: 74145.936MB WriteAmplification: 6.7806
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.826 MB data into db.)


2025-01-06 16:14:38 ... thread 0: (100000000,399999999) ops and (212151.8,210059.8) ops/second in (471.360611,1904.219818) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     193        0        0     16099     16099      0      65   318     0       0     0      0    65         0 0.000000 0.000000
    1     0       0     506    16099    16099     37107     37107      0     687   687     0       0     0      0   687        95 0.000000 18.301694
    2     1      30     377    52763    52763     22432     22432      0     140   140     0       0     0    687   140         1 18.301694 50.624468
    3     2      98     219    21336    21336     16107     16107      0      21    21     0       0     0    297    21         1 50.624468 65.286660
    4    10     601      81     6740     6740      6052      6052      0       1     1     0       0     0     91     1         1 65.286660 65.285314
    5     2      93       1      131      131        93        93      0       0     0     0       0     0      1     0         0 65.285314 0.000000
user_io:16098.812MB total_ios: 97889.589MB WriteAmplification: 6.0805
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.739 MB data into db.)


2025-01-06 16:22:47 ... thread 0: (100000000,499999999) ops and (204554.0,208935.0) ops/second in (488.868572,2393.088390) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     262        0        0     21769     21769      0      87   430     0       0     0      0    87         0 0.000000 0.000000
    1     0       0     630    21769    21769     45438     45438      0     848   848     0       0     0      0   848       115 0.000000 18.356362
    2     1      37     460    64925    64925     27185     27185      0     160   160     0       0     0    848   160         1 18.356362 50.624468
    3     2     113     263    25069    25069     19333     19333      0      27    27     0       0     0    351    27         1 50.624468 65.286660
    4    11     612     116     9446     9446      8703      8703      0       6     6     0       0     0    129     6         1 65.286660 65.285314
    5     4     212      13     1187     1187       942       942      0       0     0     0       0     0     14     0         0 65.285314 0.000000
user_io:21768.837MB total_ios: 123370.121MB WriteAmplification: 5.6673
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.652 MB data into db.)


2025-01-06 16:31:06 ... thread 0: (100000000,599999999) ops and (200416.2,207465.3) ops/second in (498.961742,2892.050132) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     342        0        0     27894     27894      0     112   551     0       0     0      0   112         0 0.000000 0.000000
    1     0       0     753    27894    27894     53289     53289      0    1003  1003     0       0     0      0  1003       134 0.000000 10.748590
    2     1      40     541    76455    76455     31734     31734      0     179   179     0       0     0   1003   179         1 10.748590 50.624468
    3     3     148     306    28588    28588     22346     22346      0      32    32     0       0     0    401    32         1 50.624468 65.286660
    4    10     600     152    11874    11874     11119     11119      0      10    10     0       0     0    164    10         2 65.286660 65.283806
    5     7     415      28     2394     2394      2026      2026      0       0     0     0       0     0     31     0         0 65.283806 0.000000
user_io:27894.479MB total_ios: 148407.689MB WriteAmplification: 5.3203
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.565 MB data into db.)


2025-01-06 16:39:09 ... thread 0: (100000000,699999999) ops and (207081.3,207410.3) ops/second in (482.902123,3374.952255) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     404        0        0     32906     32906      0     134   646     0       0     0      0   134         0 0.000000 0.000000
    1     0       0     889    32704    32704     62297     62297      0    1176  1176     0       0     0      0  1176       156 0.000000 50.625075
    2     1      51     632    89423    89423     36710     36710      0     202   202     0       0     0   1176   202         1 50.625075 50.624468
    3     3     187     355    32549    32549     25639     25639      0      35    36     0       0     0    460    35         2 50.624468 65.287991
    4    11     636     165    12872    12872     12051     12051      0      11    11     0       0     0    177    11         4 65.287991 65.278966
    5     9     585      34     2809     2809      2414      2414      0       0     0     0       0     0     37     0         0 65.278966 0.000000
user_io:32906.371MB total_ios: 172016.398MB WriteAmplification: 5.2274
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.478 MB data into db.)


2025-01-06 16:47:13 ... thread 0: (100000000,799999999) ops and (206451.3,207290.0) ops/second in (484.375779,3859.328034) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     459        0        0     37159     37159      0     151   734     0       0     0      0   151         0 0.000000 0.000000
    1     0       0    1028    37159    37159     71933     71933      0    1356  1356     0       0     0      0  1356       179 0.000000 10.738328
    2     1      22     725   103310   103310     41993     41993      0     224   224     0       0     0   1356   224         1 10.738328 50.624468
    3     3     148     406    36912    36912     29359     29359      0      42    43     0       0     0    519    42         2 50.624468 65.287991
    4    10     588     190    14901    14901     13836     13836      0      11    11     0       0     0    206    11         8 65.287991 65.259477
    5    13     846      34     2809     2809      2414      2414      0       0     0     0       0     0     37     0         0 65.259477 0.000000
user_io:37158.882MB total_ios: 196693.825MB WriteAmplification: 5.2933
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.391 MB data into db.)


2025-01-06 16:55:21 ... thread 0: (100000000,899999999) ops and (205232.2,207059.3) ops/second in (487.253037,4346.581071) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     528        0        0     42525     42525      0     173   840     0       0     0      0   173         0 0.000000 0.000000
    1     0       0    1160    42525    42525     80557     80557      0    1522  1522     0       0     0      0  1522       200 0.000000 14.561423
    2     1      31     814   115926   115926     46957     46957      0     245   245     0       0     0   1522   245         1 14.561423 50.624468
    3     2     109     455    40921    40921     32742     32742      0      48    49     0       0     0    577    48         2 50.624468 65.287991
    4    11     593     216    16901    16901     15662     15662      0      13    13     0       0     0    236    13         9 65.287991 65.253599
    5    16    1041      38     3135     3135      2740      2740      0       0     0     0       0     0     40     0         0 65.253599 0.000000
user_io:42525.145MB total_ios: 221182.395MB WriteAmplification: 5.2012
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.304 MB data into db.)


2025-01-06 17:03:38 ... thread 0: (100000000,999999999) ops and (200914.5,206427.9) ops/second in (497.724271,4844.305342) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     586        0        0     47132     47132      0     190   931     0       0     0      0   190         0 0.000000 0.000000
    1     1      51    1299    47132    47132     89895     89895      0    1697  1697     0       0     0      0  1697       221 0.000000 18.253569
    2     1      41     911   129499   129499     52212     52212      0     267   267     0       0     0   1697   267         1 18.253569 50.624468
    3     2     116     505    44883    44883     36144     36144      0      54    55     0       0     0    636    54         2 50.624468 65.287991
    4    10     587     248    19389    19389     17882     17882      0      13    13     0       0     0    272    13        11 65.287991 65.224347
    5    18    1171      38     3135     3135      2740      2740      0       0     0     0       0     0     40     0         0 65.224347 0.000000
user_io:47132.030MB total_ios: 246005.075MB WriteAmplification: 5.2195
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.217 MB data into db.)


1000000000 operations have been finished (137329.130 MB data have been written into db)
fillzipf     :       4.844 micros/op 206427 ops/sec;   28.3 MB/s
Microseconds per op:
Count: 1000000000  Average: 4.8443  StdDev: 48.86
Percentiles: P50: 5.05 P75: 5.81 P99: 8.69 P99.9: 11.55 P99.99: 1045.70
------------------------------------------------------
[       2,       3 )  686450   0.069%   0.069%
[       3,       4 ) 206696601  20.670%  20.738% ####
[       4,       5 ) 276940668  27.694%  48.432% ######
[       5,       6 ) 326475051  32.648%  81.080% #######
[       6,       7 ) 130224419  13.022%  94.102% ###
[       7,       8 ) 40404312   4.040%  98.143% #
[       8,       9 ) 12464569   1.246%  99.389%
[       9,      10 ) 3893745   0.389%  99.779%
[      10,      12 ) 1564155   0.156%  99.935%
[      12,      14 )  199460   0.020%  99.955%
[      14,      16 )   71354   0.007%  99.962%
[      16,      18 )   43984   0.004%  99.966%
[      18,      20 )   37250   0.004%  99.970%
[      20,      25 )   53270   0.005%  99.976%
[      25,      30 )   24844   0.002%  99.978%
[      30,      35 )   15530   0.002%  99.980%
[      35,      40 )    9096   0.001%  99.980%
[      40,      45 )    5968   0.001%  99.981%
[      45,      50 )    4105   0.000%  99.981%
[      50,      60 )   19523   0.002%  99.983%
[      60,      70 )    8259   0.001%  99.984%
[      70,      80 )    2009   0.000%  99.984%
[      80,      90 )    3301   0.000%  99.985%
[      90,     100 )    2093   0.000%  99.985%
[     100,     120 )    5791   0.001%  99.986%
[     120,     140 )    3721   0.000%  99.986%
[     140,     160 )    1899   0.000%  99.986%
[     160,     180 )    1784   0.000%  99.986%
[     180,     200 )    1784   0.000%  99.986%
[     200,     250 )    6433   0.001%  99.987%
[     250,     300 )     642   0.000%  99.987%
[     300,     350 )     421   0.000%  99.987%
[     350,     400 )     336   0.000%  99.987%
[     400,     450 )     308   0.000%  99.987%
[     450,     500 )     216   0.000%  99.987%
[     500,     600 )     314   0.000%  99.987%
[     600,     700 )     218   0.000%  99.987%
[     700,     800 )     182   0.000%  99.987%
[     800,     900 )     132   0.000%  99.987%
[     900,    1000 )      87   0.000%  99.987%
[    1000,    1200 )  112548   0.011%  99.999%
[    1200,    1400 )     574   0.000%  99.999%
[    1400,    1600 )     308   0.000%  99.999%
[    1600,    1800 )     471   0.000%  99.999%
[    1800,    2000 )     468   0.000%  99.999%
[    2000,    2500 )    1050   0.000%  99.999%
[    2500,    3000 )     584   0.000%  99.999%
[    3000,    3500 )     519   0.000%  99.999%
[    3500,    4000 )     517   0.000%  99.999%
[    4000,    4500 )     431   0.000%  99.999%
[    4500,    5000 )     316   0.000%  99.999%
[    5000,    6000 )     571   0.000%  99.999%
[    6000,    7000 )     664   0.000%  99.999%
[    7000,    8000 )     633   0.000%  99.999%
[    8000,    9000 )     472   0.000%  99.999%
[    9000,   10000 )     417   0.000%  99.999%
[   10000,   12000 )     849   0.000% 100.000%
[   12000,   14000 )    1060   0.000% 100.000%
[   14000,   16000 )     811   0.000% 100.000%
[   16000,   18000 )     582   0.000% 100.000%
[   18000,   20000 )     407   0.000% 100.000%
[   20000,   25000 )     608   0.000% 100.000%
[   25000,   30000 )     374   0.000% 100.000%
[   30000,   35000 )     218   0.000% 100.000%
[   35000,   40000 )     132   0.000% 100.000%
[   40000,   45000 )      63   0.000% 100.000%
[   45000,   50000 )      40   0.000% 100.000%
[   50000,   60000 )      24   0.000% 100.000%
[   60000,   70000 )       4   0.000% 100.000%
[   70000,   80000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0       586        0     47132
  1        1       51      1299    47132     89895
  2        1       41       911   129499     52212
  3        2      116       505    44883     36144
  4       10      587       248    19389     17882
  5       18     1171        38     3135      2740
user_io:47132.030MB total_ios: 246005.075MB WriteAmplification: 5.2195

Checking if iostat process with PID 2414996 is still running...
    PID TTY          TIME CMD
2414996 pts/4    00:00:00 iostat
iostat process 2414996 is still running, killing now...
iostat process 2414996 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C010.sh: line 45: 2414996 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2414997':

      7,415,149.66 msec task-clock                       #    1.531 CPUs utilized
           498,105      context-switches                 #   67.174 /sec
             1,149      cpu-migrations                   #    0.155 /sec
         6,320,754      page-faults                      #  852.411 /sec
24,186,501,859,102      cycles                           #    3.262 GHz
50,424,697,734,798      instructions                     #    2.08  insn per cycle
 7,237,239,338,305      branches                         #  976.007 M/sec
    19,197,220,720      branch-misses                    #    0.27% of all branches
                        TopdownL1                 #      3.8 %  tma_backend_bound
                                                  #     86.7 %  tma_bad_speculation
                                                  #      5.0 %  tma_frontend_bound
                                                  #      4.5 %  tma_retiring

    4843.970318781 seconds time elapsed
