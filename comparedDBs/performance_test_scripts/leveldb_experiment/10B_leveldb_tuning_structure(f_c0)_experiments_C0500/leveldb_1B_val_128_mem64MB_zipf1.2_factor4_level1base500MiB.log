LevelDB:    version 1.23
Date:       Sun Jan  5 19:17:56 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.2_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.2_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2187137
../../../leveldb/build_release_f_10_C0_500/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.2_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_zipf1.2_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-05 19:27:42 ... thread 0: (99999999,99999999) ops and (170819.5,170819.5) ops/second in (585.413237,585.413237) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     178        0        0     13604     13604      0      66   268     0       0     0      0    66         0 0.000000 0.000000
    1     7     453     320    30289    30289     17845     17845      0       1     8     0       0     0    298     1         0 0.000000 0.000000
    2     8     507       7      555      555       558       558      0       0     0     0       0     0      1     0         0 0.000000 0.000000
user_io:13603.967MB total_ios: 32006.367MB WriteAmplification: 2.3527
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-05 19:40:55 ... thread 0: (100000000,199999999) ops and (126079.7,145078.7) ops/second in (793.149156,1378.562393) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     350        0        0     27360     27360      0     120   537     0       0     0      0   120         0 0.000000 0.000000
    1     8     470     774    69718    69718     44670     44670      0      19    28     0       0     0    728    19         0 0.000000 0.000000
    2    19    1190      98     7765     7765      7214      7214      0       0     0     0       0     0    101     0         0 0.000000 0.000000
user_io:27360.212MB total_ios: 79243.912MB WriteAmplification: 2.8963
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-05 19:54:07 ... thread 0: (100000000,299999999) ops and (126199.9,138188.0) ops/second in (792.393367,2170.955760) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     524        0        0     41066     41066      0     176   808     0       0     0      0   176         0 0.000000 0.000000
    1     9     494    1233   109014   109014     71445     71445      0      34    44     0       0     0   1218    34         0 0.000000 0.000000
    2    27    1714     180    14052    14052     13017     13017      0       0     0     0       0     0    190     0         0 0.000000 0.000000
user_io:41065.690MB total_ios: 125527.846MB WriteAmplification: 3.0568
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-05 20:07:42 ... thread 0: (100000000,399999999) ops and (122695.3,133959.2) ops/second in (815.027288,2985.983048) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     693        0        0     54822     54822      0     231  1080     0       0     0      0   231         0 0.000000 0.000000
    1     9     436    1694   148637   148637     98244     98244      0      48    59     0       0     0   1709    48         1 0.000000 65.286019
    2    31    1988     292    21225    21225     20061     20061      0       0     0     0       0     0    292     0         9 65.286019 65.284552
    3     9     588       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.284552 0.000000
user_io:54821.917MB total_ios: 173127.407MB WriteAmplification: 3.1580
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-05 20:20:59 ... thread 0: (100000000,499999999) ops and (125485.7,132174.2) ops/second in (796.903854,3782.886902) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305     862        0        0     68578     68578      0     281  1349     0       0     0      0   281         0 0.000000 0.000000
    1     9     479    2112   185671   185671    122922    122922      0      68    79     0       0     0   2152    68         1 0.000000 65.286019
    2    31    1943     396    29400    29400     27669     27669      0       3     3     0       0     0    411     3        18 65.286019 65.270506
    3    21    1368      13      974      974       971       971      0       0     0     0       0     0     12     0         0 65.270506 0.000000
user_io:68578.163MB total_ios: 220140.853MB WriteAmplification: 3.2101
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-05 20:34:16 ... thread 0: (100000000,599999999) ops and (125527.2,131017.9) ops/second in (796.640113,4579.527015) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355    1030        0        0     82334     82334      0     333  1615     0       0     0      0   333         0 0.000000 0.000000
    1     9     510    2551   224353   224353    148958    148958      0      85    97     0       0     0   2626    85         1 0.000000 65.286019
    2    32    1971     492    36838    36838     34627     34627      0       6     6     0       0     0    526     6        23 65.286019 65.257065
    3    29    1889      34     2532     2532      2528      2528      0       0     0     0       0     0     33     0         0 65.257065 0.000000
user_io:82334.384MB total_ios: 268447.460MB WriteAmplification: 3.2605
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-05 20:47:38 ... thread 0: (100000000,699999999) ops and (124720.1,130079.5) ops/second in (801.795408,5381.322423) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355    1199        0        0     96091     96091      0     388  1892     0       0     0      0   388         0 0.000000 0.000000
    1    10     440    2995   263418   263418    175169    175169      0      99   112     0       0     0   3134    99         1 0.000000 65.286019
    2    33    1996     589    43625    43625     41251     41251      0      10    10     0       0     0    615    10        31 65.286019 65.236060
    3    41    2672      61     4487     4487      4483      4483      0       0     0     0       0     0     59     0         0 65.236060 0.000000
user_io:96090.605MB total_ios: 316992.948MB WriteAmplification: 3.2989
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-05 21:01:00 ... thread 0: (100000000,799999999) ops and (124665.9,129377.3) ops/second in (802.143823,6183.466246) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1369        0        0    109796    109796      0     442  2163     0       0     0      0   442         0 0.000000 0.000000
    1     9     477    3447   302237   302237    201268    201268      0     114   130     0       0     0   3615   114         1 0.000000 65.286019
    2    31    1966     684    50391    50391     47472     47472      0      10    10     0       0     0    715    10        40 65.286019 65.176532
    3    50    3258      61     4487     4487      4483      4483      0       0     0     0       0     0     59     0         0 65.176532 0.000000
user_io:109796.078MB total_ios: 363019.239MB WriteAmplification: 3.3063
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-05 21:14:28 ... thread 0: (100000000,899999999) ops and (123697.8,128720.6) ops/second in (808.422065,6991.888311) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305    1542        0        0    123552    123552      0     495  2432     0       0     0      0   495         0 0.000000 0.000000
    1     9     468    3898   340738   340738    227253    227253      0     131   148     0       0     0   4079   131         2 0.000000 65.285955
    2    33    1968     770    56973    56973     53593     53593      0      19    19     0       0     0    809    19        42 65.285955 42.438995
    3    54    3474      88     6295     6295      5821      5821      0       0     0     0       0     0     83     0         0 42.438995 0.000000
user_io:123552.315MB total_ios: 410219.617MB WriteAmplification: 3.3202
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-05 21:28:06 ... thread 0: (100000000,999999999) ops and (122232.3,128040.9) ops/second in (818.114567,7810.002878) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355    1717        0        0    137309    137309      0     551  2705     0       0     0      0   551         0 0.000000 0.000000
    1     9     438    4363   380546   380546    254296    254296      0     145   165     0       0     0   4585   145         2 0.000000 65.285955
    2    32    2023     877    64079    64079     60390     60390      0      27    29     0       0     0    914    27        42 65.285955 42.438995
    3    62    3926     116     7839     7839      7210      7210      0       0     0     0       0     0    100     0         0 42.438995 0.000000
user_io:137308.548MB total_ios: 459204.921MB WriteAmplification: 3.3443
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       7.810 micros/op 128040 ops/sec;   17.6 MB/s
Microseconds per op:
Count: 1000000000  Average: 7.8100  StdDev: 94.49
Percentiles: P50: 5.32 P75: 6.13 P99: 9.94 P99.9: 1117.36 P99.99: 1193.60
------------------------------------------------------
[       2,       3 )  626204   0.063%   0.063%
[       3,       4 ) 138106584  13.811%  13.873% ###
[       4,       5 ) 253630240  25.363%  39.236% #####
[       5,       6 ) 334936359  33.494%  72.730% #######
[       6,       7 ) 170048408  17.005%  89.735% ###
[       7,       8 ) 63096600   6.310%  96.044% #
[       8,       9 ) 22012573   2.201%  98.246%
[       9,      10 ) 8014304   0.801%  99.047%
[      10,      12 ) 4335832   0.434%  99.481%
[      12,      14 ) 1014337   0.101%  99.582%
[      14,      16 )  406146   0.041%  99.623%
[      16,      18 )  298690   0.030%  99.653%
[      18,      20 )  312672   0.031%  99.684%
[      20,      25 )  486395   0.049%  99.733%
[      25,      30 )  141993   0.014%  99.747%
[      30,      35 )   44662   0.004%  99.751%
[      35,      40 )   19310   0.002%  99.753%
[      40,      45 )   10564   0.001%  99.754%
[      45,      50 )    5782   0.001%  99.755%
[      50,      60 )   16998   0.002%  99.756%
[      60,      70 )   14744   0.001%  99.758%
[      70,      80 )    3982   0.000%  99.758%
[      80,      90 )    6154   0.001%  99.759%
[      90,     100 )    2843   0.000%  99.759%
[     100,     120 )    5054   0.001%  99.760%
[     120,     140 )    4238   0.000%  99.760%
[     140,     160 )    1747   0.000%  99.760%
[     160,     180 )    1276   0.000%  99.760%
[     180,     200 )    1346   0.000%  99.761%
[     200,     250 )    5087   0.001%  99.761%
[     250,     300 )     744   0.000%  99.761%
[     300,     350 )     499   0.000%  99.761%
[     350,     400 )     398   0.000%  99.761%
[     400,     450 )     300   0.000%  99.761%
[     450,     500 )     247   0.000%  99.761%
[     500,     600 )     417   0.000%  99.761%
[     600,     700 )     317   0.000%  99.761%
[     700,     800 )     253   0.000%  99.761%
[     800,     900 )     208   0.000%  99.761%
[     900,    1000 )     147   0.000%  99.761%
[    1000,    1200 ) 2360925   0.236%  99.998%
[    1200,    1400 )    2308   0.000%  99.998%
[    1400,    1600 )     972   0.000%  99.998%
[    1600,    1800 )     559   0.000%  99.998%
[    1800,    2000 )     485   0.000%  99.998%
[    2000,    2500 )    1068   0.000%  99.998%
[    2500,    3000 )     960   0.000%  99.998%
[    3000,    3500 )     809   0.000%  99.998%
[    3500,    4000 )     564   0.000%  99.998%
[    4000,    4500 )     533   0.000%  99.998%
[    4500,    5000 )     549   0.000%  99.998%
[    5000,    6000 )     924   0.000%  99.999%
[    6000,    7000 )     856   0.000%  99.999%
[    7000,    8000 )     862   0.000%  99.999%
[    8000,    9000 )     864   0.000%  99.999%
[    9000,   10000 )     855   0.000%  99.999%
[   10000,   12000 )    1575   0.000%  99.999%
[   12000,   14000 )    1870   0.000%  99.999%
[   14000,   16000 )    1455   0.000%  99.999%
[   16000,   18000 )    1224   0.000%  99.999%
[   18000,   20000 )     849   0.000% 100.000%
[   20000,   25000 )    1681   0.000% 100.000%
[   25000,   30000 )    1070   0.000% 100.000%
[   30000,   35000 )     555   0.000% 100.000%
[   35000,   40000 )     408   0.000% 100.000%
[   40000,   45000 )     193   0.000% 100.000%
[   45000,   50000 )     141   0.000% 100.000%
[   50000,   60000 )     175   0.000% 100.000%
[   60000,   70000 )      36   0.000% 100.000%
[   70000,   80000 )      12   0.000% 100.000%
[   80000,   90000 )       4   0.000% 100.000%
[   90000,  100000 )       2   0.000% 100.000%
[  100000,  120000 )       3   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        7      355      1717        0    137309
  1        9      438      4363   380546    254296
  2       32     2023       877    64079     60390
  3       62     3926       116     7839      7210
user_io:137308.548MB total_ios: 459204.921MB WriteAmplification: 3.3443

Checking if iostat process with PID 2187136 is still running...
    PID TTY          TIME CMD
2187136 pts/1    00:00:00 iostat
iostat process 2187136 is still running, killing now...
iostat process 2187136 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0500.sh: line 45: 2187136 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2187137':

     10,460,041.94 msec task-clock                       #    1.339 CPUs utilized
         3,145,852      context-switches                 #  300.749 /sec
             2,333      cpu-migrations                   #    0.223 /sec
        16,303,959      page-faults                      #    1.559 K/sec
33,386,251,160,165      cycles                           #    3.192 GHz
70,958,658,726,270      instructions                     #    2.13  insn per cycle
10,134,888,140,160      branches                         #  968.915 M/sec
    24,687,285,488      branch-misses                    #    0.24% of all branches
                        TopdownL1                 #      2.7 %  tma_backend_bound
                                                  #     88.3 %  tma_bad_speculation
                                                  #      4.8 %  tma_frontend_bound
                                                  #      4.2 %  tma_retiring

    7809.992745171 seconds time elapsed
