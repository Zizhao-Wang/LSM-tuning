LevelDB:    version 1.23
Date:       Tue Jan  7 09:53:46 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f32_1.3_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f32_1.3_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2779283
../../../leveldb/build_release_f_10_C0_500/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f32_1.3_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.3_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_zipf1.3_f32_memory_usage_1B_key16_val128_mem64MiB_factor32_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.3_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 10:02:06 ... thread 0: (99999999,99999999) ops and (199933.9,199933.9) ops/second in (500.165327,500.165327) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     164        0        0     13568     13568      0      67   268     0       0     0      0    67         0 0.000000 0.000000
    1     5     270     195    23394    23394     10299     10299      0       0     0     0       0     0    190     0         0 0.000000 0.000000
    2     1      51       1        0        0        51        51      0       0     0     0       0     0      0     0         0 0.000000 0.000000
user_io:13567.551MB total_ios: 23917.550MB WriteAmplification: 1.7628
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 10:11:46 ... thread 0: (100000000,199999999) ops and (172562.3,185242.5) ops/second in (579.500738,1079.666065) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     354     327        0        0     27287     27287      0     134   536     0       0     0      0   134         0 0.000000 0.000000
    1     8     463     591    61586    61586     35116     35116      0       0     0     0       0     0    603     0         0 0.000000 0.000000
    2     1      51       1        0        0        51        51      0       0     0     0       0     0      0     0         0 0.000000 0.000000
user_io:27286.986MB total_ios: 62453.729MB WriteAmplification: 2.2888
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.913 MB data into db.)


2025-01-07 10:20:39 ... thread 0: (100000000,299999999) ops and (187670.7,186044.9) ops/second in (532.848151,1612.514216) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     304     485        0        0     41006     41006      0     201   808     0       0     0      0   201         0 0.000000 0.000000
    1     4     227     833    89268    89268     49295     49295      0       1     8     0       0     0    848     1         0 0.000000 0.000000
    2     8     503       7      553      553       554       554      0       0     0     0       0     0      1     0         0 0.000000 0.000000
user_io:41006.408MB total_ios: 90855.088MB WriteAmplification: 2.2156
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.826 MB data into db.)


2025-01-07 10:29:33 ... thread 0: (100000000,399999999) ops and (187106.4,186309.1) ops/second in (534.455325,2146.969541) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     640        0        0     54675     54675      0     269  1080     0       0     0      0   269         0 0.000000 0.000000
    1     7     429    1187   125485   125485     71944     71944      0       1     8     0       0     0   1229     1         0 0.000000 0.000000
    2     8     503       7      553      553       554       554      0       0     0     0       0     0      1     0         0 0.000000 0.000000
user_io:54675.222MB total_ios: 127172.548MB WriteAmplification: 2.3260
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.739 MB data into db.)


2025-01-07 10:40:19 ... thread 0: (100000000,499999999) ops and (154751.7,179008.3) ops/second in (646.196625,2793.166166) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     304     793        0        0     68395     68395      0     335  1349     0       0     0      0   335         0 0.000000 0.000000
    1     8     466    1649   169982   169982    103120    103120      0       5    12     0       0     0   1736     5         0 0.000000 0.000000
    2     9     535      15     1426     1426      1198      1198      0       0     0     0       0     0     13     0         0 0.000000 0.000000
user_io:68394.634MB total_ios: 172712.454MB WriteAmplification: 2.5252
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.652 MB data into db.)


2025-01-07 10:51:31 ... thread 0: (100000000,599999999) ops and (149001.0,173195.0) ops/second in (671.136213,3464.302379) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     354     946        0        0     82114     82114      0     398  1619     0       0     0      0   398         0 0.000000 0.000000
    1     8     480    2104   213453   213453    133328    133328      0      11    18     0       0     0   2228    11         0 0.000000 0.000000
    2    11     647      40     3655     3655      3147      3147      0       0     0     0       0     0     44     0         0 0.000000 0.000000
user_io:82114.053MB total_ios: 218588.817MB WriteAmplification: 2.6620
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.565 MB data into db.)


2025-01-07 11:02:56 ... thread 0: (100000000,699999999) ops and (145910.8,168688.8) ops/second in (685.350208,4149.652587) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     304    1103        0        0     95833     95833      0     459  1887     0       0     0      0   459         0 0.000000 0.000000
    1     8     503    2554   256638   256638    163158    163158      0      18    25     0       0     0   2728    18         0 0.000000 0.000000
    2    13     772      78     6994     6994      6219      6219      0       0     0     0       0     0    102     0         0 0.000000 0.000000
user_io:95833.486MB total_ios: 265210.144MB WriteAmplification: 2.7674
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.478 MB data into db.)


2025-01-07 11:14:24 ... thread 0: (100000000,799999999) ops and (145375.5,165373.8) ops/second in (687.873706,4837.526293) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     253    1260        0        0    109502    109502      0     523  2162     0       0     0      0   523         0 0.000000 0.000000
    1     8     464    3010   299906   299906    193072    193072      0      23    31     0       0     0   3241    23         0 0.000000 0.000000
    2    16     992     115    10159    10159      9201      9201      0       0     0     0       0     0    138     0         0 0.000000 0.000000
user_io:109502.283MB total_ios: 311774.575MB WriteAmplification: 2.8472
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.391 MB data into db.)


2025-01-07 11:25:22 ... thread 0: (100000000,899999999) ops and (151920.4,163762.4) ops/second in (658.239484,5495.765777) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     304    1414        0        0    123222    123222      0     588  2432     0       0     0      0   588         0 0.000000 0.000000
    1     8     481    3471   344079   344079    223788    223788      0      26    34     0       0     0   3776    26         0 0.000000 0.000000
    2    19    1185     130    11396    11396     10435     10435      0       0     0     0       0     0    155     0         0 0.000000 0.000000
user_io:123221.711MB total_ios: 357444.105MB WriteAmplification: 2.9008
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.304 MB data into db.)


2025-01-07 11:35:32 ... thread 0: (100000000,999999999) ops and (163801.3,163766.3) ops/second in (610.495660,6106.261437) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     253    1571        0        0    136941    136941      0     654  2704     0       0     0      0   654         0 0.000000 0.000000
    1     8     391    3883   384377   384377    250497    250497      0      28    39     0       0     0   4286    28         0 0.000000 0.000000
    2    23    1454     148    12750    12750     11787     11787      0       0     0     0       0     0    173     0         0 0.000000 0.000000
user_io:136941.130MB total_ios: 399224.979MB WriteAmplification: 2.9153
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.217 MB data into db.)


1000000000 operations have been finished (137329.130 MB data have been written into db)
fillzipf     :       6.106 micros/op 163766 ops/sec;   22.5 MB/s
Microseconds per op:
Count: 1000000000  Average: 6.1063  StdDev: 50.24
Percentiles: P50: 5.29 P75: 6.20 P99: 10.72 P99.9: 241.06 P99.99: 1181.22
------------------------------------------------------
[       2,       3 )  251033   0.025%   0.025%
[       3,       4 ) 160997202  16.100%  16.125% ###
[       4,       5 ) 250814713  25.081%  41.206% #####
[       5,       6 ) 306104303  30.610%  71.817% ######
[       6,       7 ) 157049790  15.705%  87.522% ###
[       7,       8 ) 67652665   6.765%  94.287% #
[       8,       9 ) 30654974   3.065%  97.352% #
[       9,      10 ) 13494790   1.349%  98.702%
[      10,      12 ) 8336841   0.834%  99.536%
[      12,      14 ) 1811323   0.181%  99.717%
[      14,      16 )  528540   0.053%  99.770%
[      16,      18 )  285746   0.029%  99.798%
[      18,      20 )  298475   0.030%  99.828%
[      20,      25 )  420102   0.042%  99.870%
[      25,      30 )  115421   0.012%  99.882%
[      30,      35 )   60240   0.006%  99.888%
[      35,      40 )   27787   0.003%  99.890%
[      40,      45 )   21026   0.002%  99.892%
[      45,      50 )   10723   0.001%  99.894%
[      50,      60 )    8302   0.001%  99.894%
[      60,      70 )   11434   0.001%  99.896%
[      70,      80 )   15464   0.002%  99.897%
[      80,      90 )    7279   0.001%  99.898%
[      90,     100 )    3684   0.000%  99.898%
[     100,     120 )    5569   0.001%  99.899%
[     120,     140 )    4038   0.000%  99.899%
[     140,     160 )     990   0.000%  99.899%
[     160,     180 )     613   0.000%  99.899%
[     180,     200 )     769   0.000%  99.899%
[     200,     250 )    7506   0.001%  99.900%
[     250,     300 )     539   0.000%  99.900%
[     300,     350 )     294   0.000%  99.900%
[     350,     400 )     242   0.000%  99.900%
[     400,     450 )     190   0.000%  99.900%
[     450,     500 )     141   0.000%  99.900%
[     500,     600 )     233   0.000%  99.900%
[     600,     700 )     135   0.000%  99.900%
[     700,     800 )     104   0.000%  99.900%
[     800,     900 )      63   0.000%  99.900%
[     900,    1000 )      35   0.000%  99.900%
[    1000,    1200 )  989581   0.099%  99.999%
[    1200,    1400 )    1013   0.000%  99.999%
[    1400,    1600 )     494   0.000%  99.999%
[    1600,    1800 )     269   0.000%  99.999%
[    1800,    2000 )     358   0.000% 100.000%
[    2000,    2500 )     659   0.000% 100.000%
[    2500,    3000 )     441   0.000% 100.000%
[    3000,    3500 )     237   0.000% 100.000%
[    3500,    4000 )     209   0.000% 100.000%
[    4000,    4500 )     111   0.000% 100.000%
[    4500,    5000 )      93   0.000% 100.000%
[    5000,    6000 )     171   0.000% 100.000%
[    6000,    7000 )     149   0.000% 100.000%
[    7000,    8000 )     150   0.000% 100.000%
[    8000,    9000 )     112   0.000% 100.000%
[    9000,   10000 )     132   0.000% 100.000%
[   10000,   12000 )     269   0.000% 100.000%
[   12000,   14000 )     320   0.000% 100.000%
[   14000,   16000 )     289   0.000% 100.000%
[   16000,   18000 )     261   0.000% 100.000%
[   18000,   20000 )     264   0.000% 100.000%
[   20000,   25000 )     530   0.000% 100.000%
[   25000,   30000 )     264   0.000% 100.000%
[   30000,   35000 )     121   0.000% 100.000%
[   35000,   40000 )      63   0.000% 100.000%
[   40000,   45000 )      44   0.000% 100.000%
[   45000,   50000 )      35   0.000% 100.000%
[   50000,   60000 )      43   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5      253      1571        0    136941
  1        8      391      3883   384377    250497
  2       23     1454       148    12750     11787
user_io:136941.130MB total_ios: 399224.979MB WriteAmplification: 2.9153

Checking if iostat process with PID 2779282 is still running...
    PID TTY          TIME CMD
2779282 pts/1    00:00:00 iostat
iostat process 2779282 is still running, killing now...
iostat process 2779282 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0500.sh: line 48: 2779282 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2779283':

      9,634,569.36 msec task-clock                       #    1.578 CPUs utilized
         1,600,864      context-switches                 #  166.158 /sec
             2,831      cpu-migrations                   #    0.294 /sec
        13,577,857      page-faults                      #    1.409 K/sec
31,447,584,486,049      cycles                           #    3.264 GHz
65,021,347,714,006      instructions                     #    2.07  insn per cycle
 9,289,628,534,865      branches                         #  964.198 M/sec
    21,754,894,016      branch-misses                    #    0.23% of all branches
                        TopdownL1                 #      4.0 %  tma_backend_bound
                                                  #     84.9 %  tma_bad_speculation
                                                  #      6.5 %  tma_frontend_bound
                                                  #      4.7 %  tma_retiring

    6106.316562084 seconds time elapsed
