LevelDB:    version 1.23
Date:       Sun Jan  5 21:28:10 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.3_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.3_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2234825
../../../leveldb/build_release_f_10_C0_500/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.3_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.3_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_zipf1.3_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.3_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-05 21:36:03 ... thread 0: (99999999,99999999) ops and (211381.3,211381.3) ops/second in (473.078668,473.078668) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     168        0        0     13568     13568      0      67   268     0       0     0      0    67         0 0.000000 0.000000
    1     5     270     202    23394    23394     10299     10299      0       0     0     0       0     0    190     0         0 0.000000 0.000000
    2     1      51       1        0        0        51        51      0       0     0     0       0     0      0     0         0 0.000000 0.000000
user_io:13567.551MB total_ios: 23917.550MB WriteAmplification: 1.7628
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-05 21:46:12 ... thread 0: (100000000,199999999) ops and (164277.4,184876.2) ops/second in (608.726290,1081.804958) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     304     336        0        0     27287     27287      0     134   536     0       0     0      0   134         0 0.000000 0.000000
    1     8     463     622    61586    61586     35116     35116      0       0     0     0       0     0    603     0         0 0.000000 0.000000
    2     1      51       1        0        0        51        51      0       0     0     0       0     0      0     0         0 0.000000 0.000000
user_io:27286.986MB total_ios: 62453.729MB WriteAmplification: 2.2888
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.913 MB data into db.)


2025-01-05 21:55:01 ... thread 0: (100000000,299999999) ops and (188864.4,186186.8) ops/second in (529.480316,1611.285274) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     253     512        0        0     40956     40956      0     201   808     0       0     0      0   201         0 0.000000 0.000000
    1     4     227     881    89268    89268     49295     49295      0       1     8     0       0     0    848     1         0 0.000000 0.000000
    2     8     503       8      553      553       554       554      0       0     0     0       0     0      1     0         0 0.000000 0.000000
user_io:40955.783MB total_ios: 90804.463MB WriteAmplification: 2.2171
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.826 MB data into db.)


2025-01-05 22:04:35 ... thread 0: (100000000,399999999) ops and (174347.4,183078.7) ops/second in (573.567567,2184.852841) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     682        0        0     54675     54675      0     269  1080     0       0     0      0   269         0 0.000000 0.000000
    1     7     429    1265   125485   125485     71944     71944      0       1     8     0       0     0   1229     1         0 0.000000 0.000000
    2     8     503       8      553      553       554       554      0       0     0     0       0     0      1     0         0 0.000000 0.000000
user_io:54675.222MB total_ios: 127172.548MB WriteAmplification: 2.3260
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.739 MB data into db.)


2025-01-05 22:16:37 ... thread 0: (100000000,499999999) ops and (138401.9,171975.8) ops/second in (722.533398,2907.386239) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     354     851        0        0     68395     68395      0     334  1348     0       0     0      0   334         0 0.000000 0.000000
    1     8     465    1775   169455   169455    102643    102643      0       5    12     0       0     0   1729     5         0 0.000000 0.000000
    2     9     535      19     1426     1426      1198      1198      0       0     0     0       0     0     13     0         0 0.000000 0.000000
user_io:68394.634MB total_ios: 172236.005MB WriteAmplification: 2.5183
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.652 MB data into db.)


2025-01-05 22:28:46 ... thread 0: (100000000,599999999) ops and (137252.0,165017.7) ops/second in (728.586673,3635.972912) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     354    1020        0        0     82114     82114      0     396  1619     0       0     0      0   396         0 0.000000 0.000000
    1     8     480    2265   212507   212507    132382    132382      0      11    18     0       0     0   2214    11         0 0.000000 0.000000
    2    11     647      46     3658     3658      3150      3150      0       0     0     0       0     0     44     0         0 0.000000 0.000000
user_io:82114.053MB total_ios: 217646.097MB WriteAmplification: 2.6505
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.565 MB data into db.)


2025-01-05 22:41:07 ... thread 0: (100000000,699999999) ops and (134929.3,159923.2) ops/second in (741.128762,4377.101674) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     304    1188        0        0     95833     95833      0     457  1887     0       0     0      0   457         0 0.000000 0.000000
    1     9     503    2750   255657   255657    162177    162177      0      18    25     0       0     0   2713    18         0 0.000000 0.000000
    2    13     772      91     6999     6999      6224      6224      0       0     0     0       0     0    102     0         0 0.000000 0.000000
user_io:95833.486MB total_ios: 264234.455MB WriteAmplification: 2.7572
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.478 MB data into db.)


2025-01-05 22:53:20 ... thread 0: (100000000,799999999) ops and (136462.7,156558.7) ops/second in (732.801221,5109.902895) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     354    1355        0        0    109502    109502      0     520  2160     0       0     0      0   520         0 0.000000 0.000000
    1     8     464    3231   298304   298304    191567    191567      0      23    31     0       0     0   3218    23         0 0.000000 0.000000
    2    16     991     131    10160    10160      9204      9204      0       0     0     0       0     0    138     0         0 0.000000 0.000000
user_io:109502.283MB total_ios: 310273.669MB WriteAmplification: 2.8335
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.391 MB data into db.)


2025-01-05 23:05:11 ... thread 0: (100000000,899999999) ops and (140600.1,154608.9) ops/second in (711.237153,5821.140048) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     304    1522        0        0    123222    123222      0     585  2432     0       0     0      0   585         0 0.000000 0.000000
    1     8     482    3727   342583   342583    222290    222290      0      26    34     0       0     0   3753    26         0 0.000000 0.000000
    2    19    1185     148    11396    11396     10437     10437      0       0     0     0       0     0    155     0         0 0.000000 0.000000
user_io:123221.711MB total_ios: 355949.468MB WriteAmplification: 2.8887
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.304 MB data into db.)


2025-01-05 23:16:10 ... thread 0: (100000000,999999999) ops and (151836.4,154327.1) ops/second in (658.603699,6479.743747) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     253    1692        0        0    136941    136941      0     651  2704     0       0     0      0   651         0 0.000000 0.000000
    1     8     392    4172   382974   382974    249092    249092      0      28    39     0       0     0   4264    28         0 0.000000 0.000000
    2    23    1454     165    12749    12749     11788     11788      0       0     0     0       0     0    173     0         0 0.000000 0.000000
user_io:136941.130MB total_ios: 397821.033MB WriteAmplification: 2.9051
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.217 MB data into db.)


1000000000 operations have been finished (137329.130 MB data have been written into db)
fillzipf     :       6.480 micros/op 154327 ops/sec;   21.2 MB/s
Microseconds per op:
Count: 1000000000  Average: 6.4797  StdDev: 83.80
Percentiles: P50: 5.05 P75: 5.84 P99: 9.36 P99.9: 1065.70 P99.99: 1189.02
------------------------------------------------------
[       2,       3 ) 2011607   0.201%   0.201%
[       3,       4 ) 207317673  20.732%  20.933% ####
[       4,       5 ) 275897387  27.590%  48.523% ######
[       5,       6 ) 314566664  31.457%  79.979% ######
[       6,       7 ) 131054639  13.105%  93.085% ###
[       7,       8 ) 42972163   4.297%  97.382% #
[       8,       9 ) 14333145   1.433%  98.815%
[       9,      10 ) 5064658   0.506%  99.322%
[      10,      12 ) 2756532   0.276%  99.597%
[      12,      14 )  902920   0.090%  99.688%
[      14,      16 )  353743   0.035%  99.723%
[      16,      18 )  302199   0.030%  99.753%
[      18,      20 )  318733   0.032%  99.785%
[      20,      25 )  441015   0.044%  99.829%
[      25,      30 )  111316   0.011%  99.840%
[      30,      35 )   32162   0.003%  99.844%
[      35,      40 )   14206   0.001%  99.845%
[      40,      45 )    7671   0.001%  99.846%
[      45,      50 )    4321   0.000%  99.846%
[      50,      60 )   15644   0.002%  99.848%
[      60,      70 )   10805   0.001%  99.849%
[      70,      80 )    1827   0.000%  99.849%
[      80,      90 )    4334   0.000%  99.850%
[      90,     100 )    2249   0.000%  99.850%
[     100,     120 )    5494   0.001%  99.850%
[     120,     140 )    3380   0.000%  99.851%
[     140,     160 )    1369   0.000%  99.851%
[     160,     180 )    1393   0.000%  99.851%
[     180,     200 )    1655   0.000%  99.851%
[     200,     250 )    6639   0.001%  99.852%
[     250,     300 )     663   0.000%  99.852%
[     300,     350 )     448   0.000%  99.852%
[     350,     400 )     342   0.000%  99.852%
[     400,     450 )     285   0.000%  99.852%
[     450,     500 )     226   0.000%  99.852%
[     500,     600 )     335   0.000%  99.852%
[     600,     700 )     228   0.000%  99.852%
[     700,     800 )     207   0.000%  99.852%
[     800,     900 )     162   0.000%  99.852%
[     900,    1000 )     107   0.000%  99.852%
[    1000,    1200 ) 1459597   0.146%  99.998%
[    1200,    1400 )    1501   0.000%  99.998%
[    1400,    1600 )     661   0.000%  99.998%
[    1600,    1800 )     464   0.000%  99.998%
[    1800,    2000 )     500   0.000%  99.998%
[    2000,    2500 )    1205   0.000%  99.998%
[    2500,    3000 )     633   0.000%  99.999%
[    3000,    3500 )     519   0.000%  99.999%
[    3500,    4000 )     431   0.000%  99.999%
[    4000,    4500 )     389   0.000%  99.999%
[    4500,    5000 )     365   0.000%  99.999%
[    5000,    6000 )     745   0.000%  99.999%
[    6000,    7000 )     673   0.000%  99.999%
[    7000,    8000 )     676   0.000%  99.999%
[    8000,    9000 )     641   0.000%  99.999%
[    9000,   10000 )     681   0.000%  99.999%
[   10000,   12000 )    1253   0.000%  99.999%
[   12000,   14000 )    1651   0.000%  99.999%
[   14000,   16000 )    1417   0.000%  99.999%
[   16000,   18000 )    1033   0.000% 100.000%
[   18000,   20000 )     790   0.000% 100.000%
[   20000,   25000 )    1315   0.000% 100.000%
[   25000,   30000 )     929   0.000% 100.000%
[   30000,   35000 )     550   0.000% 100.000%
[   35000,   40000 )     359   0.000% 100.000%
[   40000,   45000 )     164   0.000% 100.000%
[   45000,   50000 )     110   0.000% 100.000%
[   50000,   60000 )     147   0.000% 100.000%
[   60000,   70000 )      31   0.000% 100.000%
[   70000,   80000 )      16   0.000% 100.000%
[   80000,   90000 )       4   0.000% 100.000%
[   90000,  100000 )       2   0.000% 100.000%
[  100000,  120000 )       2   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5      253      1692        0    136941
  1        8      392      4172   382974    249092
  2       23     1454       165    12749     11788
user_io:136941.130MB total_ios: 397821.033MB WriteAmplification: 2.9051

Checking if iostat process with PID 2234824 is still running...
    PID TTY          TIME CMD
2234824 pts/1    00:00:00 iostat
iostat process 2234824 is still running, killing now...
iostat process 2234824 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0500.sh: line 45: 2234824 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2234825':

      9,365,564.04 msec task-clock                       #    1.445 CPUs utilized
         2,013,600      context-switches                 #  215.000 /sec
             2,080      cpu-migrations                   #    0.222 /sec
        12,615,044      page-faults                      #    1.347 K/sec
30,144,980,373,601      cycles                           #    3.219 GHz
64,927,944,098,220      instructions                     #    2.15  insn per cycle
 9,276,428,921,216      branches                         #  990.483 M/sec
    21,869,616,030      branch-misses                    #    0.24% of all branches
                        TopdownL1                 #      4.3 %  tma_backend_bound
                                                  #     84.4 %  tma_bad_speculation
                                                  #      6.8 %  tma_frontend_bound
                                                  #      4.5 %  tma_retiring

    6479.679409589 seconds time elapsed
