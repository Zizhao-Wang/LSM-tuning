LevelDB:    version 1.23
Date:       Tue Jan  7 06:12:39 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f32_1.2_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f32_1.2_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2685188
../../../leveldb/build_release_f_10_C0_500/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f32_1.2_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_zipf1.2_f32_memory_usage_1B_key16_val128_mem64MiB_factor32_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-07 06:21:26 ... thread 0: (99999999,99999999) ops and (189922.0,189922.0) ops/second in (526.531995,526.531995) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     150        0        0     13604     13604      0      66   268     0       0     0      0    66         0 0.000000 0.000000
    1     7     453     285    30289    30289     17845     17845      0       1     8     0       0     0    298     1         0 0.000000 0.000000
    2     8     507       7      555      555       558       558      0       0     0     0       0     0      1     0         0 0.000000 0.000000
user_io:13603.967MB total_ios: 32006.367MB WriteAmplification: 2.3527
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-07 06:33:35 ... thread 0: (100000000,199999999) ops and (137049.0,159210.6) ops/second in (729.666157,1256.198152) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     306        0        0     27360     27360      0     121   538     0       0     0      0   121         0 0.000000 0.000000
    1     8     489     703    69592    69592     44685     44685      0      19    27     0       0     0    735    19         0 0.000000 0.000000
    2    19    1161      88     7657     7657      7108      7108      0       0     0     0       0     0    100     0         0 0.000000 0.000000
user_io:27360.212MB total_ios: 79153.680MB WriteAmplification: 2.8930
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-07 06:45:38 ... thread 0: (100000000,299999999) ops and (138281.5,151564.1) ops/second in (723.162379,1979.360531) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305     462        0        0     41066     41066      0     176   803     0       0     0      0   176         0 0.000000 0.000000
    1     9     505    1130   109586   109586     72067     72067      0      36    44     0       0     0   1213    36         0 0.000000 0.000000
    2    27    1709     159    13904    13904     12875     12875      0       0     0     0       0     0    198     0         0 0.000000 0.000000
user_io:41065.690MB total_ios: 126008.565MB WriteAmplification: 3.0685
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-07 06:57:54 ... thread 0: (100000000,399999999) ops and (135955.1,147335.2) ops/second in (735.536709,2714.897240) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     618        0        0     54822     54822      0     233  1079     0       0     0      0   233         0 0.000000 0.000000
    1    10     471    1558   149605   149605     99223     99223      0      50    60     0       0     0   1736    50         0 0.000000 0.000000
    2    40    2452     244    21020    21020     19758     19758      0       0     0     0       0     0    287     0         0 0.000000 0.000000
user_io:54821.917MB total_ios: 173802.050MB WriteAmplification: 3.1703
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-07 07:10:33 ... thread 0: (100000000,499999999) ops and (131750.5,143930.1) ops/second in (759.010481,3473.907721) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     773        0        0     68578     68578      0     286  1351     0       0     0      0   286         0 0.000000 0.000000
    1    10     492    1981   188996   188996    125712    125712      0      67    79     0       0     0   2243    67         0 0.000000 0.000000
    2    48    3067     346    29741    29741     28006     28006      0       0     0     0       0     0    416     0         0 0.000000 0.000000
user_io:68578.163MB total_ios: 222295.921MB WriteAmplification: 3.2415
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-07 07:22:55 ... thread 0: (100000000,599999999) ops and (134822.0,142327.6) ops/second in (741.718723,4215.626444) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     927        0        0     82334     82334      0     340  1622     0       0     0      0   340         0 0.000000 0.000000
    1    10     466    2398   228012   228012    152093    152093      0      85    98     0       0     0   2789    85         0 0.000000 0.000000
    2    56    3575     444    38296    38296     35922     35922      0       0     0     0       0     0    539     0         0 0.000000 0.000000
user_io:82334.384MB total_ios: 270349.460MB WriteAmplification: 3.2836
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-07 07:35:06 ... thread 0: (100000000,699999999) ops and (136737.8,141501.2) ops/second in (731.326515,4946.952959) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305    1077        0        0     96091     96091      0     394  1891     0       0     0      0   394         0 0.000000 0.000000
    1    11     479    2803   266399   266399    178083    178083      0     101   116     0       0     0   3351   101         0 0.000000 0.000000
    2    61    3948     537    46054    46054     43077     43077      0       0     0     0       0     0    652     0         1 0.000000 65.285172
    3     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.285172 0.000000
user_io:96090.605MB total_ios: 317250.173MB WriteAmplification: 3.3016
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-07 07:47:04 ... thread 0: (100000000,799999999) ops and (139303.4,141222.7) ops/second in (717.857539,5664.810498) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1229        0        0    109796    109796      0     450  2159     0       0     0      0   450         0 0.000000 0.000000
    1    11     514    3232   307049   307049    205943    205943      0     117   134     0       0     0   3981   117         1 0.000000 65.286331
    2    62    3954     609    52115    52115     48944     48944      0       0     0     0       0     0    739     0        13 65.286331 65.286251
    3    13     849       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.286251 0.000000
user_io:109796.078MB total_ios: 364683.419MB WriteAmplification: 3.3215
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-07 07:59:50 ... thread 0: (100000000,899999999) ops and (130474.2,139941.8) ops/second in (766.435267,6431.245765) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1381        0        0    123552    123552      0     501  2434     0       0     0      0   501         0 0.000000 0.000000
    1    12     477    3627   344296   344296    230518    230518      0     134   152     0       0     0   4538   134         1 0.000000 65.286331
    2    62    3985     731    62462    62462     58974     58974      0       3     3     0       0     0    889     3        22 65.286331 65.283397
    3    25    1583      13     1106     1106      1068      1068      0       0     0     0       0     0     15     0         0 65.283397 0.000000
user_io:123552.315MB total_ios: 414111.763MB WriteAmplification: 3.3517
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-07 08:11:58 ... thread 0: (100000000,999999999) ops and (137393.5,139682.7) ops/second in (727.836292,7159.082057) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1532        0        0    137309    137309      0     556  2705     0       0     0      0   556         0 0.000000 0.000000
    1    12     486    4045   383785   383785    257313    257313      0     150   169     0       0     0   5160   150         1 0.000000 65.286331
    2    62    3946     811    69359    69359     65432     65432      0       6     6     0       0     0    987     6        29 65.286331 65.275393
    3    35    2225      32     2654     2654      2606      2606      0       0     0     0       0     0     36     0         0 65.275393 0.000000
user_io:137308.548MB total_ios: 462659.381MB WriteAmplification: 3.3695
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       7.159 micros/op 139682 ops/sec;   19.2 MB/s
Microseconds per op:
Count: 1000000000  Average: 7.1591  StdDev: 62.81
Percentiles: P50: 5.31 P75: 6.06 P99: 9.68 P99.9: 1100.53 P99.99: 1190.83
------------------------------------------------------
[       2,       3 )  586753   0.059%   0.059%
[       3,       4 ) 138107408  13.811%  13.869% ###
[       4,       5 ) 255677427  25.568%  39.437% #####
[       5,       6 ) 344661876  34.466%  73.903% #######
[       6,       7 ) 169887729  16.989%  90.892% ###
[       7,       8 ) 58044863   5.804%  96.697% #
[       8,       9 ) 18691744   1.869%  98.566%
[       9,      10 ) 6373705   0.637%  99.203%
[      10,      12 ) 3363145   0.336%  99.539%
[      12,      14 )  869344   0.087%  99.626%
[      14,      16 )  363629   0.036%  99.663%
[      16,      18 )  285184   0.029%  99.691%
[      18,      20 )  321294   0.032%  99.723%
[      20,      25 )  485350   0.049%  99.772%
[      25,      30 )  137753   0.014%  99.786%
[      30,      35 )   41807   0.004%  99.790%
[      35,      40 )   17541   0.002%  99.792%
[      40,      45 )    9477   0.001%  99.793%
[      45,      50 )    6171   0.001%  99.793%
[      50,      60 )   19914   0.002%  99.795%
[      60,      70 )   14382   0.001%  99.797%
[      70,      80 )    2381   0.000%  99.797%
[      80,      90 )    3279   0.000%  99.797%
[      90,     100 )    1346   0.000%  99.797%
[     100,     120 )    7766   0.001%  99.798%
[     120,     140 )    2692   0.000%  99.798%
[     140,     160 )    1490   0.000%  99.799%
[     160,     180 )    1451   0.000%  99.799%
[     180,     200 )    1611   0.000%  99.799%
[     200,     250 )    7516   0.001%  99.800%
[     250,     300 )     536   0.000%  99.800%
[     300,     350 )     313   0.000%  99.800%
[     350,     400 )     224   0.000%  99.800%
[     400,     450 )     203   0.000%  99.800%
[     450,     500 )     169   0.000%  99.800%
[     500,     600 )     233   0.000%  99.800%
[     600,     700 )     145   0.000%  99.800%
[     700,     800 )      98   0.000%  99.800%
[     800,     900 )      78   0.000%  99.800%
[     900,    1000 )      44   0.000%  99.800%
[    1000,    1200 ) 1993311   0.199%  99.999%
[    1200,    1400 )    1742   0.000%  99.999%
[    1400,    1600 )     771   0.000%  99.999%
[    1600,    1800 )     347   0.000%  99.999%
[    1800,    2000 )     292   0.000%  99.999%
[    2000,    2500 )     683   0.000% 100.000%
[    2500,    3000 )     467   0.000% 100.000%
[    3000,    3500 )     299   0.000% 100.000%
[    3500,    4000 )     131   0.000% 100.000%
[    4000,    4500 )     106   0.000% 100.000%
[    4500,    5000 )      80   0.000% 100.000%
[    5000,    6000 )     152   0.000% 100.000%
[    6000,    7000 )     153   0.000% 100.000%
[    7000,    8000 )     166   0.000% 100.000%
[    8000,    9000 )     164   0.000% 100.000%
[    9000,   10000 )     163   0.000% 100.000%
[   10000,   12000 )     327   0.000% 100.000%
[   12000,   14000 )     395   0.000% 100.000%
[   14000,   16000 )     368   0.000% 100.000%
[   16000,   18000 )     339   0.000% 100.000%
[   18000,   20000 )     255   0.000% 100.000%
[   20000,   25000 )     520   0.000% 100.000%
[   25000,   30000 )     339   0.000% 100.000%
[   30000,   35000 )     158   0.000% 100.000%
[   35000,   40000 )      66   0.000% 100.000%
[   40000,   45000 )      47   0.000% 100.000%
[   45000,   50000 )      40   0.000% 100.000%
[   50000,   60000 )      44   0.000% 100.000%
[   60000,   70000 )       4   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        4      203      1532        0    137309
  1       12      486      4045   383785    257313
  2       62     3946       811    69359     65432
  3       35     2225        32     2654      2606
user_io:137308.548MB total_ios: 462659.381MB WriteAmplification: 3.3695

Checking if iostat process with PID 2685187 is still running...
    PID TTY          TIME CMD
2685187 pts/1    00:00:00 iostat
iostat process 2685187 is still running, killing now...
iostat process 2685187 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0500.sh: line 48: 2685187 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2685188':

     10,282,373.01 msec task-clock                       #    1.436 CPUs utilized
         2,602,832      context-switches                 #  253.135 /sec
             3,085      cpu-migrations                   #    0.300 /sec
        13,200,608      page-faults                      #    1.284 K/sec
33,293,172,309,823      cycles                           #    3.238 GHz
71,121,887,550,906      instructions                     #    2.14  insn per cycle
10,154,898,286,235      branches                         #  987.603 M/sec
    25,692,172,804      branch-misses                    #    0.25% of all branches
                        TopdownL1                 #      2.9 %  tma_backend_bound
                                                  #     86.1 %  tma_bad_speculation
                                                  #      5.7 %  tma_frontend_bound
                                                  #      5.2 %  tma_retiring

    7158.376070705 seconds time elapsed
