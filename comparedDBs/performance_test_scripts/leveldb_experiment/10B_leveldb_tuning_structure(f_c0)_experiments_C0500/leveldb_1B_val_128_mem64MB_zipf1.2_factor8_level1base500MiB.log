LevelDB:    version 1.23
Date:       Mon Jan  6 15:33:29 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f8_1.2_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f8_1.2_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2411619
../../../leveldb/build_release_f_10_C0_500/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f8_1.2_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_zipf1.2_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 15:42:55 ... thread 0: (99999999,99999999) ops and (176767.5,176767.5) ops/second in (565.714807,565.714807) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     164        0        0     13604     13604      0      66   268     0       0     0      0    66         0 0.000000 0.000000
    1     7     453     298    30289    30289     17845     17845      0       1     8     0       0     0    298     1         0 0.000000 0.000000
    2     8     507       7      555      555       558       558      0       0     0     0       0     0      1     0         0 0.000000 0.000000
user_io:13603.967MB total_ios: 32006.367MB WriteAmplification: 2.3527
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 15:55:34 ... thread 0: (100000000,199999999) ops and (131746.6,150972.1) ops/second in (759.032999,1324.747806) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355     328        0        0     27360     27360      0     121   536     0       0     0      0   121         0 0.000000 0.000000
    1     8     489     726    69453    69453     44640     44640      0      19    27     0       0     0    732    19         0 0.000000 0.000000
    2    19    1156      93     7695     7695      7148      7148      0       0     0     0       0     0    101     0         0 0.000000 0.000000
user_io:27360.212MB total_ios: 79148.228MB WriteAmplification: 2.8928
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-06 16:08:07 ... thread 0: (100000000,299999999) ops and (132776.9,144377.2) ops/second in (753.142794,2077.890600) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355     490        0        0     41116     41116      0     177   803     0       0     0      0   177         0 0.000000 0.000000
    1     9     514    1170   109968   109968     72452     72452      0      36    44     0       0     0   1217    36         0 0.000000 0.000000
    2    27    1701     168    13983    13983     12953     12953      0       0     0     0       0     0    201     0         0 0.000000 0.000000
user_io:41116.451MB total_ios: 126521.777MB WriteAmplification: 3.0772
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-06 16:20:54 ... thread 0: (100000000,399999999) ops and (130340.4,140592.0) ops/second in (767.221683,2845.112283) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     654        0        0     54822     54822      0     234  1079     0       0     0      0   234         0 0.000000 0.000000
    1    10     471    1609   150051   150051     99671     99671      0      50    60     0       0     0   1739    50         0 0.000000 0.000000
    2    40    2452     260    21060    21060     19796     19796      0       0     0     0       0     0    292     0         0 0.000000 0.000000
user_io:54821.917MB total_ios: 174288.585MB WriteAmplification: 3.1792
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-06 16:35:01 ... thread 0: (100000000,499999999) ops and (118067.7,135424.9) ops/second in (846.971517,3692.083800) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     832        0        0     68578     68578      0     286  1351     0       0     0      0   286         0 0.000000 0.000000
    1    10     494    2056   188951   188951    125669    125669      0      67    79     0       0     0   2238    67         0 0.000000 0.000000
    2    48    3065     390    29771    29771     28034     28034      0       0     0     0       0     0    421     0         0 0.000000 0.000000
user_io:68578.163MB total_ios: 222281.189MB WriteAmplification: 3.2413
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-06 16:48:33 ... thread 0: (100000000,599999999) ops and (123159.4,133213.8) ops/second in (811.955710,4504.039510) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1004        0        0     82334     82334      0     340  1622     0       0     0      0   340         0 0.000000 0.000000
    1    10     466    2505   228035   228035    152118    152118      0      85    99     0       0     0   2784    85         0 0.000000 0.000000
    2    56    3575     502    38327    38327     35950     35950      0       0     0     0       0     0    544     0         0 0.000000 0.000000
user_io:82334.384MB total_ios: 270402.229MB WriteAmplification: 3.2842
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-06 17:02:00 ... thread 0: (100000000,699999999) ops and (123963.4,131808.6) ops/second in (806.689662,5310.729172) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305    1179        0        0     96091     96091      0     394  1891     0       0     0      0   394         0 0.000000 0.000000
    1    11     479    2953   266391   266391    178078    178078      0     101   117     0       0     0   3345   101         0 0.000000 0.000000
    2    61    3948     601    46089    46089     43109     43109      0       0     0     0       0     0    657     0         1 0.000000 65.285172
    3     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.285172 0.000000
user_io:96090.605MB total_ios: 317276.873MB WriteAmplification: 3.3019
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-06 17:15:31 ... thread 0: (100000000,799999999) ops and (123183.9,130665.1) ops/second in (811.794347,6122.523519) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1354        0        0    109796    109796      0     450  2163     0       0     0      0   450         0 0.000000 0.000000
    1    11     495    3421   306618   306618    205508    205508      0     117   135     0       0     0   3973   117         1 0.000000 65.286251
    2    62    3965     704    52754    52754     49580     49580      0       0     0     0       0     0    751     0        13 65.286251 65.286251
    3    13     849       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.286251 0.000000
user_io:109796.078MB total_ios: 364884.472MB WriteAmplification: 3.3233
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-06 17:29:07 ... thread 0: (100000000,899999999) ops and (122560.8,129712.1) ops/second in (815.921639,6938.445158) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254    1522        0        0    123552    123552      0     501  2433     0       0     0      0   501         0 0.000000 0.000000
    1    12     488    3848   344348   344348    230594    230594      0     134   154     0       0     0   4540   134         1 0.000000 65.286251
    2    62    3974     831    62337    62337     58879     58879      0       2     2     0       0     0    894     2        23 65.286251 65.280853
    3    25    1617       7      451      451       443       443      0       0     0     0       0     0      5     0         0 65.280853 0.000000
user_io:123552.315MB total_ios: 413468.807MB WriteAmplification: 3.3465
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-06 17:43:05 ... thread 0: (100000000,999999999) ops and (119449.1,128607.1) ops/second in (837.176358,7775.621516) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1693        0        0    137309    137309      0     554  2705     0       0     0      0   554         0 0.000000 0.000000
    1    13     494    4308   383756   383756    257109    257109      0     152   173     0       0     0   5137   152         1 0.000000 65.286251
    2    63    3958     953    70442    70442     66511     66511      0       3     3     0       0     0   1013     3        32 65.286251 65.274635
    3    35    2270       8      581      581       574       574      0       0     0     0       0     0      6     0         0 65.274635 0.000000
user_io:137308.548MB total_ios: 461502.506MB WriteAmplification: 3.3611
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       7.776 micros/op 128607 ops/sec;   17.7 MB/s
Microseconds per op:
Count: 1000000000  Average: 7.7756  StdDev: 88.71
Percentiles: P50: 5.45 P75: 6.42 P99: 11.15 P99.9: 1110.37 P99.99: 1192.76
------------------------------------------------------
[       2,       3 )  265791   0.027%   0.027%
[       3,       4 ) 121345378  12.135%  12.161% ##
[       4,       5 ) 234076279  23.408%  35.569% #####
[       5,       6 ) 319071573  31.907%  67.476% ######
[       6,       7 ) 180116179  18.012%  85.488% ####
[       7,       8 ) 80253561   8.025%  93.513% ##
[       8,       9 ) 34786508   3.479%  96.992% #
[       9,      10 ) 14884344   1.488%  98.480%
[      10,      12 ) 9072455   0.907%  99.387%
[      12,      14 ) 1889168   0.189%  99.576%
[      14,      16 )  574615   0.057%  99.634%
[      16,      18 )  313563   0.031%  99.665%
[      18,      20 )  319687   0.032%  99.697%
[      20,      25 )  504941   0.050%  99.747%
[      25,      30 )  150131   0.015%  99.762%
[      30,      35 )   53593   0.005%  99.768%
[      35,      40 )   22794   0.002%  99.770%
[      40,      45 )   14061   0.001%  99.771%
[      45,      50 )    7907   0.001%  99.772%
[      50,      60 )   15386   0.002%  99.774%
[      60,      70 )   13838   0.001%  99.775%
[      70,      80 )    9272   0.001%  99.776%
[      80,      90 )    5501   0.001%  99.777%
[      90,     100 )    2546   0.000%  99.777%
[     100,     120 )    5493   0.001%  99.777%
[     120,     140 )    4432   0.000%  99.778%
[     140,     160 )    1995   0.000%  99.778%
[     160,     180 )    1468   0.000%  99.778%
[     180,     200 )    1504   0.000%  99.778%
[     200,     250 )    6929   0.001%  99.779%
[     250,     300 )     794   0.000%  99.779%
[     300,     350 )     521   0.000%  99.779%
[     350,     400 )     402   0.000%  99.779%
[     400,     450 )     325   0.000%  99.779%
[     450,     500 )     251   0.000%  99.779%
[     500,     600 )     392   0.000%  99.779%
[     600,     700 )     265   0.000%  99.779%
[     700,     800 )     234   0.000%  99.779%
[     800,     900 )     153   0.000%  99.779%
[     900,    1000 )     102   0.000%  99.779%
[    1000,    1200 ) 2184744   0.218%  99.998%
[    1200,    1400 )    2203   0.000%  99.998%
[    1400,    1600 )     961   0.000%  99.998%
[    1600,    1800 )     509   0.000%  99.998%
[    1800,    2000 )     389   0.000%  99.998%
[    2000,    2500 )     943   0.000%  99.998%
[    2500,    3000 )     845   0.000%  99.998%
[    3000,    3500 )     671   0.000%  99.999%
[    3500,    4000 )     490   0.000%  99.999%
[    4000,    4500 )     468   0.000%  99.999%
[    4500,    5000 )     397   0.000%  99.999%
[    5000,    6000 )     780   0.000%  99.999%
[    6000,    7000 )     693   0.000%  99.999%
[    7000,    8000 )     635   0.000%  99.999%
[    8000,    9000 )     611   0.000%  99.999%
[    9000,   10000 )     607   0.000%  99.999%
[   10000,   12000 )    1178   0.000%  99.999%
[   12000,   14000 )    1620   0.000%  99.999%
[   14000,   16000 )    1261   0.000%  99.999%
[   16000,   18000 )    1122   0.000% 100.000%
[   18000,   20000 )     788   0.000% 100.000%
[   20000,   25000 )    1452   0.000% 100.000%
[   25000,   30000 )     933   0.000% 100.000%
[   30000,   35000 )     544   0.000% 100.000%
[   35000,   40000 )     335   0.000% 100.000%
[   40000,   45000 )     192   0.000% 100.000%
[   45000,   50000 )     112   0.000% 100.000%
[   50000,   60000 )     134   0.000% 100.000%
[   60000,   70000 )      41   0.000% 100.000%
[   70000,   80000 )       7   0.000% 100.000%
[   80000,   90000 )       4   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0      1693        0    137309
  1       13      494      4308   383756    257109
  2       63     3958       953    70442     66511
  3       35     2270         8      581       574
user_io:137308.548MB total_ios: 461502.506MB WriteAmplification: 3.3611

Checking if iostat process with PID 2411618 is still running...
    PID TTY          TIME CMD
2411618 pts/1    00:00:00 iostat
iostat process 2411618 is still running, killing now...
iostat process 2411618 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0500.sh: line 45: 2411618 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2411619':

     10,682,832.42 msec task-clock                       #    1.374 CPUs utilized
         2,917,072      context-switches                 #  273.062 /sec
             3,327      cpu-migrations                   #    0.311 /sec
        15,867,048      page-faults                      #    1.485 K/sec
34,246,200,642,302      cycles                           #    3.206 GHz
71,088,903,897,201      instructions                     #    2.08  insn per cycle
10,151,417,301,147      branches                         #  950.255 M/sec
    26,621,170,540      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      2.0 %  tma_backend_bound
                                                  #     91.0 %  tma_bad_speculation
                                                  #      3.2 %  tma_frontend_bound
                                                  #      3.8 %  tma_retiring

    7775.032262093 seconds time elapsed
