base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Mon Jan  6 12:22:40 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f8_1.1_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f8_1.1_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2342379
../../../leveldb/build_release_f_10_C0_500/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f8_1.1_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.1_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_zipf1.1_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.1_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 12:38:13 ... thread 0: (99999999,99999999) ops and (107152.1,107152.1) ops/second in (933.252668,933.252668) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359     187        0        0     13748     13748      0      46   267     0       0     0      0    46         0 0.000000 0.000000
    1    10     549     472    35772    35772     26351     26351      0      42    55     0       0     0    395    42         0 0.000000 0.000000
    2    42    2648     223    16021    16021     15250     15250      0       0     0     0       0     0    211     0         0 0.000000 0.000000
user_io:13747.805MB total_ios: 55349.348MB WriteAmplification: 4.0260
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 12:55:48 ... thread 0: (100000000,199999999) ops and (94772.6,100582.9) ops/second in (1055.157585,1988.410253) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256     370        0        0     27650     27650      0      83   534     0       0     0      0    83         0 0.000000 0.000000
    1    18     888     983    74079    74079     54502     54502      0      99   118     0       0     0    882    99         1 0.000000 0.000308
    2    83    5289     553    40071    40071     38432     38432      0       0     0     0       0     0    565     0         0 0.000308 0.000000
user_io:27649.512MB total_ios: 120583.881MB WriteAmplification: 4.3612
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13735.996 MB data into db.)


2025-01-06 13:13:10 ... thread 0: (100000000,299999999) ops and (95974.4,98998.3) ops/second in (1041.944623,3030.354876) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359     556        0        0     41551     41551      0     122   809     0       0     0      0   122         0 0.000000 0.000000
    1    13     544    1481   111769   111769     82212     82212      0     154   177     0       0     0   1410   154        12 0.000000 61.539933
    2    68    4221     885    63967    63967     61730     61730      0       1     1     0       0     0    904     1        71 61.539933 65.226260
    3    72    4633       2      196      196       195       195      0       0     0     0       0     0      2     0         0 65.226260 0.000000
user_io:41551.176MB total_ios: 185688.165MB WriteAmplification: 4.4689
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27471.990 MB data into db.)


2025-01-06 13:32:07 ... thread 0: (100000000,399999999) ops and (87995.5,95997.5) ops/second in (1136.422211,4166.777087) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103     735        0        0     55402     55402      0     157  1078     0       0     0      0   157         0 0.000000 0.000000
    1    20     894    2048   152838   152838    112921    112921      0     213   241     0       0     0   1973   213        12 0.000000 61.539933
    2   109    6796    1242    88433    88433     85375     85375      0       1     1     0       0     0   1267     1        71 61.539933 65.226260
    3    72    4633       2      196      196       195       195      0       0     0     0       0     0      2     0         0 65.226260 0.000000
user_io:55401.595MB total_ios: 253892.431MB WriteAmplification: 4.5828
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41207.983 MB data into db.)


2025-01-06 13:51:09 ... thread 0: (100000000,499999999) ops and (87539.3,94177.5) ops/second in (1142.344555,5309.121642) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     903        0        0     69303     69303      0     194  1350     0       0     0      0   194         0 0.000000 0.000000
    1    16     755    2595   195025   195025    144820    144820      0     273   304     0       0     0   2587   273        19 0.000000 65.285732
    2    95    5773    1625   114094   114094    110340    110340      0      10    10     0       0     0   1644    10       127 65.285732 14.449557
    3   130    8360      22     1561     1561      1156      1156      0       0     0     0       0     0     20     0         0 14.449557 0.000000
user_io:69303.310MB total_ios: 325620.191MB WriteAmplification: 4.6985
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54943.976 MB data into db.)


2025-01-06 14:09:49 ... thread 0: (100000000,599999999) ops and (89313.3,93330.4) ops/second in (1119.654063,6428.775705) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1076        0        0     83205     83205      0     231  1622     0       0     0      0   231         0 0.000000 0.000000
    1    21    1042    3162   238072   238072    177683    177683      0     328   363     0       0     0   3222   328        21 0.000000 65.273896
    2   116    7231    1933   137279   137279    132733    132733      0      28    30     0       0     0   1998    28       127 65.273896 14.449557
    3   143    9150      69     4972     4972      4126      4126      0       0     0     0       0     0     62     0         0 14.449557 0.000000
user_io:83205.043MB total_ios: 397747.088MB WriteAmplification: 4.7803
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68679.969 MB data into db.)


2025-01-06 14:30:48 ... thread 0: (100000000,699999999) ops and (79424.0,91052.9) ops/second in (1259.064645,7687.840350) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359    1246        0        0     97107     97107      0     264  1886     0       0     0      0   264         0 0.000000 0.000000
    1    19     945    3763   282986   282986    212506    212506      0     385   424     0       0     0   3910   385        21 0.000000 65.273896
    2   124    7676    2304   162653   162653    157287    157287      0      64    66     0       0     0   2361    64       127 65.273896 14.449557
    3   177   11328     159    10730    10730      9778      9778      0       0     0     0       0     0    132     0         0 14.449557 0.000000
user_io:97106.726MB total_ios: 476677.293MB WriteAmplification: 4.9088
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82415.963 MB data into db.)


2025-01-06 14:51:52 ... thread 0: (100000000,799999999) ops and (79089.0,89363.1) ops/second in (1264.398765,8952.239115) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256    1418        0        0    110957    110957      0     298  2158     0       0     0      0   298         0 0.000000 0.000000
    1    24    1089    4377   329277   329277    248435    248435      0     445   490     0       0     0   4615   445        21 0.000000 65.273896
    2   130    7939    2650   188304   188304    182299    182299      0     102   104     0       0     0   2762   102       127 65.273896 14.449557
    3   215   13860     254    17511    17511     16546     16546      0       0     0     0       0     0    204     0         0 14.449557 0.000000
user_io:110957.123MB total_ios: 558236.768MB WriteAmplification: 5.0311
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96151.958 MB data into db.)


2025-01-06 15:13:23 ... thread 0: (100000000,899999999) ops and (77476.4,87865.3) ops/second in (1290.715883,10242.954998) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     205    1580        0        0    124859    124859      0     332  2430     0       0     0      0   332         0 0.000000 0.000000
    1    21     955    4977   375414   375414    284194    284194      0     509   559     0       0     0   5325   509        21 0.000000 65.273896
    2   126    7668    3051   217675   217675    210608    210608      0     148   150     0       0     0   3197   148       127 65.273896 14.449557
    3   260   16770     361    25042    25042     24069     24069      0       0     0     0       0     0    293     0         0 14.449557 0.000000
user_io:124858.895MB total_ios: 643729.599MB WriteAmplification: 5.1557
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109887.955 MB data into db.)


2025-01-06 15:33:21 ... thread 0: (100000000,999999999) ops and (83448.7,87402.7) ops/second in (1198.341202,11441.296200) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     205    1741        0        0    138761    138761      0     366  2701     0       0     0      0   366         0 0.000000 0.000000
    1    20     928    5538   419461   419461    317859    317859      0     567   624     0       0     0   5988   567        21 0.000000 65.273896
    2   121    6843    3353   241595   241595    233664    233664      0     200   203     0       0     0   3593   200       127 65.273896 14.449557
    3   314   20266     507    35940    35940     34955     34955      0       0     0     0       0     0    418     0         0 14.449557 0.000000
user_io:138760.616MB total_ios: 725238.072MB WriteAmplification: 5.2265
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123623.953 MB data into db.)


1000000000 operations have been finished (137359.952 MB data have been written into db)
fillzipf     :      11.441 micros/op 87402 ops/sec;   12.0 MB/s
Microseconds per op:
Count: 1000000000  Average: 11.4413  StdDev: 129.64
Percentiles: P50: 5.67 P75: 6.65 P99: 11.66 P99.9: 1162.43 P99.99: 1197.48
------------------------------------------------------
[       2,       3 )  244515   0.024%   0.024%
[       3,       4 ) 74289378   7.429%   7.453% #
[       4,       5 ) 204649313  20.465%  27.918% ####
[       5,       6 ) 329504348  32.950%  60.869% #######
[       6,       7 ) 218014317  21.801%  82.670% ####
[       7,       8 ) 99323629   9.932%  92.603% ##
[       8,       9 ) 40500310   4.050%  96.653% #
[       9,      10 ) 16038650   1.604%  98.256%
[      10,      12 ) 8981965   0.898%  99.155%
[      12,      14 ) 1631424   0.163%  99.318%
[      14,      16 )  447288   0.045%  99.363%
[      16,      18 )  239297   0.024%  99.386%
[      18,      20 )  226478   0.023%  99.409%
[      20,      25 )  408658   0.041%  99.450%
[      25,      30 )  150765   0.015%  99.465%
[      30,      35 )   50192   0.005%  99.470%
[      35,      40 )   22010   0.002%  99.472%
[      40,      45 )   13803   0.001%  99.474%
[      45,      50 )    7470   0.001%  99.474%
[      50,      60 )   20917   0.002%  99.476%
[      60,      70 )   23459   0.002%  99.479%
[      70,      80 )    8007   0.001%  99.480%
[      80,      90 )    6150   0.001%  99.480%
[      90,     100 )    2427   0.000%  99.480%
[     100,     120 )    5126   0.001%  99.481%
[     120,     140 )    2949   0.000%  99.481%
[     140,     160 )    1573   0.000%  99.481%
[     160,     180 )    1477   0.000%  99.482%
[     180,     200 )    1629   0.000%  99.482%
[     200,     250 )    6667   0.001%  99.482%
[     250,     300 )    1453   0.000%  99.483%
[     300,     350 )     871   0.000%  99.483%
[     350,     400 )     731   0.000%  99.483%
[     400,     450 )     526   0.000%  99.483%
[     450,     500 )     416   0.000%  99.483%
[     500,     600 )     554   0.000%  99.483%
[     600,     700 )     355   0.000%  99.483%
[     700,     800 )     294   0.000%  99.483%
[     800,     900 )     211   0.000%  99.483%
[     900,    1000 )     192   0.000%  99.483%
[    1000,    1200 ) 5134815   0.513%  99.996%
[    1200,    1400 )    4130   0.000%  99.997%
[    1400,    1600 )    1866   0.000%  99.997%
[    1600,    1800 )    1023   0.000%  99.997%
[    1800,    2000 )     736   0.000%  99.997%
[    2000,    2500 )    1144   0.000%  99.997%
[    2500,    3000 )     845   0.000%  99.997%
[    3000,    3500 )     800   0.000%  99.998%
[    3500,    4000 )     768   0.000%  99.998%
[    4000,    4500 )     759   0.000%  99.998%
[    4500,    5000 )     733   0.000%  99.998%
[    5000,    6000 )    1337   0.000%  99.998%
[    6000,    7000 )    1243   0.000%  99.998%
[    7000,    8000 )    1155   0.000%  99.998%
[    8000,    9000 )    1088   0.000%  99.998%
[    9000,   10000 )    1017   0.000%  99.998%
[   10000,   12000 )    2042   0.000%  99.999%
[   12000,   14000 )    2321   0.000%  99.999%
[   14000,   16000 )    2062   0.000%  99.999%
[   16000,   18000 )    1905   0.000%  99.999%
[   18000,   20000 )    1468   0.000%  99.999%
[   20000,   25000 )    2502   0.000% 100.000%
[   25000,   30000 )    1592   0.000% 100.000%
[   30000,   35000 )    1003   0.000% 100.000%
[   35000,   40000 )     689   0.000% 100.000%
[   40000,   45000 )     385   0.000% 100.000%
[   45000,   50000 )     255   0.000% 100.000%
[   50000,   60000 )     283   0.000% 100.000%
[   60000,   70000 )     103   0.000% 100.000%
[   70000,   80000 )      67   0.000% 100.000%
[   80000,   90000 )      32   0.000% 100.000%
[   90000,  100000 )      17   0.000% 100.000%
[  100000,  120000 )      14   0.000% 100.000%
[  120000,  140000 )       6   0.000% 100.000%
[  160000,  180000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        4      205      1741        0    138761
  1       20      928      5538   419461    317859
  2      121     6843      3353   241595    233664
  3      314    20266       507    35940     34955
user_io:138760.616MB total_ios: 725238.072MB WriteAmplification: 5.2265

Checking if iostat process with PID 2342378 is still running...
    PID TTY          TIME CMD
2342378 pts/1    00:00:00 iostat
iostat process 2342378 is still running, killing now...
iostat process 2342378 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0500.sh: line 45: 2342378 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2342379':

     13,985,672.79 msec task-clock                       #    1.222 CPUs utilized
         6,473,422      context-switches                 #  462.861 /sec
             4,627      cpu-migrations                   #    0.331 /sec
        21,219,196      page-faults                      #    1.517 K/sec
44,053,824,236,753      cycles                           #    3.150 GHz
93,454,337,591,686      instructions                     #    2.12  insn per cycle
13,279,942,702,354      branches                         #  949.539 M/sec
    34,218,103,744      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      1.2 %  tma_backend_bound
                                                  #     92.3 %  tma_bad_speculation
                                                  #      2.6 %  tma_frontend_bound
                                                  #      3.9 %  tma_retiring

   11440.780172135 seconds time elapsed
