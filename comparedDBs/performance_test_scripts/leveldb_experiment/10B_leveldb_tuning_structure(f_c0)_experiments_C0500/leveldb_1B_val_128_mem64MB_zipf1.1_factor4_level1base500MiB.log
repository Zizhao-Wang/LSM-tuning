LevelDB:    version 1.23
Date:       Sun Jan  5 15:59:36 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.1_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.1_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2110996
../../../leveldb/build_release_f_10_C0_500/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_500/leveldb_f4_1.1_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.1_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_zipf1.1_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.1_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-05 16:13:57 ... thread 0: (99999999,99999999) ops and (116140.2,116140.2) ops/second in (861.028653,861.028653) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256     176        0        0     13748     13748      0      48   263     0       0     0      0    48         0 0.000000 0.000000
    1    13     768     424    34766    34766     25253     25253      0      40    53     0       0     0    376    40         0 0.000000 0.000000
    2    40    2527     201    15266    15266     14583     14583      0       0     0     0       0     0    211     0         0 0.000000 0.000000
user_io:13747.805MB total_ios: 53583.735MB WriteAmplification: 3.8976
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-05 16:30:16 ... thread 0: (100000000,199999999) ops and (102180.5,108714.1) ops/second in (978.659873,1839.688526) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359     352        0        0     27650     27650      0      88   532     0       0     0      0    88         0 0.000000 0.000000
    1    14     727     900    72562    72562     53190     53190      0      87   107     0       0     0    828    87        13 0.000000 65.210205
    2    45    2793     482    36358    36358     34960     34960      0       3     3     0       0     0    516     3        43 65.210205 65.176388
    3    46    3000      11      782      782       781       781      0       0     0     0       0     0      9     0         0 65.176388 0.000000
user_io:27649.512MB total_ios: 116580.206MB WriteAmplification: 4.2164
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13735.996 MB data into db.)


2025-01-05 16:48:55 ... thread 0: (100000000,299999999) ops and (89346.1,101387.9) ops/second in (1119.243512,2958.932038) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     154     530        0        0     41500     41500      0     126   806     0       0     0      0   126         0 0.000000 0.000000
    1    15     867    1471   114674   114674     85161     85161      0     134   159     0       0     0   1349   134        22 0.000000 65.263789
    2    60    3637     761    55678    55678     53565     53565      0      28    28     0       0     0    783    28        53 65.263789 61.518846
    3    74    4819      79     4947     4947      4550      4550      0       0     0     0       0     0     62     0         0 61.518846 0.000000
user_io:41499.875MB total_ios: 184776.909MB WriteAmplification: 4.4525
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27471.990 MB data into db.)


2025-01-05 17:10:06 ... thread 0: (100000000,399999999) ops and (78666.8,94560.1) ops/second in (1271.183553,4230.115591) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103     717        0        0     55402     55402      0     160  1078     0       0     0      0   160         0 0.000000 0.000000
    1    20    1017    2119   160282   160282    120326    120326      0     183   211     0       0     0   1939   183        25 0.000000 65.230815
    2    67    3962    1048    74157    74157     71619     71619      0      67    67     0       0     0   1063    67        53 65.230815 61.518846
    3   114    7420     195    11923    11923     11517     11517      0       0     0     0       0     0    134     0         0 61.518846 0.000000
user_io:55401.595MB total_ios: 258863.774MB WriteAmplification: 4.6725
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41207.983 MB data into db.)


2025-01-05 17:31:35 ... thread 0: (100000000,499999999) ops and (77563.9,90590.0) ops/second in (1289.259526,5519.375117) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     205     906        0        0     69303     69303      0     194  1347     0       0     0      0   194         0 0.000000 0.000000
    1    19    1005    2777   205388   205388    155350    155350      0     233   264     0       0     0   2518   233        34 0.000000 65.279176
    2    65    3769    1326    93765    93765     90425     90425      0     113   116     0       0     0   1355   113        54 65.279176 0.000307
    3   153    9825     325    20119    20119     18998     18998      0       0     0     0       0     0    224     0         0 0.000307 0.000000
user_io:69303.310MB total_ios: 334076.565MB WriteAmplification: 4.8205
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54943.976 MB data into db.)


2025-01-05 17:53:23 ... thread 0: (100000000,599999999) ops and (76476.5,87886.8) ops/second in (1307.591805,6826.966922) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     154    1088        0        0     83205     83205      0     228  1619     0       0     0      0   228         0 0.000000 0.000000
    1    17     962    3436   251768   251768    191315    191315      0     284   319     0       0     0   3125   284        38 0.000000 65.244008
    2    70    4029    1615   114280   114280    110520    110520      0     157   163     0       0     0   1668   157        54 65.244008 0.000307
    3   197   12624     476    30497    30497     29274     29274      0       0     0     0       0     0    356     0         0 0.000307 0.000000
user_io:83205.043MB total_ios: 414314.664MB WriteAmplification: 4.9794
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68679.969 MB data into db.)


2025-01-05 18:14:27 ... thread 0: (100000000,699999999) ops and (79115.9,86516.6) ops/second in (1263.968287,8090.935209) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103    1268        0        0     97107     97107      0     262  1891     0       0     0      0   262         0 0.000000 0.000000
    1    18    1012    4074   297323   297323    226548    226548      0     340   379     0       0     0   3707   340        39 0.000000 0.000451
    2    73    3947    1889   133988   133988    129243    129243      0     196   205     0       0     0   1994   196        54 0.000451 0.000307
    3   239   15289     613    40454    40454     39218     39218      0       0     0     0       0     0    474     0         0 0.000307 0.000000
user_io:97106.726MB total_ios: 492115.724MB WriteAmplification: 5.0678
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82415.963 MB data into db.)


2025-01-05 18:35:52 ... thread 0: (100000000,799999999) ops and (77829.9,85326.2) ops/second in (1284.853853,9375.789062) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1441        0        0    110957    110957      0     296  2163     0       0     0      0   296         0 0.000000 0.000000
    1    20    1093    4705   342954   342954    261761    261761      0     386   430     0       0     0   4288   386        46 0.000000 65.277600
    2    69    3952    2165   152072   152072    147114    147114      0     245   259     0       0     0   2296   245        54 65.277600 0.000307
    3   252   15989     788    52532    52532     50132     50132      0       0     0     0       0     0    631     0        21 0.000307 65.284992
    4    21    1371       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.284992 0.000000
user_io:110957.123MB total_ios: 569963.617MB WriteAmplification: 5.1368
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96151.958 MB data into db.)


2025-01-05 18:57:29 ... thread 0: (100000000,899999999) ops and (77071.5,84322.7) ops/second in (1297.496856,10673.285918) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359    1612        0        0    124859    124859      0     329  2427     0       0     0      0   329         0 0.000000 0.000000
    1    18     999    5317   387852   387852    296725    296725      0     442   490     0       0     0   4866   442        47 0.000000 0.000308
    2    66    3944    2435   172688   172688    166808    166808      0     289   305     0       0     0   2603   289        54 0.000308 0.000307
    3   250   15866    1001    64274    64274     61854     61854      0       0     0     0       0     0    775     0        67 0.000307 65.279701
    4    67    4264       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.279701 0.000000
user_io:124858.895MB total_ios: 650245.378MB WriteAmplification: 5.2078
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109887.955 MB data into db.)


2025-01-05 19:17:36 ... thread 0: (100000000,999999999) ops and (82877.2,84175.9) ops/second in (1206.604715,11879.890633) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     205    1788        0        0    138761    138761      0     366  2701     0       0     0      0   366         0 0.000000 0.000000
    1     9     527    5906   431971   431971    330457    330457      0     498   550     0       0     0   5433   498        54 0.000000 65.257507
    2    39    1974    2711   193232   193232    186680    186680      0     313   331     0       0     0   2927   313       117 65.257507 65.237474
    3   127    7972    1131    71592    71592     69163     69163      0       0     0     0       0     0    872     0       276 65.237474 65.190010
    4   276   17590       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.190010 0.000000
user_io:138760.616MB total_ios: 725061.560MB WriteAmplification: 5.2253
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123623.953 MB data into db.)


1000000000 operations have been finished (137359.952 MB data have been written into db)
fillzipf     :      11.880 micros/op 84175 ops/sec;   11.6 MB/s
Microseconds per op:
Count: 1000000000  Average: 11.8799  StdDev: 137.52
Percentiles: P50: 5.64 P75: 6.57 P99: 11.42 P99.9: 1165.32 P99.99: 1197.76
------------------------------------------------------
[       2,       3 )  177654   0.018%   0.018%
[       3,       4 ) 72332004   7.233%   7.251% #
[       4,       5 ) 209055526  20.906%  28.157% ####
[       5,       6 ) 343213912  34.321%  62.478% #######
[       6,       7 ) 221179603  22.118%  84.596% ####
[       7,       8 ) 92966724   9.297%  93.893% ##
[       8,       9 ) 34118995   3.412%  97.304% #
[       9,      10 ) 12379321   1.238%  98.542%
[      10,      12 ) 6442093   0.644%  99.187%
[      12,      14 ) 1115628   0.112%  99.298%
[      14,      16 )  349292   0.035%  99.333%
[      16,      18 )  207970   0.021%  99.354%
[      18,      20 )  204105   0.020%  99.374%
[      20,      25 )  382268   0.038%  99.413%
[      25,      30 )  141475   0.014%  99.427%
[      30,      35 )   48931   0.005%  99.432%
[      35,      40 )   22385   0.002%  99.434%
[      40,      45 )   11657   0.001%  99.435%
[      45,      50 )    6402   0.001%  99.436%
[      50,      60 )   12234   0.001%  99.437%
[      60,      70 )    9716   0.001%  99.438%
[      70,      80 )    3582   0.000%  99.438%
[      80,      90 )    6053   0.001%  99.439%
[      90,     100 )    2476   0.000%  99.439%
[     100,     120 )    4113   0.000%  99.439%
[     120,     140 )    3717   0.000%  99.440%
[     140,     160 )    1604   0.000%  99.440%
[     160,     180 )    1442   0.000%  99.440%
[     180,     200 )    1557   0.000%  99.440%
[     200,     250 )    5889   0.001%  99.441%
[     250,     300 )    1153   0.000%  99.441%
[     300,     350 )     860   0.000%  99.441%
[     350,     400 )     648   0.000%  99.441%
[     400,     450 )     448   0.000%  99.441%
[     450,     500 )     351   0.000%  99.441%
[     500,     600 )     426   0.000%  99.441%
[     600,     700 )     337   0.000%  99.441%
[     700,     800 )     279   0.000%  99.441%
[     800,     900 )     231   0.000%  99.441%
[     900,    1000 )     164   0.000%  99.441%
[    1000,    1200 ) 5549021   0.555%  99.996%
[    1200,    1400 )    3963   0.000%  99.997%
[    1400,    1600 )    1693   0.000%  99.997%
[    1600,    1800 )     949   0.000%  99.997%
[    1800,    2000 )     684   0.000%  99.997%
[    2000,    2500 )    1246   0.000%  99.997%
[    2500,    3000 )     920   0.000%  99.997%
[    3000,    3500 )     925   0.000%  99.997%
[    3500,    4000 )     864   0.000%  99.997%
[    4000,    4500 )     740   0.000%  99.997%
[    4500,    5000 )     823   0.000%  99.998%
[    5000,    6000 )    1572   0.000%  99.998%
[    6000,    7000 )    1408   0.000%  99.998%
[    7000,    8000 )    1323   0.000%  99.998%
[    8000,    9000 )    1229   0.000%  99.998%
[    9000,   10000 )    1216   0.000%  99.998%
[   10000,   12000 )    2368   0.000%  99.998%
[   12000,   14000 )    2472   0.000%  99.999%
[   14000,   16000 )    2094   0.000%  99.999%
[   16000,   18000 )    1960   0.000%  99.999%
[   18000,   20000 )    1406   0.000%  99.999%
[   20000,   25000 )    2712   0.000%  99.999%
[   25000,   30000 )    1723   0.000% 100.000%
[   30000,   35000 )    1188   0.000% 100.000%
[   35000,   40000 )     821   0.000% 100.000%
[   40000,   45000 )     468   0.000% 100.000%
[   45000,   50000 )     321   0.000% 100.000%
[   50000,   60000 )     325   0.000% 100.000%
[   60000,   70000 )     153   0.000% 100.000%
[   70000,   80000 )      81   0.000% 100.000%
[   80000,   90000 )      72   0.000% 100.000%
[   90000,  100000 )      18   0.000% 100.000%
[  100000,  120000 )      16   0.000% 100.000%
[  140000,  160000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        4      205      1788        0    138761
  1        9      527      5906   431971    330457
  2       39     1974      2711   193232    186680
  3      127     7972      1131    71592     69163
  4      276    17590         0        0         0
user_io:138760.616MB total_ios: 725061.560MB WriteAmplification: 5.2253

Checking if iostat process with PID 2110995 is still running...
    PID TTY          TIME CMD
2110995 pts/1    00:00:00 iostat
iostat process 2110995 is still running, killing now...
iostat process 2110995 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0500.sh: line 45: 2110995 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2110996':

     14,002,774.95 msec task-clock                       #    1.179 CPUs utilized
         6,875,834      context-switches                 #  491.034 /sec
             4,131      cpu-migrations                   #    0.295 /sec
        21,567,140      page-faults                      #    1.540 K/sec
43,890,576,429,820      cycles                           #    3.134 GHz
93,652,769,976,835      instructions                     #    2.13  insn per cycle
13,311,971,699,208      branches                         #  950.667 M/sec
    34,183,147,732      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      1.8 %  tma_backend_bound
                                                  #     90.9 %  tma_bad_speculation
                                                  #      3.5 %  tma_frontend_bound
                                                  #      3.8 %  tma_retiring

   11879.181388954 seconds time elapsed
