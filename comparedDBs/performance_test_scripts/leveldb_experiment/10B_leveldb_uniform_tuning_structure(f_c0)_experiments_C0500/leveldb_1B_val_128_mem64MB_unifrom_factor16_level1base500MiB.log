LevelDB:    version 1.23
Date:       Mon Jan 13 20:59:54 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f16_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f16_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3891980
../../../leveldb/build_release_f_16_C0_500/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f16_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_uniform_f16_memory_usage_1B_key16_val128_mem64MiB_factor16_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-13 21:22:41 ... thread 0: (99999999,99999999) ops and (73164.1,73164.1) ops/second in (1366.790716,1366.790716) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     139        0        0     14002     14002      0      36   262     0       0     0      0    36         0 0.000000 0.000000
    1    28    1296     592    43192    43192     43012     43012      0     179   214     0       0     0    570   179         0 0.000000 0.000000
    2   186   11772     596    53689    53689     53249     53249      0       0     0     0       0     0    678     0         0 0.000000 0.000000
user_io:14001.624MB total_ios: 110261.861MB WriteAmplification: 7.8749
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-13 21:56:52 ... thread 0: (100000000,199999999) ops and (48752.5,58514.3) ops/second in (2051.177644,3417.968360) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     276        0        0     28160     28160      0      70   533     0       0     0      0    70         0 0.000000 0.000000
    1    35    1333    1236    89839    89839     89402     89402      0     437   484     0       0     0   1399   437         8 0.000000 65.270147
    2   256   16023    1828   164870   164870    162961    162961      0       3     3     0       0     0   2291     3       127 65.270147 65.284105
    3   130    8140       5      446      446       441       441      0       0     0     0       0     0      4     0         0 65.284105 0.000000
user_io:28159.986MB total_ios: 280964.254MB WriteAmplification: 9.9774
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-13 22:32:17 ... thread 0: (100000000,299999999) ops and (47067.8,54126.6) ops/second in (2124.593381,5542.561741) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261     416        0        0     42318     42318      0     104   805     0       0     0      0   104         0 0.000000 0.000000
    1    36    1396    1887   136864   136864    136168    136168      0     674   748     0       0     0   2281   674         8 0.000000 65.270147
    2   261   15945    3105   279142   279142    275644    275644      0       8    10     0       0     0   3967     8       318 65.270147 57.230916
    3   326   20495      23     2091     2091      2064      2064      0       0     0     0       0     0     25     0         0 57.230916 0.000000
user_io:42318.350MB total_ios: 456193.006MB WriteAmplification: 10.7800
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-13 23:10:59 ... thread 0: (100000000,399999999) ops and (43050.7,50855.6) ops/second in (2322.843807,7865.405548) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     553        0        0     56424     56424      0     138  1077     0       0     0      0   138         0 0.000000 0.000000
    1    29    1346    2538   183910   183910    182955    182955      0     930  1038     0       0     0   3150   930         9 0.000000 18.158253
    2   272   15994    4399   393082   393082    388051    388051      0     115   117     0       0     0   5708   115       408 18.158253 41.514750
    3   504   32020     224    20813    20813     19890     19890      0       0     0     0       0     0    261     0         0 41.514750 0.000000
user_io:56424.465MB total_ios: 647320.879MB WriteAmplification: 11.4723
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-13 23:53:31 ... thread 0: (100000000,499999999) ops and (39189.0,47997.8) ops/second in (2551.739460,10417.145008) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     692        0        0     70583     70583      0     172  1349     0       0     0      0   172         0 0.000000 0.000000
    1    36    1373    3194   231026   231026    229812    229812      0    1186  1315     0       0     0   4005  1186         9 0.000000 18.158253
    2   282   15993    5715   507749   507749    501154    501154      0     313   319     0       0     0   7534   313       408 18.158253 41.514750
    3   656   42215     623    58029    58029     54942     54942      0       0     0     0       0     0    749     0         0 41.514750 0.000000
user_io:70582.823MB total_ios: 856490.400MB WriteAmplification: 12.1345
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-14 00:36:43 ... thread 0: (100000000,599999999) ops and (38586.0,46122.8) ops/second in (2591.612557,13008.757565) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     831        0        0     84741     84741      0     206  1621     0       0     0      0   206         0 0.000000 0.000000
    1    36    1350    3857   278350   278350    276875    276875      0    1440  1591     0       0     0   4882  1440         9 0.000000 18.158253
    2   289   15996    7050   624112   624112    615880    615880      0     506   527     0       0     0   9409   506       408 18.158253 41.514750
    3   800   51452    1034    96869    96869     90685     90685      0       0     0     0       0     0   1248     0         0 41.514750 0.000000
user_io:84741.175MB total_ios: 1068181.419MB WriteAmplification: 12.6052
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-14 01:20:33 ... thread 0: (100000000,699999999) ops and (38021.6,44760.3) ops/second in (2630.085093,15638.842658) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     969        0        0     98900     98900      0     240  1893     0       0     0      0   240         0 0.000000 0.000000
    1    33    1399    4519   325294   325294    323561    323561      0    1687  1874     0       0     0   5748  1687        11 0.000000 0.000306
    2   291   15966    8387   740289   740289    730476    730476      0     700   735     0       0     0  11344   700       408 0.000306 41.514750
    3   938   59786    1483   139909   139909    129707    129707      0       0     0     0       0     0   1810     0         0 41.514750 0.000000
user_io:98899.538MB total_ios: 1282643.345MB WriteAmplification: 12.9692
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-14 02:03:40 ... thread 0: (100000000,799999999) ops and (38657.3,43894.1) ops/second in (2586.831942,18225.674600) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313    1107        0        0    113006    113006      0     273  2157     0       0     0      0   273         0 0.000000 0.000000
    1    27    1235    5172   371123   371123    369138    369138      0    1931  2143     0       0     0   6591  1931        11 0.000000 0.000306
    2   294   16096    9673   850540   850540    839206    839206      0     888   940     0       0     0  13229   888       408 0.000306 41.514750
    3  1056   67169    1944   184247   184247    169374    169374      0       0     0     0       0     0   2394     0         0 41.514750 0.000000
user_io:113005.655MB total_ios: 1490723.744MB WriteAmplification: 13.1916
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-14 02:48:41 ... thread 0: (100000000,899999999) ops and (37025.2,43007.6) ops/second in (2700.863453,20926.538053) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261    1245        0        0    127164    127164      0     307  2429     0       0     0      0   307         0 0.000000 0.000000
    1    40    1380    5844   418159   418159    415915    415915      0    2179  2420     0       0     0   7446  2179        11 0.000000 0.000306
    2   304   15989   11006   963913   963913    950994    950994      0    1084  1155     0       0     0  15172  1084       408 0.000306 41.514750
    3  1161   74004    2449   232999   232999    212633    212633      0       0     0     0       0     0   3055     0         0 41.514750 0.000000
user_io:127164.013MB total_ios: 1706706.083MB WriteAmplification: 13.4213
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-14 03:35:18 ... thread 0: (100000000,999999999) ops and (35741.6,42150.7) ops/second in (2797.862601,23724.400654) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209    1383        0        0    141322    141322      0     341  2701     0       0     0      0   341         0 0.000000 0.000000
    1    36    1352    6524   465426   465426    462921    462921      0    2437  2702     0       0     0   8320  2437        11 0.000000 0.000306
    2   311   15963   12388  1080386  1080386   1065852   1065852      0    1282  1372     0       0     0  17220  1282       408 0.000306 41.514750
    3  1266   80208    3001   286061   286061    259510    259510      0       0     0     0       0     0   3770     0         0 41.514750 0.000000
user_io:141322.374MB total_ios: 1929605.663MB WriteAmplification: 13.6539
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      23.724 micros/op 42150 ops/sec;    5.8 MB/s
Microseconds per op:
Count: 1000000000  Average: 23.7244  StdDev: 146.54
Percentiles: P50: 5.82 P75: 6.69 P99: 1078.58 P99.9: 1188.03 P99.99: 1198.98
------------------------------------------------------
[       2,       3 )   37980   0.004%   0.004%
[       3,       4 ) 10842822   1.084%   1.088%
[       4,       5 ) 172007744  17.201%  18.289% ###
[       5,       6 ) 384642510  38.464%  56.753% ########
[       6,       7 ) 264309468  26.431%  83.184% #####
[       7,       8 ) 101638345  10.164%  93.348% ##
[       8,       9 ) 32595800   3.260%  96.607% #
[       9,      10 ) 10529285   1.053%  97.660%
[      10,      12 ) 4809154   0.481%  98.141%
[      12,      14 )  705087   0.071%  98.212%
[      14,      16 )  239403   0.024%  98.236%
[      16,      18 )  173839   0.017%  98.253%
[      18,      20 )  198520   0.020%  98.273%
[      20,      25 )  432810   0.043%  98.316%
[      25,      30 )  195849   0.020%  98.336%
[      30,      35 )   50958   0.005%  98.341%
[      35,      40 )   12065   0.001%  98.342%
[      40,      45 )    4240   0.000%  98.343%
[      45,      50 )    2889   0.000%  98.343%
[      50,      60 )   66436   0.007%  98.350%
[      60,      70 )    9241   0.001%  98.350%
[      70,      80 )    6909   0.001%  98.351%
[      80,      90 )    7609   0.001%  98.352%
[      90,     100 )    2236   0.000%  98.352%
[     100,     120 )    2870   0.000%  98.352%
[     120,     140 )    3542   0.000%  98.353%
[     140,     160 )    1050   0.000%  98.353%
[     160,     180 )    1095   0.000%  98.353%
[     180,     200 )     952   0.000%  98.353%
[     200,     250 )    4133   0.000%  98.353%
[     250,     300 )     722   0.000%  98.354%
[     300,     350 )     421   0.000%  98.354%
[     350,     400 )     391   0.000%  98.354%
[     400,     450 )     400   0.000%  98.354%
[     450,     500 )     404   0.000%  98.354%
[     500,     600 )     707   0.000%  98.354%
[     600,     700 )     596   0.000%  98.354%
[     700,     800 )     259   0.000%  98.354%
[     800,     900 )     141   0.000%  98.354%
[     900,    1000 )      65   0.000%  98.354%
[    1000,    1200 ) 16445234   1.645%  99.998%
[    1200,    1400 )    6566   0.001%  99.999%
[    1400,    1600 )    1420   0.000%  99.999%
[    1600,    1800 )     644   0.000%  99.999%
[    1800,    2000 )     256   0.000%  99.999%
[    2000,    2500 )     286   0.000%  99.999%
[    2500,    3000 )     206   0.000%  99.999%
[    3000,    3500 )     174   0.000%  99.999%
[    3500,    4000 )     201   0.000%  99.999%
[    4000,    4500 )     213   0.000%  99.999%
[    4500,    5000 )     232   0.000%  99.999%
[    5000,    6000 )     428   0.000%  99.999%
[    6000,    7000 )     302   0.000% 100.000%
[    7000,    8000 )     383   0.000% 100.000%
[    8000,    9000 )     377   0.000% 100.000%
[    9000,   10000 )     331   0.000% 100.000%
[   10000,   12000 )     645   0.000% 100.000%
[   12000,   14000 )     544   0.000% 100.000%
[   14000,   16000 )     585   0.000% 100.000%
[   16000,   18000 )     492   0.000% 100.000%
[   18000,   20000 )     370   0.000% 100.000%
[   20000,   25000 )     527   0.000% 100.000%
[   25000,   30000 )     237   0.000% 100.000%
[   30000,   35000 )     138   0.000% 100.000%
[   35000,   40000 )     120   0.000% 100.000%
[   40000,   45000 )      66   0.000% 100.000%
[   45000,   50000 )      37   0.000% 100.000%
[   50000,   60000 )      29   0.000% 100.000%
[   60000,   70000 )       5   0.000% 100.000%
[   70000,   80000 )       5   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        4      209      1383        0    141322
  1       36     1352      6524   465426    462921
  2      311    15963     12388  1080386   1065852
  3     1266    80208      3001   286061    259510
user_io:141322.374MB total_ios: 1929605.663MB WriteAmplification: 13.6539

Checking if iostat process with PID 3891979 is still running...
    PID TTY          TIME CMD
3891979 pts/4    00:00:00 iostat
iostat process 3891979 is still running, killing now...
iostat process 3891979 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0500.sh: line 43: 3891979 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '3891980':

     25,968,599.48 msec task-clock                       #    1.095 CPUs utilized
        20,909,416      context-switches                 #  805.181 /sec
             5,450      cpu-migrations                   #    0.210 /sec
        31,030,562      page-faults                      #    1.195 K/sec
82,491,041,117,702      cycles                           #    3.177 GHz
186,113,469,375,970      instructions                     #    2.26  insn per cycle
26,295,836,399,272      branches                         #    1.013 G/sec
    53,875,729,058      branch-misses                    #    0.20% of all branches
                        TopdownL1                 #      2.6 %  tma_backend_bound
                                                  #     88.6 %  tma_bad_speculation
                                                  #      3.9 %  tma_frontend_bound
                                                  #      4.9 %  tma_retiring

   23723.425637120 seconds time elapsed
