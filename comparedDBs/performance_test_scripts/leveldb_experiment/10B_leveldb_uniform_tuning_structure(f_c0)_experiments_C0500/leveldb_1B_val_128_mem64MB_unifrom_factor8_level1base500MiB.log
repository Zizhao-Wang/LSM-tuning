base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0500.sh: line 43: 3504787 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log
LevelDB:    version 1.23
Date:       Mon Jan 13 08:57:35 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f8_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f8_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3629225
../../../leveldb/build_release_f_8_C0_500/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f8_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_uniform_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-13 09:18:58 ... thread 0: (99999999,99999999) ops and (77951.0,77951.0) ops/second in (1282.856811,1282.856811) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     134        0        0     14002     14002      0      38   268     0       0     0      0    38         0 0.000000 0.000000
    1    24    1340     596    43725    43725     43545     43545      0     166   197     0       0     0    561   166        19 0.000000 65.265869
    2    90    5500     513    46192    46192     45867     45867      0       0     0     0       0     0    578     0       104 65.265869 65.275026
    3   104    6657       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.275026 0.000000
user_io:14001.624MB total_ios: 103414.084MB WriteAmplification: 7.3859
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-13 09:47:31 ... thread 0: (100000000,199999999) ops and (58364.5,66750.6) ops/second in (1713.369736,2996.226547) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     267        0        0     28160     28160      0      71   532     0       0     0      0    71         0 0.000000 0.000000
    1    25    1339    1228    89535    89535     89103     89103      0     368   418     0       0     0   1216   368        34 0.000000 65.270138
    2   131    8010    1249   111069   111069    110065    110065      0      92    92     0       0     0   1475    92       177 65.270138 0.000306
    3   261   16610     184    16894    16894     16492     16492      0       0     0     0       0     0    212     0         0 0.000306 0.000000
user_io:28159.986MB total_ios: 243820.694MB WriteAmplification: 8.6584
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-13 10:22:02 ... thread 0: (100000000,299999999) ops and (48291.8,59207.0) ops/second in (2070.744003,5066.970550) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     402        0        0     42318     42318      0     105   804     0       0     0      0   105         0 0.000000 0.000000
    1    22     984    1885   137044   137044    136352    136352      0     598   666     0       0     0   1910   598        36 0.000000 44.371714
    2   147    8379    2060   182515   182515    180736    180736      0     301   303     0       0     0   2523   301       177 44.371714 0.000306
    3   436   28316     620    57118    57118     55263     55263      0       0     0     0       0     0    731     0         0 0.000306 0.000000
user_io:42318.350MB total_ios: 414669.441MB WriteAmplification: 9.7988
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-13 10:57:37 ... thread 0: (100000000,399999999) ops and (46846.7,55543.3) ops/second in (2134.622397,7201.592947) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     534        0        0     56424     56424      0     139  1076     0       0     0      0   139         0 0.000000 0.000000
    1    25    1392    2538   184210   184210    183259    183259      0     822   909     0       0     0   2594   822        36 0.000000 44.371714
    2   151    7997    2846   251702   251702    249148    249148      0     509   526     0       0     0   3625   509       177 44.371714 0.000306
    3   607   38864    1140   105844   105844    101385    101385      0       0     0     0       0     0   1368     0         0 0.000306 0.000000
user_io:56424.465MB total_ios: 590216.601MB WriteAmplification: 10.4603
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-13 11:34:40 ... thread 0: (100000000,499999999) ops and (44981.8,53052.0) ops/second in (2223.121518,9424.714465) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     668        0        0     70583     70583      0     173  1348     0       0     0      0   173         0 0.000000 0.000000
    1    30    1407    3188   231374   231374    230165    230165      0    1047  1151     0       0     0   3279  1047        37 0.000000 9.069390
    2   162    7972    3628   320529   320529    317238    317238      0     724   759     0       0     0   4780   724       177 9.069390 0.000306
    3   762   48439    1761   164265   164265    156158    156158      0       0     0     0       0     0   2155     0         0 0.000306 0.000000
user_io:70582.823MB total_ios: 774143.651MB WriteAmplification: 10.9679
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-13 12:13:08 ... thread 0: (100000000,599999999) ops and (43322.7,51137.9) ops/second in (2308.256424,11732.970889) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     801        0        0     84741     84741      0     207  1620     0       0     0      0   207         0 0.000000 0.000000
    1    28    1397    3846   278586   278586    277117    277117      0    1274  1400     0       0     0   3977  1274        38 0.000000 1.736939
    2   157    7958    4424   390287   390287    386228    386228      0     940   987     0       0     0   5989   940       177 1.736939 0.000306
    3   900   57098    2444   228930   228930    216274    216274      0       0     0     0       0     0   3043     0         0 0.000306 0.000000
user_io:84741.175MB total_ios: 964360.033MB WriteAmplification: 11.3801
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-13 12:53:40 ... thread 0: (100000000,699999999) ops and (41124.4,49418.9) ops/second in (2431.647944,14164.618833) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     935        0        0     98900     98900      0     241  1892     0       0     0      0   241         0 0.000000 0.000000
    1    28    1406    4507   325685   325685    323957    323957      0    1503  1649     0       0     0   4672  1503        38 0.000000 1.736939
    2   170    7953    5250   461685   461685    456844    456844      0    1160  1222     0       0     0   7260  1160       177 1.736939 0.000306
    3  1010   63993    3211   301303   301303    283280    283280      0       0     0     0       0     0   4061     0        14 0.000306 65.286067
    4    14     904       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.286067 0.000000
user_io:98899.538MB total_ios: 1162980.176MB WriteAmplification: 11.7592
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-13 13:32:13 ... thread 0: (100000000,799999999) ops and (43233.3,48550.6) ops/second in (2313.029508,16477.648341) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1069        0        0    113006    113006      0     274  2156     0       0     0      0   274         0 0.000000 0.000000
    1    25    1312    5162   371489   371489    369510    369510      0    1723  1884     0       0     0   5344  1723        41 0.000000 65.270071
    2   179    7988    6008   526500   526500    520949    520949      0    1360  1432     0       0     0   8465  1360       202 65.270071 65.279153
    3  1015   63962    3930   368811   368811    345570    345570      0       1     1     0       0     0   5021     1       135 65.279153 65.285950
    4   136    8590       3      261      261       245       245      0       0     0     0       0     0      3     0         0 65.285950 0.000000
user_io:113005.655MB total_ios: 1349278.632MB WriteAmplification: 11.9399
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-13 14:12:53 ... thread 0: (100000000,899999999) ops and (40973.6,47573.1) ops/second in (2440.594647,18918.242988) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313    1203        0        0    127164    127164      0     308  2428     0       0     0      0   308         0 0.000000 0.000000
    1    22    1024    5829   418500   418500    416262    416262      0    1958  2130     0       0     0   6027  1958        42 0.000000 65.270484
    2   165    8133    6820   595926   595926    589599    589599      0    1578  1663     0       0     0   9721  1578       218 65.270484 65.278714
    3  1023   64128    4716   442491   442491    413637    413637      0       1     1     0       0     0   6064     1       254 65.278714 65.284605
    4   255   16131       3      261      261       245       245      0       0     0     0       0     0      3     0         0 65.284605 0.000000
user_io:127164.013MB total_ios: 1546907.517MB WriteAmplification: 12.1647
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-13 14:53:45 ... thread 0: (100000000,999999999) ops and (40782.3,46793.9) ops/second in (2452.044158,21370.287146) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261    1335        0        0    141322    141322      0     342  2700     0       0     0      0   342         0 0.000000 0.000000
    1    25    1195    6499   465499   465499    463003    463003      0    2181  2368     0       0     0   6717  2181        46 0.000000 0.000306
    2   170    8160    7637   665648   665648    658532    658532      0    1767  1909     0       0     0  10942  1767       238 0.000306 65.281166
    3  1024   63938    5500   516480   516480    481121    481121      0       2     2     0       0     0   7106     2       357 65.281166 65.284696
    4   358   22752       6      593      593       550       550      0       0     0     0       0     0      8     0         0 65.284696 0.000000
user_io:141322.374MB total_ios: 1744527.199MB WriteAmplification: 12.3443
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      21.370 micros/op 46793 ops/sec;    6.4 MB/s
Microseconds per op:
Count: 1000000000  Average: 21.3703  StdDev: 137.53
Percentiles: P50: 5.79 P75: 6.67 P99: 1060.57 P99.9: 1186.25 P99.99: 1198.81
------------------------------------------------------
[       2,       3 )  105452   0.011%   0.011%
[       3,       4 ) 16628455   1.663%   1.673%
[       4,       5 ) 186492735  18.649%  20.323% ####
[       5,       6 ) 375010018  37.501%  57.824% ########
[       6,       7 ) 257674787  25.767%  83.591% #####
[       7,       8 ) 100387469  10.039%  93.630% ##
[       8,       9 ) 32171654   3.217%  96.847% #
[       9,      10 ) 10318574   1.032%  97.879%
[      10,      12 ) 4710488   0.471%  98.350%
[      12,      14 )  706071   0.071%  98.421%
[      14,      16 )  247742   0.025%  98.445%
[      16,      18 )  198163   0.020%  98.465%
[      18,      20 )  224556   0.022%  98.488%
[      20,      25 )  430255   0.043%  98.531%
[      25,      30 )  180270   0.018%  98.549%
[      30,      35 )   47369   0.005%  98.553%
[      35,      40 )   11912   0.001%  98.555%
[      40,      45 )    4002   0.000%  98.555%
[      45,      50 )    2700   0.000%  98.555%
[      50,      60 )   67344   0.007%  98.562%
[      60,      70 )    8346   0.001%  98.563%
[      70,      80 )    6821   0.001%  98.564%
[      80,      90 )    7597   0.001%  98.564%
[      90,     100 )    2210   0.000%  98.564%
[     100,     120 )    3289   0.000%  98.565%
[     120,     140 )    3105   0.000%  98.565%
[     140,     160 )    1133   0.000%  98.565%
[     160,     180 )    1105   0.000%  98.565%
[     180,     200 )    1079   0.000%  98.565%
[     200,     250 )    3796   0.000%  98.566%
[     250,     300 )     720   0.000%  98.566%
[     300,     350 )     552   0.000%  98.566%
[     350,     400 )     576   0.000%  98.566%
[     400,     450 )     443   0.000%  98.566%
[     450,     500 )     337   0.000%  98.566%
[     500,     600 )     719   0.000%  98.566%
[     600,     700 )     563   0.000%  98.566%
[     700,     800 )     279   0.000%  98.566%
[     800,     900 )     129   0.000%  98.566%
[     900,    1000 )      60   0.000%  98.566%
[    1000,    1200 ) 14322051   1.432%  99.998%
[    1200,    1400 )    5885   0.001%  99.999%
[    1400,    1600 )    1356   0.000%  99.999%
[    1600,    1800 )     552   0.000%  99.999%
[    1800,    2000 )     182   0.000%  99.999%
[    2000,    2500 )     252   0.000%  99.999%
[    2500,    3000 )     239   0.000%  99.999%
[    3000,    3500 )     232   0.000%  99.999%
[    3500,    4000 )     239   0.000%  99.999%
[    4000,    4500 )     216   0.000%  99.999%
[    4500,    5000 )     265   0.000%  99.999%
[    5000,    6000 )     498   0.000%  99.999%
[    6000,    7000 )     331   0.000% 100.000%
[    7000,    8000 )     366   0.000% 100.000%
[    8000,    9000 )     343   0.000% 100.000%
[    9000,   10000 )     343   0.000% 100.000%
[   10000,   12000 )     710   0.000% 100.000%
[   12000,   14000 )     658   0.000% 100.000%
[   14000,   16000 )     613   0.000% 100.000%
[   16000,   18000 )     439   0.000% 100.000%
[   18000,   20000 )     317   0.000% 100.000%
[   20000,   25000 )     445   0.000% 100.000%
[   25000,   30000 )     224   0.000% 100.000%
[   30000,   35000 )     153   0.000% 100.000%
[   35000,   40000 )     113   0.000% 100.000%
[   40000,   45000 )      51   0.000% 100.000%
[   45000,   50000 )      23   0.000% 100.000%
[   50000,   60000 )      15   0.000% 100.000%
[   60000,   70000 )      10   0.000% 100.000%
[   70000,   80000 )       4   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5      261      1335        0    141322
  1       25     1195      6499   465499    463003
  2      170     8160      7637   665648    658532
  3     1024    63938      5500   516480    481121
  4      358    22752         6      593       550
user_io:141322.374MB total_ios: 1744527.199MB WriteAmplification: 12.3443

Checking if iostat process with PID 3629224 is still running...
    PID TTY          TIME CMD
3629224 pts/4    00:00:00 iostat
iostat process 3629224 is still running, killing now...
iostat process 3629224 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0500.sh: line 43: 3629224 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '3629225':

     23,889,490.51 msec task-clock                       #    1.118 CPUs utilized
        18,143,552      context-switches                 #  759.478 /sec
             7,284      cpu-migrations                   #    0.305 /sec
        30,177,973      page-faults                      #    1.263 K/sec
76,020,814,021,966      cycles                           #    3.182 GHz
171,219,959,269,371      instructions                     #    2.25  insn per cycle
24,204,358,226,918      branches                         #    1.013 G/sec
    51,302,004,353      branch-misses                    #    0.21% of all branches
                        TopdownL1                 #      2.3 %  tma_backend_bound
                                                  #     88.4 %  tma_bad_speculation
                                                  #      4.1 %  tma_frontend_bound
                                                  #      5.2 %  tma_retiring

   21369.026787867 seconds time elapsed
