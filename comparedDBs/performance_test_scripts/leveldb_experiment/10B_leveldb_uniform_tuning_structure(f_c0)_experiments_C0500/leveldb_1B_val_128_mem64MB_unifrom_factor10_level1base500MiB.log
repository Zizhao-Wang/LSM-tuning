LevelDB:    version 1.23
Date:       Mon Jan 13 14:54:08 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f10_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f10_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3760014
../../../leveldb/build_release_f_10_C0_500/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f10_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_uniform_f10_memory_usage_1B_key16_val128_mem64MiB_factor10_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-13 15:16:53 ... thread 0: (99999999,99999999) ops and (73227.4,73227.4) ops/second in (1365.609623,1365.609623) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261     133        0        0     14002     14002      0      36   263     0       0     0      0    36         0 0.000000 0.000000
    1    30    1338     591    43258    43258     43077     43077      0     187   212     0       0     0    571   187         0 0.000000 0.000000
    2   160   10025     600    54534    54534     54093     54093      0       0     0     0       0     0    697     0        27 0.000000 65.278471
    3    27    1756       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.278471 0.000000
user_io:14001.624MB total_ios: 111171.769MB WriteAmplification: 7.9399
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-13 15:43:58 ... thread 0: (100000000,199999999) ops and (61565.0,66891.6) ops/second in (1624.300540,2989.910163) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     266        0        0     28160     28160      0      71   539     0       0     0      0    71         0 0.000000 0.000000
    1    29    1365    1239    90256    90256     89817     89817      0     398   445     0       0     0   1272   398        27 0.000000 65.269764
    2   162    9969    1406   126475   126475    125216    125216      0       4     4     0       0     0   1730     4       235 65.269764 65.283794
    3   239   15112      13     1230     1230      1215      1215      0       0     0     0       0     0     15     0         0 65.283794 0.000000
user_io:28159.986MB total_ios: 244406.847MB WriteAmplification: 8.6792
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-13 16:18:56 ... thread 0: (100000000,299999999) ops and (47647.5,58954.7) ops/second in (2098.745956,5088.656119) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     400        0        0     42318     42318      0     104   803     0       0     0      0   104         0 0.000000 0.000000
    1    26    1272    1876   136228   136228    135536    135536      0     628   689     0       0     0   1993   628        29 0.000000 0.000442
    2   177   10099    2320   206895   206895    204668    204668      0     192   193     0       0     0   2892   192       247 0.000442 30.796417
    3   409   26389     390    36116    36116     34843     34843      0       0     0     0       0     0    466     0         0 30.796417 0.000000
user_io:42318.350MB total_ios: 417365.160MB WriteAmplification: 9.8625
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-13 16:55:49 ... thread 0: (100000000,399999999) ops and (45194.9,54784.8) ops/second in (2212.636618,7301.292737) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261     534        0        0     56424     56424      0     138  1075     0       0     0      0   138         0 0.000000 0.000000
    1    28    1326    2532   183569   183569    182617    182617      0     867   939     0       0     0   2731   867        30 0.000000 11.093576
    2   178   10015    3246   288794   288794    285599    285599      0     398   407     0       0     0   4183   398       247 11.093576 30.796417
    3   577   37225     851    79244    79244     75794     75794      0       0     0     0       0     0   1025     0         0 30.796417 0.000000
user_io:56424.465MB total_ios: 600434.305MB WriteAmplification: 10.6414
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-13 17:33:44 ... thread 0: (100000000,499999999) ops and (43952.0,52211.1) ops/second in (2275.206799,9576.499536) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     668        0        0     70583     70583      0     172  1347     0       0     0      0   172         0 0.000000 0.000000
    1    30    1385    3186   230862   230862    229650    229650      0    1101  1188     0       0     0   3470  1101        31 0.000000 17.508203
    2   187    9939    4165   369787   369787    365653    365653      0     605   624     0       0     0   5534   605       247 17.508203 30.796417
    3   734   46986    1373   128517   128517    121799    121799      0       0     0     0       0     0   1673     0         0 30.796417 0.000000
user_io:70582.823MB total_ios: 787685.008MB WriteAmplification: 11.1597
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-13 18:12:42 ... thread 0: (100000000,599999999) ops and (42777.1,50360.1) ops/second in (2337.699574,11914.199110) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     801        0        0     84741     84741      0     206  1619     0       0     0      0   206         0 0.000000 0.000000
    1    29    1352    3843   278038   278038    276568    276568      0    1341  1443     0       0     0   4206  1341        31 0.000000 17.508203
    2   195    9987    5095   451382   451382    446288    446288      0     811   842     0       0     0   6932   811       247 17.508203 30.796417
    3   872   55760    1951   183422   183422    172499    172499      0       0     0     0       0     0   2414     0         0 30.796417 0.000000
user_io:84741.175MB total_ios: 980096.389MB WriteAmplification: 11.5658
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-13 18:53:04 ... thread 0: (100000000,699999999) ops and (41278.7,48825.6) ops/second in (2422.556306,14336.755416) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     936        0        0     98900     98900      0     240  1891     0       0     0      0   240         0 0.000000 0.000000
    1    30    1397    4506   325008   325008    323280    323280      0    1578  1692     0       0     0   4937  1578        32 0.000000 23.622513
    2   201    9951    6047   533779   533779    527725    527725      0    1024  1071     0       0     0   8387  1024       247 23.622513 30.796417
    3  1009   63703    2581   243064   243064    227103    227103      0       0     0     0       0     0   3224     0         0 30.796417 0.000000
user_io:98899.538MB total_ios: 1177007.373MB WriteAmplification: 11.9010
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-13 19:34:51 ... thread 0: (100000000,799999999) ops and (39894.2,47496.4) ops/second in (2506.631094,16843.386510) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1068        0        0    113006    113006      0     274  2163     0       0     0      0   274         0 0.000000 0.000000
    1    29    1289    5176   372116   372116    370129    370129      0    1816  1948     0       0     0   5666  1816        32 0.000000 23.622513
    2   200    9949    7005   615976   615976    608941    608941      0    1234  1308     0       0     0   9881  1234       247 23.622513 30.796417
    3  1128   70932    3283   309747   309747    287932    287932      0       0     0     0       0     0   4146     0         0 30.796417 0.000000
user_io:113005.655MB total_ios: 1380007.856MB WriteAmplification: 12.2118
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-13 20:16:09 ... thread 0: (100000000,899999999) ops and (40358.6,46581.0) ops/second in (2477.786968,19321.173478) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366    1201        0        0    127164    127164      0     307  2427     0       0     0      0   307         0 0.000000 0.000000
    1    26    1257    5827   418093   418093    415854    415854      0    2041  2194     0       0     0   6381  2041        34 0.000000 0.000442
    2   214   10074    7933   695739   695739    687731    687731      0    1441  1532     0       0     0  11361  1441       247 0.000442 30.796417
    3  1217   77180    4003   378645   378645    350605    350605      0       0     0     0       0     0   5120     0         0 30.796417 0.000000
user_io:127164.013MB total_ios: 1581352.813MB WriteAmplification: 12.4355
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-13 20:59:32 ... thread 0: (100000000,999999999) ops and (38419.9,45612.1) ops/second in (2602.820404,21923.993882) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313    1334        0        0    141322    141322      0     341  2699     0       0     0      0   341         0 0.000000 0.000000
    1    27    1269    6500   465224   465224    462726    462726      0    2277  2446     0       0     0   7110  2277        35 0.000000 13.999158
    2   217   10073    8894   777109   777109    768126    768126      0    1668  1762     0       0     0  12906  1668       247 13.999158 30.796417
    3  1322   83065    4793   453426   453426    418305    418305      0       0     0     0       0     0   6161     0         0 30.796417 0.000000
user_io:141322.374MB total_ios: 1790479.381MB WriteAmplification: 12.6695
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      21.924 micros/op 45612 ops/sec;    6.3 MB/s
Microseconds per op:
Count: 1000000000  Average: 21.9240  StdDev: 140.12
Percentiles: P50: 5.71 P75: 6.58 P99: 1066.05 P99.9: 1186.79 P99.99: 1198.87
------------------------------------------------------
[       2,       3 )  114079   0.011%   0.011%
[       3,       4 ) 18099116   1.810%   1.821%
[       4,       5 ) 207525821  20.753%  22.574% ####
[       5,       6 ) 385714256  38.571%  61.145% ########
[       6,       7 ) 240411540  24.041%  85.186% #####
[       7,       8 ) 89237195   8.924%  94.110% ##
[       8,       9 ) 28427794   2.843%  96.953% #
[       9,      10 ) 9228411   0.923%  97.876%
[      10,      12 ) 4221251   0.422%  98.298%
[      12,      14 )  647496   0.065%  98.363%
[      14,      16 )  243007   0.024%  98.387%
[      16,      18 )  200103   0.020%  98.407%
[      18,      20 )  225165   0.023%  98.430%
[      20,      25 )  430367   0.043%  98.473%
[      25,      30 )  177316   0.018%  98.490%
[      30,      35 )   45837   0.005%  98.495%
[      35,      40 )   10838   0.001%  98.496%
[      40,      45 )    3813   0.000%  98.496%
[      45,      50 )    2591   0.000%  98.497%
[      50,      60 )   67072   0.007%  98.503%
[      60,      70 )    8989   0.001%  98.504%
[      70,      80 )    6748   0.001%  98.505%
[      80,      90 )    7552   0.001%  98.506%
[      90,     100 )    2251   0.000%  98.506%
[     100,     120 )    3041   0.000%  98.506%
[     120,     140 )    3459   0.000%  98.507%
[     140,     160 )    1145   0.000%  98.507%
[     160,     180 )    1054   0.000%  98.507%
[     180,     200 )    1018   0.000%  98.507%
[     200,     250 )    4108   0.000%  98.507%
[     250,     300 )     726   0.000%  98.507%
[     300,     350 )     492   0.000%  98.507%
[     350,     400 )     472   0.000%  98.507%
[     400,     450 )     418   0.000%  98.507%
[     450,     500 )     382   0.000%  98.507%
[     500,     600 )     714   0.000%  98.508%
[     600,     700 )     584   0.000%  98.508%
[     700,     800 )     252   0.000%  98.508%
[     800,     900 )     130   0.000%  98.508%
[     900,    1000 )      71   0.000%  98.508%
[    1000,    1200 ) 14907849   1.491%  99.998%
[    1200,    1400 )    6043   0.001%  99.999%
[    1400,    1600 )    1501   0.000%  99.999%
[    1600,    1800 )     604   0.000%  99.999%
[    1800,    2000 )     245   0.000%  99.999%
[    2000,    2500 )     214   0.000%  99.999%
[    2500,    3000 )     197   0.000%  99.999%
[    3000,    3500 )     227   0.000%  99.999%
[    3500,    4000 )     240   0.000%  99.999%
[    4000,    4500 )     210   0.000%  99.999%
[    4500,    5000 )     216   0.000%  99.999%
[    5000,    6000 )     495   0.000%  99.999%
[    6000,    7000 )     314   0.000% 100.000%
[    7000,    8000 )     369   0.000% 100.000%
[    8000,    9000 )     365   0.000% 100.000%
[    9000,   10000 )     345   0.000% 100.000%
[   10000,   12000 )     740   0.000% 100.000%
[   12000,   14000 )     649   0.000% 100.000%
[   14000,   16000 )     626   0.000% 100.000%
[   16000,   18000 )     533   0.000% 100.000%
[   18000,   20000 )     351   0.000% 100.000%
[   20000,   25000 )     404   0.000% 100.000%
[   25000,   30000 )     218   0.000% 100.000%
[   30000,   35000 )     157   0.000% 100.000%
[   35000,   40000 )      94   0.000% 100.000%
[   40000,   45000 )      54   0.000% 100.000%
[   45000,   50000 )      33   0.000% 100.000%
[   50000,   60000 )      17   0.000% 100.000%
[   60000,   70000 )       7   0.000% 100.000%
[   70000,   80000 )       8   0.000% 100.000%
[  100000,  120000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        6      313      1334        0    141322
  1       27     1269      6500   465224    462726
  2      217    10073      8894   777109    768126
  3     1322    83065      4793   453426    418305
user_io:141322.374MB total_ios: 1790479.381MB WriteAmplification: 12.6695

Checking if iostat process with PID 3760013 is still running...
    PID TTY          TIME CMD
3760013 pts/4    00:00:00 iostat
iostat process 3760013 is still running, killing now...
iostat process 3760013 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_uniform_C0500.sh: line 43: 3760013 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '3760014':

     24,265,344.12 msec task-clock                       #    1.107 CPUs utilized
        18,927,829      context-switches                 #  780.035 /sec
             4,835      cpu-migrations                   #    0.199 /sec
        29,296,706      page-faults                      #    1.207 K/sec
77,130,495,654,944      cycles                           #    3.179 GHz
174,990,294,688,213      instructions                     #    2.27  insn per cycle
24,735,584,746,587      branches                         #    1.019 G/sec
    51,239,088,279      branch-misses                    #    0.21% of all branches
                        TopdownL1                 #      2.1 %  tma_backend_bound
                                                  #     89.4 %  tma_bad_speculation
                                                  #      3.6 %  tma_frontend_bound
                                                  #      4.8 %  tma_retiring

   21922.603966451 seconds time elapsed
