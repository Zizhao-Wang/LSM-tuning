LevelDB:    version 1.23
Date:       Tue Jan 14 03:35:41 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f32_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f32_mem64MiB_level1base_500
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 3973623
../../../leveldb/build_release_f_32_C0_500/db_bench --db=/mnt/db_test2/LSM-tuning/level10/C0_500/leveldb_uniform_f32_mem64MiB_level1base_500 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/uniform_read_keys16_value128_1B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0500/leveldb_uniform_f32_memory_usage_1B_key16_val128_mem64MiB_factor32_level1base500MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/uniform_read_keys16_value128_1B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-14 03:58:18 ... thread 0: (99999999,99999999) ops and (73708.1,73708.1) ops/second in (1356.702555,1356.702555) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     157     133        0        0     14002     14002      0      36   265     0       0     0      0    36         0 0.000000 0.000000
    1    30    1310     592    43461    43461     43278     43278      0     188   213     0       0     0    569   188         0 0.000000 0.000000
    2   189   11901     592    53534    53534     53082     53082      0       0     0     0       0     0    683     0         0 0.000000 0.000000
user_io:14001.624MB total_ios: 110361.608MB WriteAmplification: 7.8821
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-14 04:35:56 ... thread 0: (100000000,199999999) ops and (44283.7,55327.0) ops/second in (2258.166721,3614.869276) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104     265        0        0     28160     28160      0      70   537     0       0     0      0    70         0 0.000000 0.000000
    1    41    1392    1245    90653    90653     90210     90210      0     462   514     0       0     0   1482   462         1 0.000000 0.000306
    2   382   23984    2027   182769   182769    180534    180534      0       0     0     0       0     0   2573     0         0 0.000306 0.000000
user_io:28159.986MB total_ios: 298903.809MB WriteAmplification: 10.6145
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13732.910 MB data into db.)


2025-01-14 05:25:09 ... thread 0: (100000000,299999999) ops and (33867.0,45678.8) ops/second in (2952.723077,6567.592353) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52     398        0        0     42318     42318      0     104   809     0       0     0      0   104         0 0.000000 0.000000
    1    50    1398    1898   137995   137995    137291    137291      0     731   806     0       0     0   2708   731         1 0.000000 0.000306
    2   516   31955    4149   373377   373377    368210    368210      0       1     1     0       0     0   5401     1        47 0.000306 65.285388
    3    48    3041       2      131      131       130       130      0       0     0     0       0     0      1     0         0 65.285388 0.000000
user_io:42318.350MB total_ios: 547949.425MB WriteAmplification: 12.9483
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27465.820 MB data into db.)


2025-01-14 06:15:59 ... thread 0: (100000000,399999999) ops and (32786.6,41590.4) ops/second in (3050.022221,9617.614574) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     366     532        0        0     56424     56424      0     137  1073     0       0     0      0   137         0 0.000000 0.000000
    1    48    1115    2533   184018   184018    183060    183060      0    1040  1122     0       0     0   4093  1040         1 0.000000 0.000306
    2   523   32206    6355   570877   570877    562613    562613      0       7     7     0       0     0   8403     7       209 0.000306 65.286340
    3   216   13497      24     2133     2133      2113      2113      0       0     0     0       0     0     26     0         0 65.286340 0.000000
user_io:56424.465MB total_ios: 804211.048MB WriteAmplification: 14.2529
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41198.730 MB data into db.)


2025-01-14 07:10:20 ... thread 0: (100000000,499999999) ops and (30662.5,38823.1) ops/second in (3261.308434,12878.923008) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     313     666        0        0     70583     70583      0     171  1345     0       0     0      0   171         0 0.000000 0.000000
    1    58    1312    3189   231474   231474    230256    230256      0    1389  1483     0       0     0   5543  1389         1 0.000000 0.000306
    2   526   32000    8743   783537   783537    771969    771969      0      14    14     0       0     0  11694    14       373 0.000306 65.285587
    3   386   24118      54     4825     4825      4773      4773      0       0     0     0       0     0     62     0         0 65.285587 0.000000
user_io:70582.823MB total_ios: 1077580.569MB WriteAmplification: 15.2669
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54931.641 MB data into db.)


2025-01-14 08:01:47 ... thread 0: (100000000,599999999) ops and (32401.4,37581.7) ops/second in (3086.290044,15965.213052) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     261     799        0        0     84741     84741      0     205  1617     0       0     0      0   205         0 0.000000 0.000000
    1    48    1392    3848   278824   278824    277345    277345      0    1726  1831     0       0     0   6999  1726         1 0.000000 0.000306
    2   529   31975   10961   981691   981691    967053    967053      0      19    19     0       0     0  14807    19       543 0.000306 65.285679
    3   561   34920      72     6496     6496      6422      6422      0       0     0     0       0     0     84     0         0 65.285679 0.000000
user_io:84741.175MB total_ios: 1335560.776MB WriteAmplification: 15.7605
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68664.551 MB data into db.)


2025-01-14 08:56:08 ... thread 0: (100000000,699999999) ops and (30661.9,36407.9) ops/second in (3261.373371,19226.586423) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     209     934        0        0     98900     98900      0     239  1889     0       0     0      0   239         0 0.000000 0.000000
    1    54    1353    4521   326301   326301    324560    324560      0    2060  2180     0       0     0   8425  2060         1 0.000000 0.000306
    2   537   31951   13342  1191151  1191151   1173230   1173230      0      24    24     0       0     0  18113    24       712 0.000306 65.284224
    3   734   45624      93     8441     8441      8340      8340      0       0     0     0       0     0    111     0         0 65.284224 0.000000
user_io:98899.538MB total_ios: 1605029.719MB WriteAmplification: 16.2289
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82397.461 MB data into db.)


2025-01-14 09:52:59 ... thread 0: (100000000,799999999) ops and (29314.3,35339.0) ops/second in (3411.299974,22637.886397) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     104    1066        0        0    113006    113006      0     273  2161     0       0     0      0   273         0 0.000000 0.000000
    1    51    1386    5199   373789   373789    371787    371787      0    2387  2517     0       0     0   9839  2387         2 0.000000 10.316056
    2   540   31960   15744  1398889  1398889   1377755   1377755      0     101   101     0       0     0  21421   101       808 10.316056 62.077895
    3   886   55158     238    22186    22186     20926     20926      0       0     0     0       0     0    286     0         0 62.077895 0.000000
user_io:113005.655MB total_ios: 1883472.632MB WriteAmplification: 16.6671
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96130.371 MB data into db.)


2025-01-14 10:52:01 ... thread 0: (100000000,899999999) ops and (28235.0,34377.9) ops/second in (3541.704846,26179.591243) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      52    1200        0        0    127164    127164      0     307  2433     0       0     0      0   307         0 0.000000 0.000000
    1    48    1407    5876   421138   421138    418875    418875      0    2709  2850     0       0     0  11278  2709         2 0.000000 10.316056
    2   551   31959   18091  1600307  1600307   1576062   1576062      0     274   274     0       0     0  24655   274       808 10.316056 62.077895
    3  1001   62946     563    53196    53196     48903     48903      0       0     0     0       0     0    688     0         0 62.077895 0.000000
user_io:127164.013MB total_ios: 2171004.216MB WriteAmplification: 17.0725
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109863.281 MB data into db.)


2025-01-14 11:53:56 ... thread 0: (100000000,999999999) ops and (26916.7,33450.7) ops/second in (3715.170448,29894.761691) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1333        0        0    141322    141322      0     341  2705     0       0     0      0   341         0 0.000000 0.000000
    1    58    1371    6557   468645   468645    466121    466121      0    3051  3201     0       0     0  12700  3051         2 0.000000 10.316056
    2   559   31977   20612  1813889  1813889   1786317   1786317      0     446   447     0       0     0  28139   446       808 10.316056 62.077895
    3  1103   70070     885    84247    84247     76440     76440      0       0     0     0       0     0   1092     0         0 62.077895 0.000000
user_io:141322.374MB total_ios: 2470199.371MB WriteAmplification: 17.4792
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123596.191 MB data into db.)


1000000000 operations have been finished (137329.102 MB data have been written into db)
fillzipf     :      29.895 micros/op 33450 ops/sec;    4.6 MB/s
Microseconds per op:
Count: 1000000000  Average: 29.8948  StdDev: 170.51
Percentiles: P50: 5.67 P75: 6.55 P99: 1109.79 P99.9: 1191.13 P99.99: 1199.27
------------------------------------------------------
[       2,       3 )  129923   0.013%   0.013%
[       3,       4 ) 21105782   2.111%   2.124%
[       4,       5 ) 221103180  22.110%  24.234% ####
[       5,       6 ) 382991099  38.299%  62.533% ########
[       6,       7 ) 228302283  22.830%  85.363% #####
[       7,       8 ) 82989664   8.299%  93.662% ##
[       8,       9 ) 26345342   2.635%  96.297% #
[       9,      10 ) 8661859   0.866%  97.163%
[      10,      12 ) 4087003   0.409%  97.572%
[      12,      14 )  665475   0.067%  97.638%
[      14,      16 )  252957   0.025%  97.663%
[      16,      18 )  201464   0.020%  97.684%
[      18,      20 )  225264   0.023%  97.706%
[      20,      25 )  433037   0.043%  97.749%
[      25,      30 )  185160   0.019%  97.768%
[      30,      35 )   47571   0.005%  97.773%
[      35,      40 )   11182   0.001%  97.774%
[      40,      45 )    3711   0.000%  97.774%
[      45,      50 )    2948   0.000%  97.774%
[      50,      60 )   65045   0.007%  97.781%
[      60,      70 )    9478   0.001%  97.782%
[      70,      80 )    6703   0.001%  97.783%
[      80,      90 )    6911   0.001%  97.783%
[      90,     100 )    1963   0.000%  97.784%
[     100,     120 )    3298   0.000%  97.784%
[     120,     140 )    3491   0.000%  97.784%
[     140,     160 )    1029   0.000%  97.784%
[     160,     180 )    1085   0.000%  97.784%
[     180,     200 )     941   0.000%  97.784%
[     200,     250 )    3997   0.000%  97.785%
[     250,     300 )     872   0.000%  97.785%
[     300,     350 )     353   0.000%  97.785%
[     350,     400 )     348   0.000%  97.785%
[     400,     450 )     356   0.000%  97.785%
[     450,     500 )     318   0.000%  97.785%
[     500,     600 )     570   0.000%  97.785%
[     600,     700 )     581   0.000%  97.785%
[     700,     800 )     366   0.000%  97.785%
[     800,     900 )     190   0.000%  97.785%
[     900,    1000 )     103   0.000%  97.785%
[    1000,    1200 ) 22128403   2.213%  99.998%
[    1200,    1400 )    8862   0.001%  99.999%
[    1400,    1600 )    1649   0.000%  99.999%
[    1600,    1800 )     878   0.000%  99.999%
[    1800,    2000 )     428   0.000%  99.999%
[    2000,    2500 )     315   0.000%  99.999%
[    2500,    3000 )     202   0.000%  99.999%
[    3000,    3500 )     176   0.000%  99.999%
[    3500,    4000 )     167   0.000%  99.999%
[    4000,    4500 )     193   0.000%  99.999%
[    4500,    5000 )     181   0.000%  99.999%
[    5000,    6000 )     400   0.000%  99.999%
[    6000,    7000 )     269   0.000% 100.000%
[    7000,    8000 )     284   0.000% 100.000%
[    8000,    9000 )     308   0.000% 100.000%
[    9000,   10000 )     205   0.000% 100.000%
[   10000,   12000 )     414   0.000% 100.000%
[   12000,   14000 )     397   0.000% 100.000%
[   14000,   16000 )     438   0.000% 100.000%
[   16000,   18000 )     362   0.000% 100.000%
[   18000,   20000 )     391   0.000% 100.000%
[   20000,   25000 )     877   0.000% 100.000%
[   25000,   30000 )     465   0.000% 100.000%
[   30000,   35000 )     292   0.000% 100.000%
[   35000,   40000 )     261   0.000% 100.000%
[   40000,   45000 )     145   0.000% 100.000%
[   45000,   50000 )      86   0.000% 100.000%
[   50000,   60000 )      47   0.000% 100.000%
[   60000,   70000 )       1   0.000% 100.000%
[   70000,   80000 )       1   0.000% 100.000%
[   90000,  100000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0      1333        0    141322
  1       58     1371      6557   468645    466121
  2      559    31977     20612  1813889   1786317
  3     1103    70070       885    84247     76440
user_io:141322.374MB total_ios: 2470199.371MB WriteAmplification: 17.4792

Checking if iostat process with PID 3973622 is still running...
    PID TTY          TIME CMD
3973622 pts/4    00:00:00 iostat
iostat process 3973622 is still running, killing now...
iostat process 3973622 has been successfully killed.
./leveldb_script_uniform_C0500.sh: line 128: 3973622 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_uniform_IOstats_factor${F}_level1base${level1base}MiB.log
root@jeffwang-NF5280M6:/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment#
 Performance counter stats for process id '3973623':

     31,203,788.62 msec task-clock                       #    1.044 CPUs utilized
        28,126,494      context-switches                 #  901.381 /sec
             5,742      cpu-migrations                   #    0.184 /sec
        41,714,945      page-faults                      #    1.337 K/sec
98,391,035,910,576      cycles                           #    3.153 GHz
226,957,875,206,310      instructions                     #    2.31  insn per cycle
31,962,482,934,230      branches                         #    1.024 G/sec
    58,852,746,689      branch-misses                    #    0.18% of all branches
                        TopdownL1                 #      2.4 %  tma_backend_bound
                                                  #     89.1 %  tma_bad_speculation
                                                  #      3.6 %  tma_frontend_bound
                                                  #      4.9 %  tma_retiring

   29893.754598596 seconds time elapsed
