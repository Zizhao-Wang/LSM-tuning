LevelDB:    version 1.23
Date:       Mon Jan  6 03:03:18 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f8_1.2_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f8_1.2_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2312052
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f8_1.2_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_zipf1.2_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 03:11:59 ... thread 0: (99999999,99999999) ops and (191711.2,191711.2) ops/second in (521.618017,521.618017) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     169        0        0     13604     13604      0      60   268     0       0     0      0    60         0 0.000000 0.000000
    1     2      84     127    17546    17546      5323      5323      0      19    21     0       0     0    100    19         0 0.000000 0.000000
    2    13     742      90     7156     7156      6667      6667      0       0     0     0       0     0     99     0         1 0.000000 65.285855
    3     1      65       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.285855 0.000000
user_io:13603.967MB total_ios: 25593.098MB WriteAmplification: 1.8813
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 03:21:41 ... thread 0: (100000000,199999999) ops and (172008.7,181326.3) ops/second in (581.365884,1102.983901) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     337        0        0     27360     27360      0     109   539     0       0     0      0   109         0 0.000000 0.000000
    1     3      95     251    34328    34328      9941      9941      0      41    45     0       0     0    204    41         0 0.000000 0.000000
    2    12     736     240    18238    18238     17669     17669      0      17    17     0       0     0    254    17         4 0.000000 65.268473
    3    13     821      77     6160     6160      5609      5609      0       0     0     0       0     0     86     0         0 65.268473 0.000000
user_io:27360.212MB total_ios: 60579.609MB WriteAmplification: 2.2141
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-06 03:31:08 ... thread 0: (100000000,299999999) ops and (176383.6,179648.3) ops/second in (566.946075,1669.929976) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     506        0        0     41066     41066      0     158   806     0       0     0      0   158         0 0.000000 0.000000
    1     2      74     379    51406    51406     14695     14695      0      64    69     0       0     0    317    64         0 0.000000 0.000000
    2    15     789     394    29792    29792     28579     28579      0      23    23     0       0     0    432    23        11 0.000000 37.141118
    3    26    1575     102     7956     7956      7404      7404      0       0     0     0       0     0    108     0         0 37.141118 0.000000
user_io:41065.690MB total_ios: 91744.019MB WriteAmplification: 2.2341
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-06 03:41:03 ... thread 0: (100000000,399999999) ops and (167910.8,176562.7) ops/second in (595.554400,2265.484376) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     677        0        0     54822     54822      0     206  1079     0       0     0      0   206         0 0.000000 0.000000
    1     2      44     509    68462    68462     19455     19455      0      86    93     0       0     0    423    86         1 0.000000 65.285110
    2    13     786     541    40331    40331     38922     38922      0      39    40     0       0     0    593    39        13 65.285110 47.653464
    3    33    2008     180    14335    14335     13022     13022      0       0     0     0       0     0    200     0         0 47.653464 0.000000
user_io:54821.917MB total_ios: 126220.886MB WriteAmplification: 2.3024
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-06 03:50:16 ... thread 0: (100000000,499999999) ops and (180826.2,177399.2) ops/second in (553.017108,2818.501484) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     849        0        0     68578     68578      0     258  1346     0       0     0      0   258         0 0.000000 0.000000
    1     3     108     644    85955    85955     24595     24595      0     112   119     0       0     0    546   112         1 0.000000 65.285110
    2    14     737     658    49008    49008     47035     47035      0      51    53     0       0     0    743    51        13 65.285110 47.653464
    3    45    2813     239    18301    18301     16968     16968      0       0     0     0       0     0    252     0         0 47.653464 0.000000
user_io:68578.163MB total_ios: 157175.470MB WriteAmplification: 2.2919
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-06 03:59:57 ... thread 0: (100000000,599999999) ops and (172272.8,176523.7) ops/second in (580.474655,3398.976139) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1015        0        0     82334     82334      0     308  1622     0       0     0      0   308         0 0.000000 0.000000
    1     3     113     777   103424   103424     29470     29470      0     134   144     0       0     0    653   134         1 0.000000 65.285110
    2    13     729     807    59914    59914     57586     57586      0      67    70     0       0     0    916    67        13 65.285110 47.653464
    3    49    3141     307    23656    23656     21586     21586      0       0     0     0       0     0    329     0         0 47.653464 0.000000
user_io:82334.384MB total_ios: 190976.876MB WriteAmplification: 2.3195
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-06 04:09:16 ... thread 0: (100000000,699999999) ops and (178833.3,176850.0) ops/second in (559.180004,3958.156143) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1183        0        0     96091     96091      0     359  1889     0       0     0      0   359         0 0.000000 0.000000
    1     3     115     905   120434   120434     34313     34313      0     157   169     0       0     0    766   157         1 0.000000 65.285110
    2    15     775     942    69900    69900     67044     67044      0      79    83     0       0     0   1082    79        13 65.285110 47.653464
    3    60    3869     368    27680    27680     25528     25528      0       0     0     0       0     0    383     0         0 47.653464 0.000000
user_io:96090.605MB total_ios: 222975.695MB WriteAmplification: 2.3205
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-06 04:19:07 ... thread 0: (100000000,799999999) ops and (169081.0,175840.1) ops/second in (591.432597,4549.588740) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305    1353        0        0    109796    109796      0     409  2163     0       0     0      0   409         0 0.000000 0.000000
    1     2      68    1031   137359   137359     38994     38994      0     180   194     0       0     0    872   180         1 0.000000 65.285110
    2    15     756    1098    81168    81168     77871     77871      0      94   100     0       0     0   1269    94        13 65.285110 47.653464
    3    67    4281     435    33242    33242     30517     30517      0       0     0     0       0     0    461     0         0 47.653464 0.000000
user_io:109796.078MB total_ios: 257178.831MB WriteAmplification: 2.3423
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-06 04:29:00 ... thread 0: (100000000,899999999) ops and (168822.7,175031.7) ops/second in (592.337379,5141.926119) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1520        0        0    123552    123552      0     456  2433     0       0     0      0   456         0 0.000000 0.000000
    1     3      98    1163   154680   154680     43731     43731      0     203   218     0       0     0    972   203         1 0.000000 65.285110
    2    16     797    1234    91401    91401     87710     87710      0     109   116     0       0     0   1447   109        13 65.285110 47.653464
    3    76    4886     536    40898    40898     37817     37817      0       0     0     0       0     0    572     0         0 47.653464 0.000000
user_io:123552.315MB total_ios: 292810.512MB WriteAmplification: 2.3699
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-06 04:38:45 ... thread 0: (100000000,999999999) ops and (170721.3,174590.9) ops/second in (585.750073,5727.676192) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102    1692        0        0    137309    137309      0     504  2703     0       0     0      0   504         0 0.000000 0.000000
    1     2      77    1293   171655   171655     48382     48382      0     226   243     0       0     0   1077   226         1 0.000000 65.285110
    2    18     855    1378   102051   102051     97791     97791      0     123   131     0       0     0   1635   123        13 65.285110 47.653464
    3    86    5395     594    45307    45307     41960     41960      0       0     0     0       0     0    638     0         0 47.653464 0.000000
user_io:137308.548MB total_ios: 325441.444MB WriteAmplification: 2.3701
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       5.728 micros/op 174590 ops/sec;   24.0 MB/s
Microseconds per op:
Count: 1000000000  Average: 5.7277  StdDev: 55.29
Percentiles: P50: 5.30 P75: 6.07 P99: 9.17 P99.9: 20.96 P99.99: 1173.38
------------------------------------------------------
[       2,       3 )  613277   0.061%   0.061%
[       3,       4 ) 138518699  13.852%  13.913% ###
[       4,       5 ) 257697842  25.770%  39.683% #####
[       5,       6 ) 341103361  34.110%  73.793% #######
[       6,       7 ) 171118265  17.112%  90.905% ###
[       7,       8 ) 60328009   6.033%  96.938% #
[       8,       9 ) 19529610   1.953%  98.891%
[       9,      10 ) 6266046   0.627%  99.518%
[      10,      12 ) 2793656   0.279%  99.797%
[      12,      14 )  507415   0.051%  99.848%
[      14,      16 )  213117   0.021%  99.869%
[      16,      18 )  142302   0.014%  99.883%
[      18,      20 )  131862   0.013%  99.896%
[      20,      25 )  191099   0.019%  99.915%
[      25,      30 )   60185   0.006%  99.921%
[      30,      35 )   24072   0.002%  99.924%
[      35,      40 )   11132   0.001%  99.925%
[      40,      45 )    6524   0.001%  99.926%
[      45,      50 )    3718   0.000%  99.926%
[      50,      60 )   22118   0.002%  99.928%
[      60,      70 )    9350   0.001%  99.929%
[      70,      80 )    1471   0.000%  99.929%
[      80,      90 )    4573   0.000%  99.930%
[      90,     100 )    1941   0.000%  99.930%
[     100,     120 )    4995   0.000%  99.930%
[     120,     140 )    4379   0.000%  99.931%
[     140,     160 )    1793   0.000%  99.931%
[     160,     180 )    1582   0.000%  99.931%
[     180,     200 )    1575   0.000%  99.931%
[     200,     250 )    6542   0.001%  99.932%
[     250,     300 )     636   0.000%  99.932%
[     300,     350 )     385   0.000%  99.932%
[     350,     400 )     292   0.000%  99.932%
[     400,     450 )     221   0.000%  99.932%
[     450,     500 )     179   0.000%  99.932%
[     500,     600 )     245   0.000%  99.932%
[     600,     700 )     171   0.000%  99.932%
[     700,     800 )     142   0.000%  99.932%
[     800,     900 )     123   0.000%  99.932%
[     900,    1000 )      79   0.000%  99.932%
[    1000,    1200 )  665613   0.067%  99.999%
[    1200,    1400 )     707   0.000%  99.999%
[    1400,    1600 )     381   0.000%  99.999%
[    1600,    1800 )     292   0.000%  99.999%
[    1800,    2000 )     296   0.000%  99.999%
[    2000,    2500 )     756   0.000%  99.999%
[    2500,    3000 )     613   0.000%  99.999%
[    3000,    3500 )     454   0.000%  99.999%
[    3500,    4000 )     300   0.000%  99.999%
[    4000,    4500 )     314   0.000%  99.999%
[    4500,    5000 )     254   0.000%  99.999%
[    5000,    6000 )     447   0.000%  99.999%
[    6000,    7000 )     424   0.000%  99.999%
[    7000,    8000 )     352   0.000%  99.999%
[    8000,    9000 )     363   0.000%  99.999%
[    9000,   10000 )     366   0.000%  99.999%
[   10000,   12000 )     826   0.000% 100.000%
[   12000,   14000 )     920   0.000% 100.000%
[   14000,   16000 )     711   0.000% 100.000%
[   16000,   18000 )     584   0.000% 100.000%
[   18000,   20000 )     452   0.000% 100.000%
[   20000,   25000 )     736   0.000% 100.000%
[   25000,   30000 )     401   0.000% 100.000%
[   30000,   35000 )     207   0.000% 100.000%
[   35000,   40000 )     119   0.000% 100.000%
[   40000,   45000 )      49   0.000% 100.000%
[   45000,   50000 )      33   0.000% 100.000%
[   50000,   60000 )      41   0.000% 100.000%
[   60000,   70000 )       4   0.000% 100.000%
[   70000,   80000 )       1   0.000% 100.000%
[  100000,  120000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        2      102      1692        0    137309
  1        2       77      1293   171655     48382
  2       18      855      1378   102051     97791
  3       86     5395       594    45307     41960
user_io:137308.548MB total_ios: 325441.444MB WriteAmplification: 2.3701

Checking if iostat process with PID 2312051 is still running...
    PID TTY          TIME CMD
2312051 pts/5    00:00:00 iostat
iostat process 2312051 is still running, killing now...
iostat process 2312051 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0100.sh: line 45: 2312051 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2312052':

      8,841,233.38 msec task-clock                       #    1.544 CPUs utilized
         1,161,167      context-switches                 #  131.335 /sec
             1,252      cpu-migrations                   #    0.142 /sec
        10,753,404      page-faults                      #    1.216 K/sec
28,801,778,116,146      cycles                           #    3.258 GHz
58,948,018,717,240      instructions                     #    2.05  insn per cycle
 8,439,715,329,689      branches                         #  954.586 M/sec
    25,512,673,941      branch-misses                    #    0.30% of all branches
                        TopdownL1                 #      5.2 %  tma_backend_bound
                                                  #     84.7 %  tma_bad_speculation
                                                  #      5.6 %  tma_frontend_bound
                                                  #      4.5 %  tma_retiring

    5726.885228785 seconds time elapsed
