base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Mon Jan  6 00:28:43 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f8_1.1_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f8_1.1_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2304262
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f8_1.1_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.1_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_zipf1.1_f8_memory_usage_1B_key16_val128_mem64MiB_factor8_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.1_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 00:40:23 ... thread 0: (99999999,99999999) ops and (142741.5,142741.5) ops/second in (700.567009,700.567009) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256     178        0        0     13748     13748      0      43   263     0       0     0      0    43         0 0.000000 0.000000
    1     4     172     181    17923    17923      8674      8674      0      62    68     0       0     0    109    62         3 0.000000 65.251858
    2    24    1472     274    19750    19750     18976     18976      0       7     7     0       0     0    277     7        22 65.251858 65.207937
    3    27    1741      26     2003     2003      1919      1919      0       0     0     0       0     0     28     0         0 65.207937 0.000000
user_io:13747.805MB total_ios: 43317.369MB WriteAmplification: 3.1509
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 00:55:59 ... thread 0: (100000000,199999999) ops and (106825.4,122199.1) ops/second in (936.106716,1636.673725) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     362        0        0     27650     27650      0      78   538     0       0     0      0    78         0 0.000000 0.000000
    1     6     285     400    37470    37470     18392     18392      0     128   141     0       0     0    238   128         4 0.000000 65.286088
    2    27    1594     612    42567    42567     41109     41109      0      48    49     0       0     0    621    48        32 65.286088 28.695191
    3    73    4631     194    11586    11586     11032     11032      0       0     0     0       0     0    153     0         0 28.695191 0.000000
user_io:27649.512MB total_ios: 98182.678MB WriteAmplification: 3.5510
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13735.996 MB data into db.)


2025-01-06 01:11:25 ... thread 0: (100000000,299999999) ops and (108020.4,117076.6) ops/second in (925.750797,2562.424522) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359     545        0        0     41500     41500      0     111   802     0       0     0      0   111         0 0.000000 0.000000
    1     4     186     607    56394    56394     27847     27847      0     193   212     0       0     0    363   193         5 0.000000 65.286728
    2    32    1685     939    65377    65377     62973     62973      0      98   100     0       0     0    972    98        32 65.286728 28.695191
    3   113    7305     373    23626    23626     22612     22612      0       0     0     0       0     0    320     0         0 28.695191 0.000000
user_io:41499.875MB total_ios: 154932.509MB WriteAmplification: 3.7333
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27471.990 MB data into db.)


2025-01-06 01:28:07 ... thread 0: (100000000,399999999) ops and (99793.2,112217.8) ops/second in (1002.072150,3564.496672) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     308     730        0        0     55402     55402      0     145  1074     0       0     0      0   145         0 0.000000 0.000000
    1     3     188     828    76083    76083     37750     37750      0     263   284     0       0     0    490   263         6 0.000000 65.286376
    2    33    1596    1262    87989    87989     84681     84681      0     152   159     0       0     0   1363   152        32 65.286376 28.695191
    3   158   10098     614    41238    41238     39667     39667      0       0     0     0       0     0    556     0         0 28.695191 0.000000
user_io:55401.595MB total_ios: 217499.997MB WriteAmplification: 3.9259
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41207.983 MB data into db.)


2025-01-06 01:45:19 ... thread 0: (100000000,499999999) ops and (96922.0,108784.2) ops/second in (1031.757867,4596.254539) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256     914        0        0     69303     69303      0     179  1346     0       0     0      0   179         0 0.000000 0.000000
    1     6     301    1049    95498    95498     47403     47403      0     331   358     0       0     0    615   331         7 0.000000 65.285869
    2    34    1547    1590   110727   110727    106529    106529      0     205   216     0       0     0   1785   205        32 65.285869 28.695191
    3   200   12704     873    59555    59555     57352     57352      0       0     0     0       0     0    807     0         0 28.695191 0.000000
user_io:69303.310MB total_ios: 280587.503MB WriteAmplification: 4.0487
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54943.976 MB data into db.)


2025-01-06 02:01:11 ... thread 0: (100000000,599999999) ops and (105004.8,108135.5) ops/second in (952.337662,5548.592201) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     154    1100        0        0     83205     83205      0     216  1619     0       0     0      0   216         0 0.000000 0.000000
    1     5     271    1261   114695   114695     56840     56840      0     401   431     0       0     0    730   401         8 0.000000 65.283053
    2    31    1569    1927   133777   133777    128663    128663      0     239   250     0       0     0   2172   239        59 65.283053 65.235922
    3   127    7862    1061    72658    72658     70140     70140      0       0     0     0       0     0   1000     0       123 65.235922 65.234630
    4   123    7862       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.234630 0.000000
user_io:83205.043MB total_ios: 338848.069MB WriteAmplification: 4.0724
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68679.969 MB data into db.)


2025-01-06 02:16:29 ... thread 0: (100000000,699999999) ops and (108981.8,108255.6) ops/second in (917.584557,6466.176758) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     154    1264        0        0     97107     97107      0     250  1890     0       0     0      0   250         0 0.000000 0.000000
    1     5     216    1467   134253   134253     66648     66648      0     466   502     0       0     0    857   466        10 0.000000 65.286353
    2    32    1497    2217   155384   155384    149463    149463      0     295   311     0       0     0   2523   295        59 65.286353 65.235922
    3   170   10738    1294    90542    90542     87428     87428      0       0     0     0       0     0   1250     0       123 65.235922 65.234630
    4   123    7862       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.234630 0.000000
user_io:97106.726MB total_ios: 400645.252MB WriteAmplification: 4.1258
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82415.963 MB data into db.)


2025-01-06 02:32:23 ... thread 0: (100000000,799999999) ops and (104835.7,107816.0) ops/second in (953.873406,7420.050164) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1423        0        0    110957    110957      0     284  2162     0       0     0      0   284         0 0.000000 0.000000
    1     5     224    1665   153698   153698     76331     76331      0     533   575     0       0     0    985   533        11 0.000000 65.285669
    2    32    1441    2494   177573   177573    170747    170747      0     353   371     0       0     0   2921   353        59 65.285669 65.235922
    3   189   11733    1585   110080   110080    106318    106318      0       2     2     0       0     0   1527     2       148 65.235922 65.225101
    4   150    9553       6      391      391       391       391      0       0     0     0       0     0      4     0         0 65.225101 0.000000
user_io:110957.123MB total_ios: 464744.531MB WriteAmplification: 4.1885
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96151.958 MB data into db.)


2025-01-06 02:47:45 ... thread 0: (100000000,899999999) ops and (108399.1,107880.5) ops/second in (922.516808,8342.566972) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1589        0        0    124859    124859      0     318  2434     0       0     0      0   318         0 0.000000 0.000000
    1     5     269    1866   173140   173140     85991     85991      0     599   648     0       0     0   1114   599        12 0.000000 65.286272
    2    34    1542    2789   200232   200232    192588    192588      0     405   428     0       0     0   3333   405        62 65.286272 65.209659
    3   200   12340    1822   128713   128713    124270    124270      0       2     2     0       0     0   1793     2       179 65.209659 65.206964
    4   181   11472       6      391      391       391       391      0       0     0     0       0     0      4     0         0 65.206964 0.000000
user_io:124858.895MB total_ios: 528099.222MB WriteAmplification: 4.2296
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109887.955 MB data into db.)


2025-01-06 03:03:10 ... thread 0: (100000000,999999999) ops and (108159.7,107908.3) ops/second in (924.559110,9267.126082) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359    1754        0        0    138761    138761      0     351  2698     0       0     0      0   351         0 0.000000 0.000000
    1     4     173    2061   191868   191868     95297     95297      0     662   721     0       0     0   1236   662        13 0.000000 65.286412
    2    36    1679    3079   222472   222472    213888    213888      0     459   484     0       0     0   3734   459        62 65.286412 65.209659
    3   205   12661    2063   147788   147788    142602    142602      0       3     3     0       0     0   2074     3       212 65.209659 65.190820
    4   215   13547      12      855      855       854       854      0       0     0     0       0     0     11     0         0 65.190820 0.000000
user_io:138760.616MB total_ios: 591402.063MB WriteAmplification: 4.2620
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123623.953 MB data into db.)


1000000000 operations have been finished (137359.952 MB data have been written into db)
fillzipf     :       9.267 micros/op 107908 ops/sec;   14.8 MB/s
Microseconds per op:
Count: 1000000000  Average: 9.2671  StdDev: 121.96
Percentiles: P50: 5.60 P75: 6.52 P99: 10.47 P99.9: 1140.56 P99.99: 1195.85
------------------------------------------------------
[       2,       3 )  326895   0.033%   0.033%
[       3,       4 ) 77765408   7.777%   7.809% ##
[       4,       5 ) 216112958  21.611%  29.421% ####
[       5,       6 ) 343730390  34.373%  63.794% #######
[       6,       7 ) 217295350  21.730%  85.523% ####
[       7,       8 ) 90186362   9.019%  94.542% ##
[       8,       9 ) 32164611   3.216%  97.758% #
[       9,      10 ) 11137015   1.114%  98.872%
[      10,      12 ) 5507020   0.551%  99.423%
[      12,      14 ) 1015716   0.102%  99.524%
[      14,      16 )  365537   0.037%  99.561%
[      16,      18 )  230599   0.023%  99.584%
[      18,      20 )  216762   0.022%  99.605%
[      20,      25 )  373211   0.037%  99.643%
[      25,      30 )  127448   0.013%  99.656%
[      30,      35 )   41676   0.004%  99.660%
[      35,      40 )   17768   0.002%  99.661%
[      40,      45 )    9556   0.001%  99.662%
[      45,      50 )    5314   0.001%  99.663%
[      50,      60 )   29822   0.003%  99.666%
[      60,      70 )   17098   0.002%  99.668%
[      70,      80 )    3273   0.000%  99.668%
[      80,      90 )    5579   0.001%  99.669%
[      90,     100 )    2462   0.000%  99.669%
[     100,     120 )    4676   0.000%  99.669%
[     120,     140 )    3667   0.000%  99.670%
[     140,     160 )    1656   0.000%  99.670%
[     160,     180 )    1547   0.000%  99.670%
[     180,     200 )    1666   0.000%  99.670%
[     200,     250 )    6028   0.001%  99.671%
[     250,     300 )    1237   0.000%  99.671%
[     300,     350 )     817   0.000%  99.671%
[     350,     400 )     651   0.000%  99.671%
[     400,     450 )     429   0.000%  99.671%
[     450,     500 )     267   0.000%  99.671%
[     500,     600 )     412   0.000%  99.671%
[     600,     700 )     270   0.000%  99.671%
[     700,     800 )     240   0.000%  99.671%
[     800,     900 )     145   0.000%  99.671%
[     900,    1000 )     149   0.000%  99.671%
[    1000,    1200 ) 3255901   0.326%  99.997%
[    1200,    1400 )    2576   0.000%  99.997%
[    1400,    1600 )    1143   0.000%  99.997%
[    1600,    1800 )     610   0.000%  99.997%
[    1800,    2000 )     466   0.000%  99.997%
[    2000,    2500 )     987   0.000%  99.997%
[    2500,    3000 )     825   0.000%  99.997%
[    3000,    3500 )     711   0.000%  99.997%
[    3500,    4000 )     692   0.000%  99.998%
[    4000,    4500 )     691   0.000%  99.998%
[    4500,    5000 )     711   0.000%  99.998%
[    5000,    6000 )    1444   0.000%  99.998%
[    6000,    7000 )    1232   0.000%  99.998%
[    7000,    8000 )    1168   0.000%  99.998%
[    8000,    9000 )    1032   0.000%  99.998%
[    9000,   10000 )    1074   0.000%  99.998%
[   10000,   12000 )    1951   0.000%  99.998%
[   12000,   14000 )    2489   0.000%  99.999%
[   14000,   16000 )    2107   0.000%  99.999%
[   16000,   18000 )    1660   0.000%  99.999%
[   18000,   20000 )    1391   0.000%  99.999%
[   20000,   25000 )    2481   0.000% 100.000%
[   25000,   30000 )    1781   0.000% 100.000%
[   30000,   35000 )    1072   0.000% 100.000%
[   35000,   40000 )     799   0.000% 100.000%
[   40000,   45000 )     435   0.000% 100.000%
[   45000,   50000 )     356   0.000% 100.000%
[   50000,   60000 )     333   0.000% 100.000%
[   60000,   70000 )     117   0.000% 100.000%
[   70000,   80000 )      43   0.000% 100.000%
[   80000,   90000 )      16   0.000% 100.000%
[   90000,  100000 )       7   0.000% 100.000%
[  100000,  120000 )      10   0.000% 100.000%
[  120000,  140000 )       1   0.000% 100.000%
[  140000,  160000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        7      359      1754        0    138761
  1        4      173      2061   191868     95297
  2       36     1679      3079   222472    213888
  3      205    12661      2063   147788    142602
  4      215    13547        12      855       854
user_io:138760.616MB total_ios: 591402.063MB WriteAmplification: 4.2620

Checking if iostat process with PID 2304261 is still running...
    PID TTY          TIME CMD
2304261 pts/5    00:00:00 iostat
iostat process 2304261 is still running, killing now...
iostat process 2304261 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0100.sh: line 45: 2304261 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2304262':

     11,997,017.75 msec task-clock                       #    1.295 CPUs utilized
         4,260,526      context-switches                 #  355.132 /sec
             2,431      cpu-migrations                   #    0.203 /sec
        17,007,999      page-faults                      #    1.418 K/sec
37,904,773,012,183      cycles                           #    3.160 GHz
79,760,799,614,830      instructions                     #    2.10  insn per cycle
11,330,568,658,544      branches                         #  944.449 M/sec
    29,747,946,094      branch-misses                    #    0.26% of all branches
                        TopdownL1                 #      2.6 %  tma_backend_bound
                                                  #     89.2 %  tma_bad_speculation
                                                  #      4.2 %  tma_frontend_bound
                                                  #      4.0 %  tma_retiring

    9266.477296189 seconds time elapsed
