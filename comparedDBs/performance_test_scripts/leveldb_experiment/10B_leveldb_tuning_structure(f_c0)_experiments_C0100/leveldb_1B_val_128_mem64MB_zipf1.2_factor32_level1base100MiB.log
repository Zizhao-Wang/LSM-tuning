LevelDB:    version 1.23
Date:       Mon Jan  6 20:51:47 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f32_1.2_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f32_1.2_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2517565
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f32_1.2_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_zipf1.2_f32_memory_usage_1B_key16_val128_mem64MiB_factor32_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 21:00:47 ... thread 0: (99999999,99999999) ops and (185100.4,185100.4) ops/second in (540.247242,540.247242) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     168        0        0     13604     13604      0      61   266     0       0     0      0    61         0 0.000000 0.000000
    1     3      85     125    17461    17461      5332      5332      0      19    22     0       0     0     98    19         0 0.000000 0.000000
    2    14     801      91     7334     7334      6848      6848      0       0     0     0       0     0    102     0         0 0.000000 0.000000
user_io:13603.967MB total_ios: 25783.298MB WriteAmplification: 1.8953
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 21:10:23 ... thread 0: (100000000,199999999) ops and (173653.1,179194.1) ops/second in (575.860700,1116.107942) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     355     332        0        0     27360     27360      0     113   532     0       0     0      0   113         0 0.000000 0.000000
    1     3     108     251    34616    34616     10306     10306      0      44    50     0       0     0    214    44         0 0.000000 0.000000
    2    23    1484     257    20472    20472     19369     19369      0       0     0     0       0     0    303     0         0 0.000000 0.000000
user_io:27360.212MB total_ios: 57035.226MB WriteAmplification: 2.0846
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-06 21:20:19 ... thread 0: (100000000,299999999) ops and (167717.7,175198.0) ops/second in (596.239887,1712.347829) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     496        0        0     41066     41066      0     164   806     0       0     0      0   164         0 0.000000 0.000000
    1     4      96     381    52198    52198     15317     15317      0      70    80     0       0     0    366    70         0 0.000000 0.000000
    2    33    2096     448    35982    35982     34140     34140      0       0     0     0       0     0    531     0         0 0.000000 0.000000
user_io:41065.690MB total_ios: 90522.811MB WriteAmplification: 2.2043
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-06 21:30:22 ... thread 0: (100000000,399999999) ops and (166028.9,172812.1) ops/second in (602.304909,2314.652738) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     661        0        0     54822     54822      0     212  1075     0       0     0      0   212         0 0.000000 0.000000
    1     5     117     510    69487    69487     20238     20238      0     103   113     0       0     0    544   103         0 0.000000 0.000000
    2    42    2672     671    54187    54187     51656     51656      0       0     0     0       0     0    822     0         0 0.000000 0.000000
user_io:54821.917MB total_ios: 126716.504MB WriteAmplification: 2.3114
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-06 21:40:43 ... thread 0: (100000000,499999999) ops and (160834.9,170276.1) ops/second in (621.755449,2936.408187) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     825        0        0     68578     68578      0     256  1347     0       0     0      0   256         0 0.000000 0.000000
    1     6     131     643    86918    86918     25127     25127      0     140   151     0       0     0    742   140         0 0.000000 0.000000
    2    51    3249     937    75712    75712     72508     72508      0       0     0     0       0     0   1156     0         0 0.000000 0.000000
user_io:68578.163MB total_ios: 166212.686MB WriteAmplification: 2.4237
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-06 21:51:27 ... thread 0: (100000000,599999999) ops and (155253.9,167573.7) ops/second in (644.106215,3580.514402) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     995        0        0     82334     82334      0     297  1617     0       0     0      0   297         0 0.000000 0.000000
    1     5      90     776   103953   103953     29753     29753      0     176   187     0       0     0    935   176         0 0.000000 0.000000
    2    50    3260    1209    96863    96863     93146     93146      0       6     6     0       0     0   1466     6         9 0.000000 65.284312
    3    10     632      27     2111     2111      1930      1930      0       0     0     0       0     0     40     0         0 65.284312 0.000000
user_io:82334.384MB total_ios: 207162.904MB WriteAmplification: 2.5161
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-06 22:02:08 ... thread 0: (100000000,699999999) ops and (156066.3,165827.0) ops/second in (640.753480,4221.267882) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1162        0        0     96091     96091      0     340  1890     0       0     0      0   340         0 0.000000 0.000000
    1     7     132     910   121354   121354     34612     34612      0     211   222     0       0     0   1138   211         0 0.000000 0.000000
    2    52    3261    1467   117416   117416    113209    113209      0      12    12     0       0     0   1790    12        14 0.000000 65.280628
    3    21    1369      66     5094     5094      4867      4867      0       0     0     0       0     0     75     0         0 65.280628 0.000000
user_io:96090.605MB total_ios: 248777.962MB WriteAmplification: 2.5890
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-06 22:12:47 ... thread 0: (100000000,799999999) ops and (156591.1,164613.3) ops/second in (638.605834,4859.873716) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1327        0        0    109796    109796      0     384  2162     0       0     0      0   384         0 0.000000 0.000000
    1     6     114    1048   138878   138878     39646     39646      0     243   255     0       0     0   1352   243         0 0.000000 0.000000
    2    52    3151    1727   137180   137180    132309    132309      0      18    18     0       0     0   2098    18        20 0.000000 65.275019
    3    33    2144      97     7429     7429      7194      7194      0       0     0     0       0     0    105     0         0 65.275019 0.000000
user_io:109796.078MB total_ios: 288945.105MB WriteAmplification: 2.6317
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-06 22:23:51 ... thread 0: (100000000,899999999) ops and (150588.0,162927.3) ops/second in (664.063685,5523.937401) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254    1494        0        0    123552    123552      0     424  2429     0       0     0      0   424         0 0.000000 0.000000
    1     5     120    1184   155958   155958     44427     44427      0     279   293     0       0     0   1539   279         0 0.000000 0.000000
    2    51    3189    2015   158448   158448    152954    152954      0      23    23     0       0     0   2448    23        24 0.000000 65.267046
    3    42    2729     120     9104     9104      8868      8868      0       0     0     0       0     0    126     0         0 65.267046 0.000000
user_io:123552.315MB total_ios: 329800.755MB WriteAmplification: 2.6693
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-06 22:34:42 ... thread 0: (100000000,999999999) ops and (153677.6,161952.5) ops/second in (650.712976,6174.650377) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305    1663        0        0    137309    137309      0     467  2699     0       0     0      0   467         0 0.000000 0.000000
    1     6     109    1323   173453   173453     49458     49458      0     313   327     0       0     0   1739   313         0 0.000000 0.000000
    2    52    3158    2283   179583   179583    173459    173459      0      28    28     0       0     0   2789    28        29 0.000000 65.255277
    3    52    3380     149    11329    11329     11091     11091      0       0     0     0       0     0    156     0         0 65.255277 0.000000
user_io:137308.548MB total_ios: 371316.420MB WriteAmplification: 2.7042
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       6.175 micros/op 161952 ops/sec;   22.2 MB/s
Microseconds per op:
Count: 1000000000  Average: 6.1747  StdDev: 58.79
Percentiles: P50: 5.53 P75: 6.57 P99: 11.03 P99.9: 24.10 P99.99: 1176.26
------------------------------------------------------
[       2,       3 )  126880   0.013%   0.013%
[       3,       4 ) 112583669  11.258%  11.271% ##
[       4,       5 ) 222688941  22.269%  33.540% ####
[       5,       6 ) 308516978  30.852%  64.392% ######
[       6,       7 ) 185167354  18.517%  82.908% ####
[       7,       8 ) 91194080   9.119%  92.028% ##
[       8,       9 ) 43883791   4.388%  96.416% #
[       9,      10 ) 19677895   1.968%  98.384%
[      10,      12 ) 11905218   1.191%  99.574%
[      12,      14 ) 2122323   0.212%  99.787%
[      14,      16 )  505152   0.051%  99.837%
[      16,      18 )  223276   0.022%  99.860%
[      18,      20 )  190466   0.019%  99.879%
[      20,      25 )  261146   0.026%  99.905%
[      25,      30 )   71221   0.007%  99.912%
[      30,      35 )   28094   0.003%  99.915%
[      35,      40 )   19406   0.002%  99.917%
[      40,      45 )   14144   0.001%  99.918%
[      45,      50 )    7370   0.001%  99.919%
[      50,      60 )    7162   0.001%  99.919%
[      60,      70 )   13703   0.001%  99.921%
[      70,      80 )   15543   0.002%  99.922%
[      80,      90 )    5841   0.001%  99.923%
[      90,     100 )    4364   0.000%  99.923%
[     100,     120 )    3852   0.000%  99.924%
[     120,     140 )    5402   0.001%  99.924%
[     140,     160 )    1745   0.000%  99.925%
[     160,     180 )    1131   0.000%  99.925%
[     180,     200 )     880   0.000%  99.925%
[     200,     250 )    5681   0.001%  99.925%
[     250,     300 )     827   0.000%  99.925%
[     300,     350 )     486   0.000%  99.925%
[     350,     400 )     404   0.000%  99.925%
[     400,     450 )     305   0.000%  99.925%
[     450,     500 )     261   0.000%  99.925%
[     500,     600 )     395   0.000%  99.926%
[     600,     700 )     272   0.000%  99.926%
[     700,     800 )     258   0.000%  99.926%
[     800,     900 )     173   0.000%  99.926%
[     900,    1000 )     129   0.000%  99.926%
[    1000,    1200 )  730504   0.073%  99.999%
[    1200,    1400 )    1005   0.000%  99.999%
[    1400,    1600 )     786   0.000%  99.999%
[    1600,    1800 )     404   0.000%  99.999%
[    1800,    2000 )     339   0.000%  99.999%
[    2000,    2500 )     791   0.000%  99.999%
[    2500,    3000 )     731   0.000%  99.999%
[    3000,    3500 )     541   0.000%  99.999%
[    3500,    4000 )     324   0.000%  99.999%
[    4000,    4500 )     277   0.000%  99.999%
[    4500,    5000 )     208   0.000%  99.999%
[    5000,    6000 )     407   0.000%  99.999%
[    6000,    7000 )     424   0.000%  99.999%
[    7000,    8000 )     437   0.000%  99.999%
[    8000,    9000 )     421   0.000%  99.999%
[    9000,   10000 )     413   0.000%  99.999%
[   10000,   12000 )     871   0.000% 100.000%
[   12000,   14000 )    1036   0.000% 100.000%
[   14000,   16000 )     897   0.000% 100.000%
[   16000,   18000 )     646   0.000% 100.000%
[   18000,   20000 )     508   0.000% 100.000%
[   20000,   25000 )     841   0.000% 100.000%
[   25000,   30000 )     416   0.000% 100.000%
[   30000,   35000 )     277   0.000% 100.000%
[   35000,   40000 )     114   0.000% 100.000%
[   40000,   45000 )      59   0.000% 100.000%
[   45000,   50000 )      42   0.000% 100.000%
[   50000,   60000 )      58   0.000% 100.000%
[   60000,   70000 )       3   0.000% 100.000%
[   80000,   90000 )       2   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        6      305      1663        0    137309
  1        6      109      1323   173453     49458
  2       52     3158      2283   179583    173459
  3       52     3380       149    11329     11091
user_io:137308.548MB total_ios: 371316.420MB WriteAmplification: 2.7042

Checking if iostat process with PID 2517564 is still running...
    PID TTY          TIME CMD
2517564 pts/5    00:00:00 iostat
iostat process 2517564 is still running, killing now...
iostat process 2517564 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0100.sh: line 45: 2517564 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2517565':

      9,558,468.96 msec task-clock                       #    1.548 CPUs utilized
         1,462,826      context-switches                 #  153.040 /sec
             1,553      cpu-migrations                   #    0.162 /sec
        10,822,484      page-faults                      #    1.132 K/sec
31,135,103,789,157      cycles                           #    3.257 GHz
62,440,410,257,510      instructions                     #    2.01  insn per cycle
 8,914,282,777,044      branches                         #  932.606 M/sec
    25,768,087,891      branch-misses                    #    0.29% of all branches
                        TopdownL1                 #      4.4 %  tma_backend_bound
                                                  #     84.6 %  tma_bad_speculation
                                                  #      6.7 %  tma_frontend_bound
                                                  #      4.3 %  tma_retiring

    6174.382838002 seconds time elapsed
