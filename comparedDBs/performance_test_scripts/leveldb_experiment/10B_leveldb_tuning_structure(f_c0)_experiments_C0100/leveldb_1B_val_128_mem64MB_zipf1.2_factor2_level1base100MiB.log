LevelDB:    version 1.23
Date:       Sat Jan  4 14:59:30 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f2_1.2_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f2_1.2_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 1555994
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f2_1.2_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_zipf1.2_f2_memory_usage_1B_key16_val128_mem64MiB_factor2_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-04 15:07:51 ... thread 0: (99999999,99999999) ops and (199832.7,199832.7) ops/second in (500.418473,500.418473) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     169        0        0     13604     13604      0      63   267     0       0     0      0    63         0 0.000000 0.000000
    1     2      72     125    17357    17357      5368      5368      0      17    19     0       0     0     94    17         2 0.000000 65.282030
    2     4     177      42     3165     3165      2983      2983      0      10    10     0       0     0     37    10         5 65.282030 15.687696
    3     6     341      23     1788     1788      1657      1657      0       3     3     0       0     0     21     3         4 15.687696 65.274255
    4     6     356       5      457      457       356       356      0       0     0     0       0     0      5     0         0 65.274255 0.000000
user_io:13603.967MB total_ios: 23967.811MB WriteAmplification: 1.7618
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-04 15:16:19 ... thread 0: (100000000,199999999) ops and (196785.7,198297.5) ops/second in (508.166920,1008.585393) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     339        0        0     27360     27360      0     123   536     0       0     0      0   123         0 0.000000 0.000000
    1     2     102     257    35509    35509     11079     11079      0      38    40     0       0     0    190    38         4 0.000000 65.279773
    2     3     160      94     7228     7228      6814      6814      0      22    23     0       0     0     90    22        12 65.279773 65.281094
    3     6     378      52     4029     4029      3776      3776      0      13    13     0       0     0     50    13        10 65.281094 34.370671
    4    12     744      31     2651     2651      2251      2251      0       0     0     0       0     0     34     0         5 34.370671 65.286780
    5     5     326       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.286780 0.000000
user_io:27360.212MB total_ios: 51280.826MB WriteAmplification: 1.8743
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-04 15:24:50 ... thread 0: (100000000,299999999) ops and (195834.5,197469.7) ops/second in (510.635196,1519.220589) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     254     509        0        0     41116     41116      0     183   805     0       0     0      0   183         0 0.000000 0.000000
    1     2     112     384    53133    53133     16462     16462      0      58    60     0       0     0    284    58         6 0.000000 65.280989
    2     3     174     144    11102    11102     10507     10507      0      33    34     0       0     0    138    33        21 65.280989 22.594307
    3     7     373      84     6615     6615      6079      6079      0      22    22     0       0     0     83    22        17 22.594307 65.254146
    4    15     768      52     4358     4358      3833      3833      0       1     1     0       0     0     54     1        16 65.254146 65.243334
    5    17    1109       3      196      196       196       196      0       0     0     0       0     0      2     0         0 65.243334 0.000000
user_io:41116.451MB total_ios: 78193.827MB WriteAmplification: 1.9018
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-04 15:33:30 ... thread 0: (100000000,399999999) ops and (192289.3,196148.6) ops/second in (520.049731,2039.270320) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51     676        0        0     54822     54822      0     240  1079     0       0     0      0   240         0 0.000000 0.000000
    1     1      41     512    70939    70939     21771     21771      0      78    81     0       0     0    373    78         8 0.000000 65.283134
    2     4     202     199    15302    15302     14530     14530      0      49    50     0       0     0    187    49        26 65.283134 65.287434
    3     8     419     123     9469     9469      8723      8723      0      32    34     0       0     0    117    32        23 65.287434 65.280280
    4    13     767      78     6265     6265      5591      5591      0       9     9     0       0     0     82     9        22 65.280280 24.288180
    5    26    1582      27     2017     2017      1748      1748      0       0     0     0       0     0     26     0         2 24.288180 65.285491
    6     2     131       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.285491 0.000000
user_io:54821.917MB total_ios: 107184.390MB WriteAmplification: 1.9551
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-04 15:42:03 ... thread 0: (100000000,499999999) ops and (194944.5,195906.6) ops/second in (512.966475,2552.236795) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     842        0        0     68578     68578      0     297  1349     0       0     0      0   297         0 0.000000 0.000000
    1     2      73     638    88543    88543     27056     27056      0      97   101     0       0     0    461    97        10 0.000000 65.282209
    2     3     169     246    18924    18924     17963     17963      0      64    65     0       0     0    229    64        31 65.282209 65.261998
    3     6     388     161    12568    12568     11518     11518      0      39    43     0       0     0    158    39        28 65.261998 65.236449
    4    13     789      98     7936     7936      7141      7141      0      21    21     0       0     0     99    21        22 65.236449 24.288180
    5    25    1568      65     4603     4603      4319      4319      0       0     0     0       0     0     58     0        14 24.288180 65.281304
    6    14     914       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.281304 0.000000
user_io:68578.163MB total_ios: 136576.090MB WriteAmplification: 1.9915
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-04 15:50:47 ... thread 0: (100000000,599999999) ops and (190805.3,195037.5) ops/second in (524.094537,3076.331332) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1014        0        0     82334     82334      0     357  1621     0       0     0      0   357         0 0.000000 0.000000
    1     2      91     770   106598   106598     32713     32713      0     116   120     0       0     0    559   116        13 0.000000 65.282787
    2     3     139     289    22291    22291     21135     21135      0      72    73     0       0     0    268    72        43 65.282787 65.257005
    3     7     356     183    14324    14324     13081     13081      0      51    56     0       0     0    180    51        32 65.257005 65.282280
    4    13     777     138    10802    10802      9838      9838      0      24    24     0       0     0    135    24        33 65.282280 65.273356
    5    24    1555      73     5162     5162      4872      4872      0       0     0     0       0     0     65     0        28 65.273356 65.250405
    6    28    1828       0        0        0         0         0      0       0     0     0       0     0      0     0         0 65.250405 0.000000
user_io:82334.384MB total_ios: 163972.535MB WriteAmplification: 1.9915
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-04 15:59:14 ... thread 0: (100000000,699999999) ops and (197131.7,195333.9) ops/second in (507.275118,3583.606450) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102    1183        0        0     96040     96040      0     417  1890     0       0     0      0   417         0 0.000000 0.000000
    1     2     104     897   124377   124377     38236     38236      0     136   141     0       0     0    654   136        15 0.000000 65.281446
    2     3     181     336    26135    26135     24738     24738      0      87    88     0       0     0    320    87        47 65.281446 65.274519
    3     7     372     216    16961    16961     15388     15388      0      56    63     0       0     0    215    56        37 65.274519 65.235808
    4    13     765     152    11788    11788     10707     10707      0      25    25     0       0     0    146    25        42 65.235808 65.217893
    5    24    1555      76     5357     5357      5067      5067      0       1     1     0       0     0     67     1        37 65.217893 65.208682
    6    38    2480       3      196      196       195       195      0       0     0     0       0     0      2     0         0 65.208682 0.000000
user_io:96039.843MB total_ios: 190371.757MB WriteAmplification: 1.9822
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-04 16:07:44 ... thread 0: (100000000,799999999) ops and (196022.6,195419.8) ops/second in (510.145196,4093.751646) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305    1347        0        0    109796    109796      0     476  2163     0       0     0      0   476         0 0.000000 0.000000
    1     1      45    1022   141830   141830     43540     43540      0     157   162     0       0     0    748   157        16 0.000000 65.281498
    2     3     170     397    30715    30715     29108     29108      0      98   100     0       0     0    375    98        56 65.281498 65.284367
    3     8     428     245    19482    19482     17646     17646      0      65    73     0       0     0    246    65        43 65.284367 65.274853
    4    12     760     175    13641    13641     12378     12378      0      38    38     0       0     0    171    38        42 65.274853 65.217893
    5    25    1570     106     7684     7684      7077      7077      0       4     4     0       0     0     99     4        41 65.217893 43.563444
    6    43    2723       7      588      588       396       396      0       0     0     0       0     0      7     0         0 43.563444 0.000000
user_io:109796.078MB total_ios: 219941.313MB WriteAmplification: 2.0032
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-04 16:16:26 ... thread 0: (100000000,899999999) ops and (191796.8,195010.5) ops/second in (521.385202,4615.136848) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1510        0        0    123552    123552      0     531  2433     0       0     0      0   531         0 0.000000 0.000000
    1     2      84    1152   159608   159608     48747     48747      0     177   182     0       0     0    835   177        18 0.000000 65.281656
    2     4     182     446    34588    34588     32761     32761      0     109   112     0       0     0    423   109        63 65.281656 65.247008
    3     6     376     275    21883    21883     19817     19817      0      73    83     0       0     0    275    73        50 65.247008 65.287156
    4    13     735     198    15548    15548     14168     14168      0      47    48     0       0     0    195    47        46 65.287156 65.285867
    5    24    1548     131     9572     9572      8959      8959      0      18    18     0       0     0    121    18        41 65.285867 43.563444
    6    52    3310      45     3268     3268      2749      2749      0       0     0     0       0     0     42     0         0 43.563444 0.000000
user_io:123552.315MB total_ios: 250753.436MB WriteAmplification: 2.0295
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-04 16:25:24 ... thread 0: (100000000,999999999) ops and (185646.8,194031.8) ops/second in (538.657390,5153.794238) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1676        0        0    137309    137309      0     584  2702     0       0     0      0   584         0 0.000000 0.000000
    1     2      81    1278   177031   177031     53940     53940      0     198   203     0       0     0    919   198        19 0.000000 65.282834
    2     3     173     503    39078    39078     37082     37082      0     122   125     0       0     0    482   122        71 65.282834 65.284745
    3     7     348     324    25895    25895     23507     23507      0      81    94     0       0     0    329    81        55 65.284745 65.262741
    4    15     863     221    17399    17399     15826     15826      0      49    50     0       0     0    219    49        55 65.262741 65.258011
    5    24    1537     133     9768     9768      9143      9143      0      28    28     0       0     0    125    28        41 65.258011 43.563444
    6    61    3948      73     5103     5103      4569      4569      0       0     0     0       0     0     62     0         0 43.563444 0.000000
user_io:137308.548MB total_ios: 281376.339MB WriteAmplification: 2.0492
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       5.154 micros/op 194031 ops/sec;   26.6 MB/s
Microseconds per op:
Count: 1000000000  Average: 5.1538  StdDev: 45.45
Percentiles: P50: 5.30 P75: 6.09 P99: 9.27 P99.9: 13.35 P99.99: 1079.17
------------------------------------------------------
[       2,       3 )  863004   0.086%   0.086%
[       3,       4 ) 142188023  14.219%  14.305% ###
[       4,       5 ) 255847266  25.585%  39.890% #####
[       5,       6 ) 335256204  33.526%  73.415% #######
[       6,       7 ) 170262117  17.026%  90.442% ###
[       7,       8 ) 62678282   6.268%  96.709% #
[       8,       9 ) 20992331   2.099%  98.809%
[       9,      10 ) 7126868   0.713%  99.521%
[      10,      12 ) 3407745   0.341%  99.862%
[      12,      14 )  561276   0.056%  99.918%
[      14,      16 )  169028   0.017%  99.935%
[      16,      18 )  104343   0.010%  99.946%
[      18,      20 )   90628   0.009%  99.955%
[      20,      25 )  130052   0.013%  99.968%
[      25,      30 )   46577   0.005%  99.972%
[      30,      35 )   23354   0.002%  99.975%
[      35,      40 )   12554   0.001%  99.976%
[      40,      45 )    7478   0.001%  99.977%
[      45,      50 )    5057   0.001%  99.977%
[      50,      60 )   18310   0.002%  99.979%
[      60,      70 )   15210   0.002%  99.981%
[      70,      80 )    3954   0.000%  99.981%
[      80,      90 )    5155   0.001%  99.981%
[      90,     100 )    3363   0.000%  99.982%
[     100,     120 )    6454   0.001%  99.982%
[     120,     140 )    3557   0.000%  99.983%
[     140,     160 )    1913   0.000%  99.983%
[     160,     180 )    1636   0.000%  99.983%
[     180,     200 )    1557   0.000%  99.983%
[     200,     250 )    5124   0.001%  99.984%
[     250,     300 )     629   0.000%  99.984%
[     300,     350 )     466   0.000%  99.984%
[     350,     400 )     363   0.000%  99.984%
[     400,     450 )     287   0.000%  99.984%
[     450,     500 )     246   0.000%  99.984%
[     500,     600 )     401   0.000%  99.984%
[     600,     700 )     292   0.000%  99.984%
[     700,     800 )     211   0.000%  99.984%
[     800,     900 )     200   0.000%  99.984%
[     900,    1000 )     106   0.000%  99.984%
[    1000,    1200 )  147477   0.015%  99.999%
[    1200,    1400 )     551   0.000%  99.999%
[    1400,    1600 )     406   0.000%  99.999%
[    1600,    1800 )     331   0.000%  99.999%
[    1800,    2000 )     258   0.000%  99.999%
[    2000,    2500 )     717   0.000%  99.999%
[    2500,    3000 )     610   0.000%  99.999%
[    3000,    3500 )     508   0.000%  99.999%
[    3500,    4000 )     310   0.000%  99.999%
[    4000,    4500 )     222   0.000%  99.999%
[    4500,    5000 )     215   0.000%  99.999%
[    5000,    6000 )     434   0.000%  99.999%
[    6000,    7000 )     443   0.000%  99.999%
[    7000,    8000 )     423   0.000%  99.999%
[    8000,    9000 )     436   0.000%  99.999%
[    9000,   10000 )     418   0.000% 100.000%
[   10000,   12000 )     816   0.000% 100.000%
[   12000,   14000 )     838   0.000% 100.000%
[   14000,   16000 )     687   0.000% 100.000%
[   16000,   18000 )     539   0.000% 100.000%
[   18000,   20000 )     451   0.000% 100.000%
[   20000,   25000 )     641   0.000% 100.000%
[   25000,   30000 )     320   0.000% 100.000%
[   30000,   35000 )     170   0.000% 100.000%
[   35000,   40000 )      81   0.000% 100.000%
[   40000,   45000 )      36   0.000% 100.000%
[   45000,   50000 )      21   0.000% 100.000%
[   50000,   60000 )      16   0.000% 100.000%
[   60000,   70000 )       3   0.000% 100.000%
[   70000,   80000 )       1   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        3      152      1676        0    137309
  1        2       81      1278   177031     53940
  2        3      173       503    39078     37082
  3        7      348       324    25895     23507
  4       15      863       221    17399     15826
  5       24     1537       133     9768      9143
  6       61     3948        73     5103      4569
user_io:137308.548MB total_ios: 281376.339MB WriteAmplification: 2.0492

Checking if iostat process with PID 1555993 is still running...
    PID TTY          TIME CMD
1555993 pts/5    00:00:00 iostat
iostat process 1555993 is still running, killing now...
iostat process 1555993 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0100.sh: line 45: 1555993 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '1555994':

      8,224,777.42 msec task-clock                       #    1.596 CPUs utilized
           642,515      context-switches                 #   78.119 /sec
             1,637      cpu-migrations                   #    0.199 /sec
         8,255,219      page-faults                      #    1.004 K/sec
26,937,487,098,877      cycles                           #    3.275 GHz
55,069,285,564,722      instructions                     #    2.04  insn per cycle
 7,901,614,939,178      branches                         #  960.709 M/sec
    21,766,303,911      branch-misses                    #    0.28% of all branches
                        TopdownL1                 #      6.5 %  tma_backend_bound
                                                  #     81.1 %  tma_bad_speculation
                                                  #      7.8 %  tma_frontend_bound
                                                  #      4.6 %  tma_retiring

    5153.276073486 seconds time elapsed
