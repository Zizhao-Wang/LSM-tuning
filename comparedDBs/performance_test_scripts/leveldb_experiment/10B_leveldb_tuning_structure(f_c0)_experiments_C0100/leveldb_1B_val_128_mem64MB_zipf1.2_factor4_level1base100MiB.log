LevelDB:    version 1.23
Date:       Sun Jan  5 18:23:34 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f4_1.2_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f4_1.2_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2167286
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f4_1.2_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_zipf1.2_f4_memory_usage_1B_key16_val128_mem64MiB_factor4_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.2_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-05 18:32:04 ... thread 0: (99999999,99999999) ops and (195948.3,195948.3) ops/second in (510.338703,510.338703) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     175        0        0     13604     13604      0      60   266     0       0     0      0    60         0 0.000000 0.000000
    1     2      77     129    17444    17444      5312      5312      0      18    20     0       0     0     91    18         1 0.000000 65.283323
    2     8     433      62     4749     4749      4476      4476      0       7     7     0       0     0     61     7         3 65.283323 65.275523
    3     7     448      20     1622     1622      1482      1482      0       0     0     0       0     0     27     0         0 65.275523 0.000000
user_io:13603.967MB total_ios: 24873.706MB WriteAmplification: 1.8284
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-05 18:40:57 ... thread 0: (100000000,199999999) ops and (187859.9,191818.9) ops/second in (532.311624,1042.650327) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6     305     351        0        0     27360     27360      0     118   537     0       0     0      0   118         0 0.000000 0.000000
    1     2      87     258    34923    34923     10629     10629      0      38    41     0       0     0    184    38         2 0.000000 65.279212
    2     8     388     138    10386    10386      9780      9780      0      18    18     0       0     0    141    18         8 65.279212 47.964561
    3    19    1158      75     5854     5854      5332      5332      0       0     0     0       0     0     79     0         0 47.964561 0.000000
user_io:27360.212MB total_ios: 53099.960MB WriteAmplification: 1.9408
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2025-01-05 18:50:08 ... thread 0: (100000000,299999999) ops and (181575.2,188278.3) ops/second in (550.735907,1593.386234) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203     530        0        0     41066     41066      0     170   805     0       0     0      0   170         0 0.000000 0.000000
    1     1      40     390    52400    52400     15686     15686      0      60    63     0       0     0    265    60         3 0.000000 65.286436
    2    10     389     238    17738    17738     16673     16673      0      32    34     0       0     0    255    32         8 65.286436 47.964561
    3    26    1652     145    11269    11269     10460     10460      0       2     2     0       0     0    153     2         2 47.964561 65.285960
    4     3     178       2      131      131       113       113      0       0     0     0       0     0      3     0         0 65.285960 0.000000
user_io:41065.690MB total_ios: 83997.898MB WriteAmplification: 2.0455
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2025-01-05 18:59:04 ... thread 0: (100000000,399999999) ops and (186289.7,187777.1) ops/second in (536.798472,2130.184706) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152     705        0        0     54822     54822      0     227  1077     0       0     0      0   227         0 0.000000 0.000000
    1     2      75     520    70103    70103     20965     20965      0      81    84     0       0     0    355    81         4 0.000000 65.284571
    2     9     438     321    24132    24132     22642     22642      0      44    47     0       0     0    355    44        11 65.284571 65.278646
    3    25    1552     195    14968    14968     14100     14100      0       2     2     0       0     0    207     2        15 65.278646 65.273743
    4    17    1078       4      308      308       277       277      0       0     0     0       0     0      3     0         0 65.273743 0.000000
user_io:54821.917MB total_ios: 112806.148MB WriteAmplification: 2.0577
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2025-01-05 19:08:10 ... thread 0: (100000000,499999999) ops and (183321.5,186868.8) ops/second in (545.489742,2675.674448) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     102     883        0        0     68578     68578      0     281  1349     0       0     0      0   281         0 0.000000 0.000000
    1     2      91     656    87747    87747     26137     26137      0     103   106     0       0     0    440   103         4 0.000000 65.284571
    2     8     422     412    30878    30878     28984     28984      0      59    62     0       0     0    461    59        12 65.284571 65.267894
    3    26    1636     261    19856    19856     18730     18730      0       4     4     0       0     0    276     4        22 65.267894 65.256808
    4    26    1664      13      894      894       861       861      0       0     0     0       0     0     10     0         0 65.256808 0.000000
user_io:68578.163MB total_ios: 143290.115MB WriteAmplification: 2.0894
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2025-01-05 19:17:32 ... thread 0: (100000000,599999999) ops and (177828.2,185298.7) ops/second in (562.340417,3238.014865) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1068        0        0     82334     82334      0     334  1622     0       0     0      0   334         0 0.000000 0.000000
    1     2      90     785   105025   105025     31163     31163      0     124   127     0       0     0    524   124         5 0.000000 65.284422
    2     7     356     499    37251    37251     34948     34948      0      73    77     0       0     0    556    73        13 65.284422 65.248700
    3    26    1553     332    25094    25094     23542     23542      0       5     5     0       0     0    345     5        32 65.248700 65.232739
    4    37    2381      19     1351     1351      1317      1317      0       0     0     0       0     0     16     0         0 65.232739 0.000000
user_io:82334.384MB total_ios: 173304.570MB WriteAmplification: 2.1049
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2025-01-05 19:26:58 ... thread 0: (100000000,699999999) ops and (176812.1,184036.8) ops/second in (565.572239,3803.587104) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1248        0        0     96091     96091      0     386  1892     0       0     0      0   386         0 0.000000 0.000000
    1     1      55     918   122550   122550     36141     36141      0     146   149     0       0     0    604   146         6 0.000000 65.285060
    2     8     444     594    43590    43590     41042     41042      0      88    94     0       0     0    656    88        14 65.285060 65.223248
    3    27    1625     409    30141    30141     28116     28116      0       6     6     0       0     0    421     6        39 65.223248 65.182751
    4    45    2901      28     1806     1806      1772      1772      0       0     0     0       0     0     22     0         0 65.182751 0.000000
user_io:96090.605MB total_ios: 203161.657MB WriteAmplification: 2.1143
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2025-01-05 19:36:15 ... thread 0: (100000000,799999999) ops and (179443.2,183449.8) ops/second in (557.279482,4360.866586) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1426        0        0    109796    109796      0     439  2159     0       0     0      0   439         0 0.000000 0.000000
    1     1      65    1048   139763   139763     41200     41200      0     168   171     0       0     0    687   168         6 0.000000 65.285060
    2     7     360     685    50419    50419     47511     47511      0     101   109     0       0     0    763   101        17 65.285060 65.277276
    3    30    1656     471    34719    34719     32462     32462      0      20    20     0       0     0    482    20        39 65.277276 65.182751
    4    51    3271      57     3964     3964      3451      3451      0       0     0     0       0     0     53     0         0 65.182751 0.000000
user_io:109796.078MB total_ios: 234419.979MB WriteAmplification: 2.1350
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2025-01-05 19:45:39 ... thread 0: (100000000,899999999) ops and (177346.5,182751.0) ops/second in (563.867881,4924.734467) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     203    1600        0        0    123552    123552      0     491  2430     0       0     0      0   491         0 0.000000 0.000000
    1     2      78    1178   157027   157027     46121     46121      0     189   192     0       0     0    768   189         7 0.000000 65.282802
    2    11     435     776    57156    57156     53875     53875      0     117   126     0       0     0    866   117        17 65.282802 65.277276
    3    28    1633     545    40338    40338     37741     37741      0      28    29     0       0     0    572    28        39 65.277276 65.182751
    4    59    3832      87     6035     6035      5448      5448      0       0     0     0       0     0     76     0         0 65.182751 0.000000
user_io:123552.315MB total_ios: 266737.411MB WriteAmplification: 2.1589
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2025-01-05 19:54:46 ... thread 0: (100000000,999999999) ops and (182875.2,182763.4) ops/second in (546.820870,5471.555337) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     152    1776        0        0    137309    137309      0     543  2702     0       0     0      0   543         0 0.000000 0.000000
    1     2      99    1308   174375   174375     51063     51063      0     209   214     0       0     0    847   209         7 0.000000 65.282802
    2     7     358     861    63320    63320     59704     59704      0     131   142     0       0     0    961   131        19 65.282802 1.708439
    3    28    1597     610    45429    45429     42391     42391      0      39    40     0       0     0    639    39        39 1.708439 65.182751
    4    70    4539     125     8329     8329      7731      7731      0       0     0     0       0     0    103     0         0 65.182751 0.000000
user_io:137308.548MB total_ios: 298198.347MB WriteAmplification: 2.1717
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :       5.472 micros/op 182763 ops/sec;   25.1 MB/s
Microseconds per op:
Count: 1000000000  Average: 5.4716  StdDev: 62.55
Percentiles: P50: 5.30 P75: 6.12 P99: 9.59 P99.9: 15.95 P99.99: 1152.94
------------------------------------------------------
[       2,       3 ) 1062934   0.106%   0.106%
[       3,       4 ) 144791725  14.479%  14.585% ###
[       4,       5 ) 255978788  25.598%  40.183% #####
[       5,       6 ) 327863356  32.786%  72.970% #######
[       6,       7 ) 167166470  16.717%  89.686% ###
[       7,       8 ) 64626802   6.463%  96.149% #
[       8,       9 ) 23410080   2.341%  98.490%
[       9,      10 ) 8641018   0.864%  99.354%
[      10,      12 ) 4519417   0.452%  99.806%
[      12,      14 )  745443   0.075%  99.881%
[      14,      16 )  199133   0.020%  99.901%
[      16,      18 )  121856   0.012%  99.913%
[      18,      20 )  109064   0.011%  99.924%
[      20,      25 )  168107   0.017%  99.940%
[      25,      30 )   69428   0.007%  99.947%
[      30,      35 )   37411   0.004%  99.951%
[      35,      40 )   23528   0.002%  99.953%
[      40,      45 )   14069   0.001%  99.955%
[      45,      50 )    9884   0.001%  99.956%
[      50,      60 )   17322   0.002%  99.958%
[      60,      70 )   17185   0.002%  99.959%
[      70,      80 )    5567   0.001%  99.960%
[      80,      90 )    6187   0.001%  99.960%
[      90,     100 )    3009   0.000%  99.961%
[     100,     120 )    5778   0.001%  99.961%
[     120,     140 )    3407   0.000%  99.962%
[     140,     160 )    2148   0.000%  99.962%
[     160,     180 )    1708   0.000%  99.962%
[     180,     200 )    1782   0.000%  99.962%
[     200,     250 )    3526   0.000%  99.963%
[     250,     300 )     659   0.000%  99.963%
[     300,     350 )     465   0.000%  99.963%
[     350,     400 )     350   0.000%  99.963%
[     400,     450 )     313   0.000%  99.963%
[     450,     500 )     288   0.000%  99.963%
[     500,     600 )     418   0.000%  99.963%
[     600,     700 )     303   0.000%  99.963%
[     700,     800 )     258   0.000%  99.963%
[     800,     900 )     202   0.000%  99.963%
[     900,    1000 )     163   0.000%  99.963%
[    1000,    1200 )  353657   0.035%  99.998%
[    1200,    1400 )     720   0.000%  99.998%
[    1400,    1600 )     540   0.000%  99.998%
[    1600,    1800 )     398   0.000%  99.998%
[    1800,    2000 )     335   0.000%  99.999%
[    2000,    2500 )     825   0.000%  99.999%
[    2500,    3000 )     845   0.000%  99.999%
[    3000,    3500 )     787   0.000%  99.999%
[    3500,    4000 )     489   0.000%  99.999%
[    4000,    4500 )     446   0.000%  99.999%
[    4500,    5000 )     408   0.000%  99.999%
[    5000,    6000 )     730   0.000%  99.999%
[    6000,    7000 )     743   0.000%  99.999%
[    7000,    8000 )     709   0.000%  99.999%
[    8000,    9000 )     677   0.000%  99.999%
[    9000,   10000 )     715   0.000%  99.999%
[   10000,   12000 )    1355   0.000%  99.999%
[   12000,   14000 )    1333   0.000% 100.000%
[   14000,   16000 )     996   0.000% 100.000%
[   16000,   18000 )     702   0.000% 100.000%
[   18000,   20000 )     553   0.000% 100.000%
[   20000,   25000 )    1027   0.000% 100.000%
[   25000,   30000 )     625   0.000% 100.000%
[   30000,   35000 )     373   0.000% 100.000%
[   35000,   40000 )     230   0.000% 100.000%
[   40000,   45000 )      99   0.000% 100.000%
[   45000,   50000 )      64   0.000% 100.000%
[   50000,   60000 )      60   0.000% 100.000%
[   60000,   70000 )       5   0.000% 100.000%
[   70000,   80000 )       3   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        3      152      1776        0    137309
  1        2       99      1308   174375     51063
  2        7      358       861    63320     59704
  3       28     1597       610    45429     42391
  4       70     4539       125     8329      7731
user_io:137308.548MB total_ios: 298198.347MB WriteAmplification: 2.1717

Checking if iostat process with PID 2167285 is still running...
    PID TTY          TIME CMD
2167285 pts/5    00:00:00 iostat
iostat process 2167285 is still running, killing now...
iostat process 2167285 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0100.sh: line 45: 2167285 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2167286':

      8,502,067.79 msec task-clock                       #    1.554 CPUs utilized
           951,132      context-switches                 #  111.871 /sec
             2,374      cpu-migrations                   #    0.279 /sec
         9,524,186      page-faults                      #    1.120 K/sec
27,645,491,164,273      cycles                           #    3.252 GHz
56,624,566,598,151      instructions                     #    2.05  insn per cycle
 8,117,979,312,209      branches                         #  954.824 M/sec
    22,017,591,898      branch-misses                    #    0.27% of all branches
                        TopdownL1                 #      2.8 %  tma_backend_bound
                                                  #     88.0 %  tma_bad_speculation
                                                  #      4.6 %  tma_frontend_bound
                                                  #      4.6 %  tma_retiring

    5470.640704326 seconds time elapsed
