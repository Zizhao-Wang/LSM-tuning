base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
LevelDB:    version 1.23
Date:       Mon Jan  6 17:31:00 2025
CPU:        112 * Intel(R) Xeon(R) Gold 6348 CPU @ 2.60GHz
CPUCache:   43008 KB
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f32_1.1_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
open dbs:in fresh_db()
open dbs:in Open()
entering db_impl.cc:/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f32_1.1_mem64MiB_level1base_100
initialize 0 objects(LevelHotColdStats) for 7 levels
Selected DB_BENCH_PID: 2464854
../../../leveldb/build_release_f_10_C0_100/db_bench --db=/mnt/db_test/LSM-tuning/level10/C0_100/leveldb_f32_1.1_mem64MiB_level1base_100 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/mnt/workloads/zipf1.1_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/LSM-tuning/comparedDBs/performance_test_scripts/leveldb_experiment/10B_leveldb_tuning_structure(f_c0)_experiments_C0100/leveldb_zipf1.1_f32_memory_usage_1B_key16_val128_mem64MiB_factor32_level1base100MiB.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=67108864 --max_file_size=67108864 --print_wa=true
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path:
  data_file_path: /mnt/workloads/zipf1.1_keys10.0B.csv
  percentages:
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
some command parameters have been selected:
  The factor is 2
  The C0 base is: 2000 MiB
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2025-01-06 17:43:13 ... thread 0: (99999999,99999999) ops and (136478.1,136478.1) ops/second in (732.718346,732.718346) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     205     172        0        0     13748     13748      0      42   264     0       0     0      0    42         0 0.000000 0.000000
    1     8     305     180    18116    18116      8811      8811      0      67    73     0       0     0    117    67         0 0.000000 0.000000
    2    47    2951     334    25732    25732     24751     24751      0       0     0     0       0     0    375     0         0 0.000000 0.000000
user_io:13747.805MB total_ios: 47309.553MB WriteAmplification: 3.4412
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2025-01-06 18:00:14 ... thread 0: (100000000,199999999) ops and (97949.8,114047.9) ops/second in (1020.931378,1753.649724) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     154     344        0        0     27650     27650      0      76   536     0       0     0      0    76         0 0.000000 0.000000
    1     9     288     390    37654    37654     18482     18482      0     148   156     0       0     0    308   148         0 0.000000 0.000000
    2    92    5797     947    71392    71392     69153     69153      0       0     0     0       0     0   1058     0         0 0.000000 0.000000
user_io:27649.512MB total_ios: 115284.200MB WriteAmplification: 4.1695
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13735.996 MB data into db.)


2025-01-06 18:19:32 ... thread 0: (100000000,299999999) ops and (86396.9,103053.9) ops/second in (1157.449231,2911.098955) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2     103     517        0        0     41551     41551      0     111   808     0       0     0      0   111         0 0.000000 0.000000
    1     9     329     603    57399    57399     28466     28466      0     247   255     0       0     0    561   247         1 0.000000 65.286366
    2    62    3702    1661   125459   125459    122287    122287      0       8     8     0       0     0   1879     8        76 65.286366 65.233268
    3    83    5171      30     2323     2323      2181      2181      0       0     0     0       0     0     30     0         0 65.233268 0.000000
user_io:41551.176MB total_ios: 194485.591MB WriteAmplification: 4.6806
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27471.990 MB data into db.)


2025-01-06 18:38:36 ... thread 0: (100000000,399999999) ops and (87390.7,98634.3) ops/second in (1144.286691,4055.385646) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256     692        0        0     55402     55402      0     145  1075     0       0     0      0   145         0 0.000000 0.000000
    1     9     208     817    76801    76801     38234     38234      0     347   359     0       0     0    793   347         1 0.000000 65.286366
    2    98    5904    2379   176649   176649    172269    172269      0      11    11     0       0     0   2685    11        86 65.286366 65.222186
    3    96    5943      37     2848     2848      2706      2706      0       0     0     0       0     0     36     0         0 65.222186 0.000000
user_io:55401.595MB total_ios: 268610.909MB WriteAmplification: 4.8484
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41207.983 MB data into db.)


2025-01-06 18:59:02 ... thread 0: (100000000,499999999) ops and (81524.9,94661.0) ops/second in (1226.618646,5282.004292) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5     256     865        0        0     69303     69303      0     179  1346     0       0     0      0   179         0 0.000000 0.000000
    1     9     274    1032    96428    96428     48075     48075      0     447   464     0       0     0   1051   447         1 0.000000 65.286366
    2    98    5943    3152   234726   234726    229022    229022      0      18    18     0       0     0   3608    18       121 65.286366 65.184899
    3   138    8629      67     5195     5195      5051      5051      0       0     0     0       0     0     65     0         0 65.184899 0.000000
user_io:69303.310MB total_ios: 351451.053MB WriteAmplification: 5.0712
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54943.976 MB data into db.)


2025-01-06 19:21:43 ... thread 0: (100000000,599999999) ops and (73512.6,90330.0) ops/second in (1360.310773,6642.315065) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4     205    1040        0        0     83205     83205      0     213  1618     0       0     0      0   213         0 0.000000 0.000000
    1    10     307    1255   116270   116270     58070     58070      0     548   567     0       0     0   1317   548         3 0.000000 65.286327
    2   106    6315    3998   293097   293097    286249    286249      0      45    45     0       0     0   4552    45       135 65.286327 49.073077
    3   164   10291     150    11030    11030      9992      9992      0       0     0     0       0     0    144     0         0 49.073077 0.000000
user_io:83205.043MB total_ios: 437515.276MB WriteAmplification: 5.2583
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68679.969 MB data into db.)


2025-01-06 19:45:06 ... thread 0: (100000000,699999999) ops and (71247.9,87001.2) ops/second in (1403.550038,8045.865103) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3     154    1209        0        0     97107     97107      0     247  1890     0       0     0      0   247         0 0.000000 0.000000
    1    12     266    1472   136208   136208     68229     68229      0     656   677     0       0     0   1590   656         3 0.000000 65.286327
    2   109    6372    4827   353882   353882    345925    345925      0      92    94     0       0     0   5522    92       135 65.286327 49.073077
    3   205   13127     307    21669    21669     20417     20417      0       0     0     0       0     0    282     0         0 49.073077 0.000000
user_io:97106.726MB total_ios: 531678.140MB WriteAmplification: 5.4752
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82415.963 MB data into db.)


2025-01-06 20:06:55 ... thread 0: (100000000,799999999) ops and (76431.2,85522.8) ops/second in (1308.365522,9354.230625) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1      51    1372        0        0    110957    110957      0     281  2162     0       0     0      0   281         0 0.000000 0.000000
    1    11     299    1684   156146   156146     78321     78321      0     763   786     0       0     0   1865   763         3 0.000000 65.286327
    2   108    6373    5598   414445   414445    405235    405235      0     136   140     0       0     0   6542   136       135 65.286327 49.073077
    3   248   15936     442    31873    31873     30610     30610      0       0     0     0       0     0    419     0         0 49.073077 0.000000
user_io:110957.123MB total_ios: 625123.136MB WriteAmplification: 5.6339
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96151.958 MB data into db.)


2025-01-06 20:29:46 ... thread 0: (100000000,899999999) ops and (72925.3,83912.2) ops/second in (1371.265513,10725.496138) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1539        0        0    124859    124859      0     315  2434     0       0     0      0   315         0 0.000000 0.000000
    1    12     297    1891   175850   175850     88176     88176      0     870   898     0       0     0   2133   870         3 0.000000 65.286327
    2   113    6379    6407   476767   476767    466188    466188      0     178   187     0       0     0   7597   178       135 65.286327 49.073077
    3   289   18656     599    43327    43327     42054     42054      0       0     0     0       0     0    571     0         0 49.073077 0.000000
user_io:124858.895MB total_ios: 721276.945MB WriteAmplification: 5.7767
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109887.955 MB data into db.)


2025-01-06 20:51:34 ... thread 0: (100000000,999999999) ops and (76438.8,83099.7) ops/second in (1308.236004,12033.732142) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7     359    1707        0        0    138761    138761      0     348  2698     0       0     0      0   348         0 0.000000 0.000000
    1    11     304    2096   195154   195154     97819     97819      0     966   996     0       0     0   2399   966         4 0.000000 65.285802
    2   114    6203    7153   534286   534286    522418    522418      0     222   234     0       0     0   8597   222       135 65.285802 49.073077
    3   323   20889     747    54462    54462     52660     52660      0       0     0     0       0     0    720     0         0 49.073077 0.000000
user_io:138760.616MB total_ios: 811657.206MB WriteAmplification: 5.8493
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123623.953 MB data into db.)


1000000000 operations have been finished (137359.952 MB data have been written into db)
fillzipf     :      12.034 micros/op 83099 ops/sec;   11.4 MB/s
Microseconds per op:
Count: 1000000000  Average: 12.0337  StdDev: 130.09
Percentiles: P50: 5.80 P75: 6.86 P99: 12.34 P99.9: 1164.94 P99.99: 1197.75
------------------------------------------------------
[       2,       3 )  206467   0.021%   0.021%
[       3,       4 ) 69142401   6.914%   6.935% #
[       4,       5 ) 188683219  18.868%  25.803% ####
[       5,       6 ) 303994112  30.399%  56.203% ######
[       6,       7 ) 218054330  21.805%  78.008% ####
[       7,       8 ) 114465449  11.447%  89.455% ##
[       8,       9 ) 54656164   5.466%  94.920% #
[       9,      10 ) 24681072   2.468%  97.388%
[      10,      12 ) 15604214   1.560%  98.949%
[      12,      14 ) 3033888   0.303%  99.252%
[      14,      16 )  725116   0.073%  99.325%
[      16,      18 )  296010   0.030%  99.354%
[      18,      20 )  234404   0.023%  99.378%
[      20,      25 )  384085   0.038%  99.416%
[      25,      30 )  132061   0.013%  99.429%
[      30,      35 )   48981   0.005%  99.434%
[      35,      40 )   22576   0.002%  99.436%
[      40,      45 )   14565   0.001%  99.438%
[      45,      50 )    8485   0.001%  99.439%
[      50,      60 )   17324   0.002%  99.440%
[      60,      70 )   21180   0.002%  99.443%
[      70,      80 )   14390   0.001%  99.444%
[      80,      90 )    7749   0.001%  99.445%
[      90,     100 )    3256   0.000%  99.445%
[     100,     120 )    5896   0.001%  99.446%
[     120,     140 )    3618   0.000%  99.446%
[     140,     160 )    1679   0.000%  99.446%
[     160,     180 )    1463   0.000%  99.446%
[     180,     200 )    1444   0.000%  99.447%
[     200,     250 )    5490   0.001%  99.447%
[     250,     300 )    1383   0.000%  99.447%
[     300,     350 )     964   0.000%  99.447%
[     350,     400 )     752   0.000%  99.447%
[     400,     450 )     481   0.000%  99.447%
[     450,     500 )     365   0.000%  99.448%
[     500,     600 )     527   0.000%  99.448%
[     600,     700 )     392   0.000%  99.448%
[     700,     800 )     258   0.000%  99.448%
[     800,     900 )     235   0.000%  99.448%
[     900,    1000 )     166   0.000%  99.448%
[    1000,    1200 ) 5484959   0.548%  99.996%
[    1200,    1400 )    4439   0.000%  99.997%
[    1400,    1600 )    1966   0.000%  99.997%
[    1600,    1800 )    1134   0.000%  99.997%
[    1800,    2000 )     789   0.000%  99.997%
[    2000,    2500 )    1282   0.000%  99.997%
[    2500,    3000 )     920   0.000%  99.997%
[    3000,    3500 )     887   0.000%  99.997%
[    3500,    4000 )     711   0.000%  99.997%
[    4000,    4500 )     810   0.000%  99.997%
[    4500,    5000 )     698   0.000%  99.998%
[    5000,    6000 )    1565   0.000%  99.998%
[    6000,    7000 )    1419   0.000%  99.998%
[    7000,    8000 )    1251   0.000%  99.998%
[    8000,    9000 )    1172   0.000%  99.998%
[    9000,   10000 )    1144   0.000%  99.998%
[   10000,   12000 )    2260   0.000%  99.998%
[   12000,   14000 )    2617   0.000%  99.999%
[   14000,   16000 )    2261   0.000%  99.999%
[   16000,   18000 )    2090   0.000%  99.999%
[   18000,   20000 )    1603   0.000%  99.999%
[   20000,   25000 )    2923   0.000% 100.000%
[   25000,   30000 )    1773   0.000% 100.000%
[   30000,   35000 )    1078   0.000% 100.000%
[   35000,   40000 )     645   0.000% 100.000%
[   40000,   45000 )     346   0.000% 100.000%
[   45000,   50000 )     248   0.000% 100.000%
[   50000,   60000 )     282   0.000% 100.000%
[   60000,   70000 )      70   0.000% 100.000%
[   70000,   80000 )      27   0.000% 100.000%
[   80000,   90000 )       6   0.000% 100.000%
[   90000,  100000 )       7   0.000% 100.000%
[  100000,  120000 )       7   0.000% 100.000%

entering io_statistics1

                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        7      359      1707        0    138761
  1       11      304      2096   195154     97819
  2      114     6203      7153   534286    522418
  3      323    20889       747    54462     52660
user_io:138760.616MB total_ios: 811657.206MB WriteAmplification: 5.8493

Checking if iostat process with PID 2464853 is still running...
    PID TTY          TIME CMD
2464853 pts/5    00:00:00 iostat
iostat process 2464853 is still running, killing now...
iostat process 2464853 has been successfully killed.
base_num: 10000000000
num_entries: 1000000000
value_size:128
stats_interval: 100000000
1B
./leveldb_script_zipf_C0100.sh: line 45: 2464853 Killed                  iostat -d 100 -x $DEVICE_NAME > leveldbf${F}_${num_format}_val_${value_size}_mem${buffer_size_mb}MB_zipf${zipf_a}_IOstats_factor${F}_level1base${level1base}MiB.log

 Performance counter stats for process id '2464854':

     14,568,465.60 msec task-clock                       #    1.211 CPUs utilized
         7,014,406      context-switches                 #  481.479 /sec
             5,424      cpu-migrations                   #    0.372 /sec
        22,474,624      page-faults                      #    1.543 K/sec
45,731,050,991,851      cycles                           #    3.139 GHz
96,097,953,185,120      instructions                     #    2.10  insn per cycle
13,572,195,780,238      branches                         #  931.615 M/sec
    33,326,692,561      branch-misses                    #    0.25% of all branches
                        TopdownL1                 #      1.5 %  tma_backend_bound
                                                  #     91.7 %  tma_bad_speculation
                                                  #      3.3 %  tma_frontend_bound
                                                  #      3.5 %  tma_retiring

   12033.399258794 seconds time elapsed
